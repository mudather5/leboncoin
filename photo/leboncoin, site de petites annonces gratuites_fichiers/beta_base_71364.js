/* jQuery v1.11.2 | (c) 2005, 2014 jQuery Foundation, Inc. | jquery.org/license */
!function(d,c){"object"==typeof module&&"object"==typeof module.exports?module.exports=d.document?c(d,!0):function(b){if(!b.document){throw new Error("jQuery requires a window with a document")}return c(b)}:c(d)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=c.slice,e=c.concat,f=c.push,g=c.indexOf,h={},i=h.toString,j=h.hasOwnProperty,k={},l="1.11.2",m=function(a,b){return new m.fn.init(a,b)},n=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,o=/^-ms-/,p=/-([\da-z])/gi,q=function(a,b){return b.toUpperCase()};m.fn=m.prototype={jquery:l,constructor:m,selector:"",length:0,toArray:function(){return d.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:d.call(this)},pushStack:function(a){var b=m.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a,b){return m.each(this,a,b)},map:function(a){return this.pushStack(m.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(d.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:c.sort,splice:c.splice},m.extend=m.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||m.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++){if(null!=(e=arguments[h])){for(d in e){a=g[d],c=e[d],g!==c&&(j&&c&&(m.isPlainObject(c)||(b=m.isArray(c)))?(b?(b=!1,f=a&&m.isArray(a)?a:[]):f=a&&m.isPlainObject(a)?a:{},g[d]=m.extend(j,f,c)):void 0!==c&&(g[d]=c))}}}return g},m.extend({expando:"jQuery"+(l+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===m.type(a)},isArray:Array.isArray||function(a){return"array"===m.type(a)},isWindow:function(a){return null!=a&&a==a.window},isNumeric:function(a){return !m.isArray(a)&&a-parseFloat(a)+1>=0},isEmptyObject:function(a){var b;for(b in a){return !1}return !0},isPlainObject:function(a){var b;if(!a||"object"!==m.type(a)||a.nodeType||m.isWindow(a)){return !1}try{if(a.constructor&&!j.call(a,"constructor")&&!j.call(a.constructor.prototype,"isPrototypeOf")){return !1}}catch(c){return !1}if(k.ownLast){for(b in a){return j.call(a,b)}}for(b in a){}return void 0===b||j.call(a,b)},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?h[i.call(a)]||"object":typeof a},globalEval:function(b){b&&m.trim(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(o,"ms-").replace(p,q)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b,c){var d,e=0,f=a.length,g=r(a);if(c){if(g){for(;f>e;e++){if(d=b.apply(a[e],c),d===!1){break}}}else{for(e in a){if(d=b.apply(a[e],c),d===!1){break}}}}else{if(g){for(;f>e;e++){if(d=b.call(a[e],e,a[e]),d===!1){break}}}else{for(e in a){if(d=b.call(a[e],e,a[e]),d===!1){break}}}}return a},trim:function(a){return null==a?"":(a+"").replace(n,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(r(Object(a))?m.merge(c,"string"==typeof a?[a]:a):f.call(c,a)),c},inArray:function(a,b,c){var d;if(b){if(g){return g.call(b,a,c)}for(d=b.length,c=c?0>c?Math.max(0,d+c):c:0;d>c;c++){if(c in b&&b[c]===a){return c}}}return -1},merge:function(a,b){var c=+b.length,d=0,e=a.length;while(c>d){a[e++]=b[d++]}if(c!==c){while(void 0!==b[d]){a[e++]=b[d++]}}return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++){d=!b(a[f],f),d!==h&&e.push(a[f])}return e},map:function(a,b,c){var d,f=0,g=a.length,h=r(a),i=[];if(h){for(;g>f;f++){d=b(a[f],f,c),null!=d&&i.push(d)}}else{for(f in a){d=b(a[f],f,c),null!=d&&i.push(d)}}return e.apply([],i)},guid:1,proxy:function(a,b){var c,e,f;return"string"==typeof b&&(f=a[b],b=a,a=f),m.isFunction(a)?(c=d.call(arguments,2),e=function(){return a.apply(b||this,c.concat(d.call(arguments)))},e.guid=a.guid=a.guid||m.guid++,e):void 0},now:function(){return +new Date},support:k}),m.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(a,b){h["[object "+b+"]"]=b.toLowerCase()});function r(a){var b=a.length,c=m.type(a);return"function"===c||m.isWindow(a)?!1:1===a.nodeType&&b?!0:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var s=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=hb(),z=hb(),A=hb(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++){if(a[c]===b){return c}}return -1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N=M.replace("w","w#"),O="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+N+"))|)"+L+"*\\]",P=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+O+")*)|.*)\\)|)",Q=new RegExp(L+"+","g"),R=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),S=new RegExp("^"+L+"*,"+L+"*"),T=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),U=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),V=new RegExp(P),W=new RegExp("^"+N+"$"),X={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M.replace("w","w*")+")"),ATTR:new RegExp("^"+O),PSEUDO:new RegExp("^"+P),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},Y=/^(?:input|select|textarea|button)$/i,Z=/^h\d$/i,$=/^[^{]+\{\s*\[native \w/,_=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ab=/[+~]/,bb=/'|\\/g,cb=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),db=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},eb=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(fb){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]){}a.length=c-1}}}function gb(a,b,d,e){var f,h,j,k,l,o,r,s,w,x;if((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,d=d||[],k=b.nodeType,"string"!=typeof a||!a||1!==k&&9!==k&&11!==k){return d}if(!e&&p){if(11!==k&&(f=_.exec(a))){if(j=f[1]){if(9===k){if(h=b.getElementById(j),!h||!h.parentNode){return d}if(h.id===j){return d.push(h),d}}else{if(b.ownerDocument&&(h=b.ownerDocument.getElementById(j))&&t(b,h)&&h.id===j){return d.push(h),d}}}else{if(f[2]){return H.apply(d,b.getElementsByTagName(a)),d}if((j=f[3])&&c.getElementsByClassName){return H.apply(d,b.getElementsByClassName(j)),d}}}if(c.qsa&&(!q||!q.test(a))){if(s=r=u,w=b,x=1!==k&&a,1===k&&"object"!==b.nodeName.toLowerCase()){o=g(a),(r=b.getAttribute("id"))?s=r.replace(bb,"\\$&"):b.setAttribute("id",s),s="[id='"+s+"'] ",l=o.length;while(l--){o[l]=s+rb(o[l])}w=ab.test(a)&&pb(b.parentNode)||b,x=o.join(",")}if(x){try{return H.apply(d,w.querySelectorAll(x)),d}catch(y){}finally{r||b.removeAttribute("id")}}}}return i(a.replace(R,"$1"),b,d,e)}function hb(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ib(a){return a[u]=!0,a}function jb(a){var b=n.createElement("div");try{return !!a(b)}catch(c){return !1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function kb(a,b){var c=a.split("|"),e=a.length;while(e--){d.attrHandle[c[e]]=b}}function lb(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d){return d}if(c){while(c=c.nextSibling){if(c===b){return -1}}}return a?1:-1}function mb(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function nb(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function ob(a){return ib(function(b){return b=+b,ib(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--){c[e=f[g]]&&(c[e]=!(d[e]=c[e]))}})})}function pb(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=gb.support={},f=gb.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=gb.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=g.documentElement,e=g.defaultView,e&&e!==e.top&&(e.addEventListener?e.addEventListener("unload",eb,!1):e.attachEvent&&e.attachEvent("onunload",eb)),p=!f(g),c.attributes=jb(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=jb(function(a){return a.appendChild(g.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=$.test(g.getElementsByClassName),c.getById=jb(function(a){return o.appendChild(a).id=u,!g.getElementsByName||!g.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c&&c.parentNode?[c]:[]}},d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(cb,db);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++]){1===c.nodeType&&d.push(c)}return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=$.test(g.querySelectorAll))&&(jb(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\f]' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),jb(function(a){var b=g.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=$.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&jb(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",P)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=$.test(o.compareDocumentPosition),t=b||$.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b){while(b=b.parentNode){if(b===a){return !0}}}return !1},B=b?function(a,b){if(a===b){return l=!0,0}var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===g||a.ownerDocument===v&&t(v,a)?-1:b===g||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b){return l=!0,0}var c,d=0,e=a.parentNode,f=b.parentNode,h=[a],i=[b];if(!e||!f){return a===g?-1:b===g?1:e?-1:f?1:k?J(k,a)-J(k,b):0}if(e===f){return lb(a,b)}c=a;while(c=c.parentNode){h.unshift(c)}c=b;while(c=c.parentNode){i.unshift(c)}while(h[d]===i[d]){d++}return d?lb(h[d],i[d]):h[d]===v?-1:i[d]===v?1:0},g):n},gb.matches=function(a,b){return gb(a,null,null,b)},gb.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(U,"='$1']"),!(!c.matchesSelector||!p||r&&r.test(b)||q&&q.test(b))){try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType){return d}}catch(e){}}return gb(b,n,null,[a]).length>0},gb.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},gb.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},gb.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},gb.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++]){b===a[f]&&(e=d.push(f))}while(e--){a.splice(d[e],1)}}return k=null,a},e=gb.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent){return a.textContent}for(a=a.firstChild;a;a=a.nextSibling){c+=e(a)}}else{if(3===f||4===f){return a.nodeValue}}}else{while(b=a[d++]){c+=e(b)}}return c},d=gb.selectors={cacheLength:50,createPseudo:ib,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(cb,db),a[3]=(a[3]||a[4]||a[5]||"").replace(cb,db),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||gb.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&gb.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return X.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&V.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(cb,db).toLowerCase();return"*"===a?function(){return !0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=gb.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(Q," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return !!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h;if(q){if(f){while(p){l=b;while(l=l[p]){if(h?l.nodeName.toLowerCase()===r:1===l.nodeType){return !1}}o=p="only"===a&&!o&&"nextSibling"}return !0}if(o=[g?q.firstChild:q.lastChild],g&&s){k=q[u]||(q[u]={}),j=k[a]||[],n=j[0]===w&&j[1],m=j[0]===w&&j[2],l=n&&q.childNodes[n];while(l=++n&&l&&l[p]||(m=n=0)||o.pop()){if(1===l.nodeType&&++m&&l===b){k[a]=[w,n,m];break}}}else{if(s&&(j=(b[u]||(b[u]={}))[a])&&j[0]===w){m=j[1]}else{while(l=++n&&l&&l[p]||(m=n=0)||o.pop()){if((h?l.nodeName.toLowerCase()===r:1===l.nodeType)&&++m&&(s&&((l[u]||(l[u]={}))[a]=[w,m]),l===b)){break}}}}return m-=e,m===d||m%d===0&&m/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||gb.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ib(function(a,c){var d,f=e(a,b),g=f.length;while(g--){d=J(a,f[g]),a[d]=!(c[d]=f[g])}}):function(a){return e(a,0,c)}):e}},pseudos:{not:ib(function(a){var b=[],c=[],d=h(a.replace(R,"$1"));return d[u]?ib(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--){(f=g[h])&&(a[h]=!(b[h]=f))}}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ib(function(a){return function(b){return gb(a,b).length>0}}),contains:ib(function(a){return a=a.replace(cb,db),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ib(function(a){return W.test(a||"")||gb.error("unsupported lang: "+a),a=a.replace(cb,db).toLowerCase(),function(b){var c;do{if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang")){return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-")}}while((b=b.parentNode)&&1===b.nodeType);return !1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling){if(a.nodeType<6){return !1}}return !0},parent:function(a){return !d.pseudos.empty(a)},header:function(a){return Z.test(a.nodeName)},input:function(a){return Y.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:ob(function(){return[0]}),last:ob(function(a,b){return[b-1]}),eq:ob(function(a,b,c){return[0>c?c+b:c]}),even:ob(function(a,b){for(var c=0;b>c;c+=2){a.push(c)}return a}),odd:ob(function(a,b){for(var c=1;b>c;c+=2){a.push(c)}return a}),lt:ob(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;){a.push(d)}return a}),gt:ob(function(a,b,c){for(var d=0>c?c+b:c;++d<b;){a.push(d)}return a})}},d.pseudos.nth=d.pseudos.eq;for(b in {radio:!0,checkbox:!0,file:!0,password:!0,image:!0}){d.pseudos[b]=mb(b)}for(b in {submit:!0,reset:!0}){d.pseudos[b]=nb(b)}function qb(){}qb.prototype=d.filters=d.pseudos,d.setFilters=new qb,g=gb.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k){return b?0:k.slice(0)}h=a,i=[],j=d.preFilter;while(h){(!c||(e=S.exec(h)))&&(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=T.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(R," ")}),h=h.slice(c.length));for(g in d.filter){!(e=X[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length))}if(!c){break}}return b?h.length:h?gb.error(a):z(a,i).slice(0)};function rb(a){for(var b=0,c=a.length,d="";c>b;b++){d+=a[b].value}return d}function sb(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d]){if(1===b.nodeType||e){return a(b,c,f)}}}:function(b,c,g){var h,i,j=[w,f];if(g){while(b=b[d]){if((1===b.nodeType||e)&&a(b,c,g)){return !0}}}else{while(b=b[d]){if(1===b.nodeType||e){if(i=b[u]||(b[u]={}),(h=i[d])&&h[0]===w&&h[1]===f){return j[2]=h[2]}if(i[d]=j,j[2]=a(b,c,g)){return !0}}}}}}function tb(a){return a.length>1?function(b,c,d){var e=a.length;while(e--){if(!a[e](b,c,d)){return !1}}return !0}:a[0]}function ub(a,b,c){for(var d=0,e=b.length;e>d;d++){gb(a,b[d],c)}return c}function vb(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++){(f=a[h])&&(!c||c(f,d,e))&&(g.push(f),j&&b.push(h))}return g}function wb(a,b,c,d,e,f){return d&&!d[u]&&(d=wb(d)),e&&!e[u]&&(e=wb(e,f)),ib(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ub(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:vb(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=vb(r,n),d(j,[],h,i),k=j.length;while(k--){(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}}if(f){if(e||a){if(e){j=[],k=r.length;while(k--){(l=r[k])&&j.push(q[k]=l)}e(null,r=[],j,i)}k=r.length;while(k--){(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}}else{r=vb(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)}})}function xb(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=sb(function(a){return a===b},h,!0),l=sb(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++){if(c=d.relative[a[i].type]){m=[sb(tb(m),c)]}else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++){if(d.relative[a[e].type]){break}}return wb(i>1&&tb(m),i>1&&rb(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(R,"$1"),c,e>i&&xb(a.slice(i,e)),f>e&&xb(a=a.slice(e)),f>e&&rb(a))}m.push(c)}}return tb(m)}function yb(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,m,o,p=0,q="0",r=f&&[],s=[],t=j,u=f||e&&d.find.TAG("*",k),v=w+=null==t?1:Math.random()||0.1,x=u.length;for(k&&(j=g!==n&&g);q!==x&&null!=(l=u[q]);q++){if(e&&l){m=0;while(o=a[m++]){if(o(l,g,h)){i.push(l);break}}k&&(w=v)}c&&((l=!o&&l)&&p--,f&&r.push(l))}if(p+=q,c&&q!==p){m=0;while(o=b[m++]){o(r,s,g,h)}if(f){if(p>0){while(q--){r[q]||s[q]||(s[q]=F.call(i))}}s=vb(s)}H.apply(i,s),k&&!f&&s.length>0&&p+b.length>1&&gb.uniqueSort(i)}return k&&(w=v,j=t),r};return c?ib(f):f}return h=gb.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--){f=xb(b[c]),f[u]?d.push(f):e.push(f)}f=A(a,yb(e,d)),f.selector=a}return f},i=gb.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(cb,db),b)||[])[0],!b){return e}n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=X.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type]){break}if((m=d.find[l])&&(f=m(k.matches[0].replace(cb,db),ab.test(j[0].type)&&pb(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&rb(j),!a){return H.apply(e,f),e}break}}}return(n||h(a,o))(f,b,!p,e,ab.test(a)&&pb(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=jb(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),jb(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||kb("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&jb(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||kb("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),jb(function(a){return null==a.getAttribute("disabled")})||kb(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),gb}(a);m.find=s,m.expr=s.selectors,m.expr[":"]=m.expr.pseudos,m.unique=s.uniqueSort,m.text=s.getText,m.isXMLDoc=s.isXML,m.contains=s.contains;var t=m.expr.match.needsContext,u=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,v=/^.[^:#\[\.,]*$/;function w(a,b,c){if(m.isFunction(b)){return m.grep(a,function(a,d){return !!b.call(a,d,a)!==c})}if(b.nodeType){return m.grep(a,function(a){return a===b!==c})}if("string"==typeof b){if(v.test(b)){return m.filter(b,a,c)}b=m.filter(b,a)}return m.grep(a,function(a){return m.inArray(a,b)>=0!==c})}m.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?m.find.matchesSelector(d,a)?[d]:[]:m.find.matches(a,m.grep(b,function(a){return 1===a.nodeType}))},m.fn.extend({find:function(a){var b,c=[],d=this,e=d.length;if("string"!=typeof a){return this.pushStack(m(a).filter(function(){for(b=0;e>b;b++){if(m.contains(d[b],this)){return !0}}}))}for(b=0;e>b;b++){m.find(a,d[b],c)}return c=this.pushStack(e>1?m.unique(c):c),c.selector=this.selector?this.selector+" "+a:a,c},filter:function(a){return this.pushStack(w(this,a||[],!1))},not:function(a){return this.pushStack(w(this,a||[],!0))},is:function(a){return !!w(this,"string"==typeof a&&t.test(a)?m(a):a||[],!1).length}});var x,y=a.document,z=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,A=m.fn.init=function(a,b){var c,d;if(!a){return this}if("string"==typeof a){if(c="<"===a.charAt(0)&&">"===a.charAt(a.length-1)&&a.length>=3?[null,a,null]:z.exec(a),!c||!c[1]&&b){return !b||b.jquery?(b||x).find(a):this.constructor(b).find(a)}if(c[1]){if(b=b instanceof m?b[0]:b,m.merge(this,m.parseHTML(c[1],b&&b.nodeType?b.ownerDocument||b:y,!0)),u.test(c[1])&&m.isPlainObject(b)){for(c in b){m.isFunction(this[c])?this[c](b[c]):this.attr(c,b[c])}}return this}if(d=y.getElementById(c[2]),d&&d.parentNode){if(d.id!==c[2]){return x.find(a)}this.length=1,this[0]=d}return this.context=y,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):m.isFunction(a)?"undefined"!=typeof x.ready?x.ready(a):a(m):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),m.makeArray(a,this))};A.prototype=m.fn,x=m(y);var B=/^(?:parents|prev(?:Until|All))/,C={children:!0,contents:!0,next:!0,prev:!0};m.extend({dir:function(a,b,c){var d=[],e=a[b];while(e&&9!==e.nodeType&&(void 0===c||1!==e.nodeType||!m(e).is(c))){1===e.nodeType&&d.push(e),e=e[b]}return d},sibling:function(a,b){for(var c=[];a;a=a.nextSibling){1===a.nodeType&&a!==b&&c.push(a)}return c}}),m.fn.extend({has:function(a){var b,c=m(a,this),d=c.length;return this.filter(function(){for(b=0;d>b;b++){if(m.contains(this,c[b])){return !0}}})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=t.test(a)||"string"!=typeof a?m(a,b||this.context):0;e>d;d++){for(c=this[d];c&&c!==b;c=c.parentNode){if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&m.find.matchesSelector(c,a))){f.push(c);break}}}return this.pushStack(f.length>1?m.unique(f):f)},index:function(a){return a?"string"==typeof a?m.inArray(this[0],m(a)):m.inArray(a.jquery?a[0]:a,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(m.unique(m.merge(this.get(),m(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function D(a,b){do{a=a[b]}while(a&&1!==a.nodeType);return a}m.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return m.dir(a,"parentNode")},parentsUntil:function(a,b,c){return m.dir(a,"parentNode",c)},next:function(a){return D(a,"nextSibling")},prev:function(a){return D(a,"previousSibling")},nextAll:function(a){return m.dir(a,"nextSibling")},prevAll:function(a){return m.dir(a,"previousSibling")},nextUntil:function(a,b,c){return m.dir(a,"nextSibling",c)},prevUntil:function(a,b,c){return m.dir(a,"previousSibling",c)},siblings:function(a){return m.sibling((a.parentNode||{}).firstChild,a)},children:function(a){return m.sibling(a.firstChild)},contents:function(a){return m.nodeName(a,"iframe")?a.contentDocument||a.contentWindow.document:m.merge([],a.childNodes)}},function(a,b){m.fn[a]=function(c,d){var e=m.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=m.filter(d,e)),this.length>1&&(C[a]||(e=m.unique(e)),B.test(a)&&(e=e.reverse())),this.pushStack(e)}});var E=/\S+/g,F={};function G(a){var b=F[a]={};return m.each(a.match(E)||[],function(a,c){b[c]=!0}),b}m.Callbacks=function(a){a="string"==typeof a?F[a]||G(a):m.extend({},a);var b,c,d,e,f,g,h=[],i=!a.once&&[],j=function(l){for(c=a.memory&&l,d=!0,f=g||0,g=0,e=h.length,b=!0;h&&e>f;f++){if(h[f].apply(l[0],l[1])===!1&&a.stopOnFalse){c=!1;break}}b=!1,h&&(i?i.length&&j(i.shift()):c?h=[]:k.disable())},k={add:function(){if(h){var d=h.length;!function f(b){m.each(b,function(b,c){var d=m.type(c);"function"===d?a.unique&&k.has(c)||h.push(c):c&&c.length&&"string"!==d&&f(c)})}(arguments),b?e=h.length:c&&(g=d,j(c))}return this},remove:function(){return h&&m.each(arguments,function(a,c){var d;while((d=m.inArray(c,h,d))>-1){h.splice(d,1),b&&(e>=d&&e--,f>=d&&f--)}}),this},has:function(a){return a?m.inArray(a,h)>-1:!(!h||!h.length)},empty:function(){return h=[],e=0,this},disable:function(){return h=i=c=void 0,this},disabled:function(){return !h},lock:function(){return i=void 0,c||k.disable(),this},locked:function(){return !i},fireWith:function(a,c){return !h||d&&!i||(c=c||[],c=[a,c.slice?c.slice():c],b?i.push(c):j(c)),this},fire:function(){return k.fireWith(this,arguments),this},fired:function(){return !!d}};return k},m.extend({Deferred:function(a){var b=[["resolve","done",m.Callbacks("once memory"),"resolved"],["reject","fail",m.Callbacks("once memory"),"rejected"],["notify","progress",m.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return m.Deferred(function(c){m.each(b,function(b,f){var g=m.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&m.isFunction(a.promise)?a.promise().done(c.resolve).fail(c.reject).progress(c.notify):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?m.extend(a,d):d}},e={};return d.pipe=d.then,m.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=d.call(arguments),e=c.length,f=1!==e||a&&m.isFunction(a.promise)?e:0,g=1===f?a:m.Deferred(),h=function(a,b,c){return function(e){b[a]=this,c[a]=arguments.length>1?d.call(arguments):e,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(e>1){for(i=new Array(e),j=new Array(e),k=new Array(e);e>b;b++){c[b]&&m.isFunction(c[b].promise)?c[b].promise().done(h(b,k,c)).fail(g.reject).progress(h(b,j,i)):--f}}return f||g.resolveWith(k,c),g.promise()}});var H;m.fn.ready=function(a){return m.ready.promise().done(a),this},m.extend({isReady:!1,readyWait:1,holdReady:function(a){a?m.readyWait++:m.ready(!0)},ready:function(a){if(a===!0?!--m.readyWait:!m.isReady){if(!y.body){return setTimeout(m.ready)}m.isReady=!0,a!==!0&&--m.readyWait>0||(H.resolveWith(y,[m]),m.fn.triggerHandler&&(m(y).triggerHandler("ready"),m(y).off("ready")))}}});function I(){y.addEventListener?(y.removeEventListener("DOMContentLoaded",J,!1),a.removeEventListener("load",J,!1)):(y.detachEvent("onreadystatechange",J),a.detachEvent("onload",J))}function J(){(y.addEventListener||"load"===event.type||"complete"===y.readyState)&&(I(),m.ready())}m.ready.promise=function(b){if(!H){if(H=m.Deferred(),"complete"===y.readyState){setTimeout(m.ready)}else{if(y.addEventListener){y.addEventListener("DOMContentLoaded",J,!1),a.addEventListener("load",J,!1)}else{y.attachEvent("onreadystatechange",J),a.attachEvent("onload",J);var c=!1;try{c=null==a.frameElement&&y.documentElement}catch(d){}c&&c.doScroll&&!function e(){if(!m.isReady){try{c.doScroll("left")}catch(a){return setTimeout(e,50)}I(),m.ready()}}()}}}return H.promise(b)};var K="undefined",L;for(L in m(k)){break}k.ownLast="0"!==L,k.inlineBlockNeedsLayout=!1,m(function(){var a,b,c,d;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1",k.inlineBlockNeedsLayout=a=3===b.offsetWidth,a&&(c.style.zoom=1)),c.removeChild(d))}),function(){var a=y.createElement("div");if(null==k.deleteExpando){k.deleteExpando=!0;try{delete a.test}catch(b){k.deleteExpando=!1}}a=null}(),m.acceptData=function(a){var b=m.noData[(a.nodeName+" ").toLowerCase()],c=+a.nodeType||1;return 1!==c&&9!==c?!1:!b||b!==!0&&a.getAttribute("classid")===b};var M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,N=/([A-Z])/g;function O(a,b,c){if(void 0===c&&1===a.nodeType){var d="data-"+b.replace(N,"-$1").toLowerCase();if(c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:M.test(c)?m.parseJSON(c):c}catch(e){}m.data(a,b,c)}else{c=void 0}}return c}function P(a){var b;for(b in a){if(("data"!==b||!m.isEmptyObject(a[b]))&&"toJSON"!==b){return !1}}return !0}function Q(a,b,d,e){if(m.acceptData(a)){var f,g,h=m.expando,i=a.nodeType,j=i?m.cache:a,k=i?a[h]:a[h]&&h;if(k&&j[k]&&(e||j[k].data)||void 0!==d||"string"!=typeof b){return k||(k=i?a[h]=c.pop()||m.guid++:h),j[k]||(j[k]=i?{}:{toJSON:m.noop}),("object"==typeof b||"function"==typeof b)&&(e?j[k]=m.extend(j[k],b):j[k].data=m.extend(j[k].data,b)),g=j[k],e||(g.data||(g.data={}),g=g.data),void 0!==d&&(g[m.camelCase(b)]=d),"string"==typeof b?(f=g[b],null==f&&(f=g[m.camelCase(b)])):f=g,f}}}function R(a,b,c){if(m.acceptData(a)){var d,e,f=a.nodeType,g=f?m.cache:a,h=f?a[m.expando]:m.expando;if(g[h]){if(b&&(d=c?g[h]:g[h].data)){m.isArray(b)?b=b.concat(m.map(b,m.camelCase)):b in d?b=[b]:(b=m.camelCase(b),b=b in d?[b]:b.split(" ")),e=b.length;while(e--){delete d[b[e]]}if(c?!P(d):!m.isEmptyObject(d)){return}}(c||(delete g[h].data,P(g[h])))&&(f?m.cleanData([a],!0):k.deleteExpando||g!=g.window?delete g[h]:g[h]=null)}}}m.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(a){return a=a.nodeType?m.cache[a[m.expando]]:a[m.expando],!!a&&!P(a)},data:function(a,b,c){return Q(a,b,c)},removeData:function(a,b){return R(a,b)},_data:function(a,b,c){return Q(a,b,c,!0)},_removeData:function(a,b){return R(a,b,!0)}}),m.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=m.data(f),1===f.nodeType&&!m._data(f,"parsedAttrs"))){c=g.length;while(c--){g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=m.camelCase(d.slice(5)),O(f,d,e[d])))}m._data(f,"parsedAttrs",!0)}return e}return"object"==typeof a?this.each(function(){m.data(this,a)}):arguments.length>1?this.each(function(){m.data(this,a,b)}):f?O(f,a,m.data(f,a)):void 0},removeData:function(a){return this.each(function(){m.removeData(this,a)})}}),m.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=m._data(a,b),c&&(!d||m.isArray(c)?d=m._data(a,b,m.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=m.queue(a,b),d=c.length,e=c.shift(),f=m._queueHooks(a,b),g=function(){m.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return m._data(a,c)||m._data(a,c,{empty:m.Callbacks("once memory").add(function(){m._removeData(a,b+"queue"),m._removeData(a,c)})})}}),m.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?m.queue(this[0],a):void 0===b?this:this.each(function(){var c=m.queue(this,a,b);m._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&m.dequeue(this,a)})},dequeue:function(a){return this.each(function(){m.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=m.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--){c=m._data(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h))}return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=["Top","Right","Bottom","Left"],U=function(a,b){return a=b||a,"none"===m.css(a,"display")||!m.contains(a.ownerDocument,a)},V=m.access=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===m.type(c)){e=!0;for(h in c){m.access(a,b,h,c[h],!0,f,g)}}else{if(void 0!==d&&(e=!0,m.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(m(a),c)})),b)){for(;i>h;h++){b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)))}}}return e?a:j?b.call(a):i?b(a[0],c):f},W=/^(?:checkbox|radio)$/i;!function(){var a=y.createElement("input"),b=y.createElement("div"),c=y.createDocumentFragment();if(b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",k.leadingWhitespace=3===b.firstChild.nodeType,k.tbody=!b.getElementsByTagName("tbody").length,k.htmlSerialize=!!b.getElementsByTagName("link").length,k.html5Clone="<:nav></:nav>"!==y.createElement("nav").cloneNode(!0).outerHTML,a.type="checkbox",a.checked=!0,c.appendChild(a),k.appendChecked=a.checked,b.innerHTML="<textarea>x</textarea>",k.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue,c.appendChild(b),b.innerHTML="<input type='radio' checked='checked' name='t'/>",k.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,k.noCloneEvent=!0,b.attachEvent&&(b.attachEvent("onclick",function(){k.noCloneEvent=!1}),b.cloneNode(!0).click()),null==k.deleteExpando){k.deleteExpando=!0;try{delete b.test}catch(d){k.deleteExpando=!1}}}(),function(){var b,c,d=y.createElement("div");for(b in {submit:!0,change:!0,focusin:!0}){c="on"+b,(k[b+"Bubbles"]=c in a)||(d.setAttribute(c,"t"),k[b+"Bubbles"]=d.attributes[c].expando===!1)}d=null}();var X=/^(?:input|select|textarea)$/i,Y=/^key/,Z=/^(?:mouse|pointer|contextmenu)|click/,$=/^(?:focusinfocus|focusoutblur)$/,_=/^([^.]*)(?:\.(.+)|)$/;function ab(){return !0}function bb(){return !1}function cb(){try{return y.activeElement}catch(a){}}m.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m._data(a);if(r){c.handler&&(i=c,c=i.handler,e=i.selector),c.guid||(c.guid=m.guid++),(g=r.events)||(g=r.events={}),(k=r.handle)||(k=r.handle=function(a){return typeof m===K||a&&m.event.triggered===a.type?void 0:m.event.dispatch.apply(k.elem,arguments)},k.elem=a),b=(b||"").match(E)||[""],h=b.length;while(h--){f=_.exec(b[h])||[],o=q=f[1],p=(f[2]||"").split(".").sort(),o&&(j=m.event.special[o]||{},o=(e?j.delegateType:j.bindType)||o,j=m.event.special[o]||{},l=m.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&m.expr.match.needsContext.test(e),namespace:p.join(".")},i),(n=g[o])||(n=g[o]=[],n.delegateCount=0,j.setup&&j.setup.call(a,d,p,k)!==!1||(a.addEventListener?a.addEventListener(o,k,!1):a.attachEvent&&a.attachEvent("on"+o,k))),j.add&&(j.add.call(a,l),l.handler.guid||(l.handler.guid=c.guid)),e?n.splice(n.delegateCount++,0,l):n.push(l),m.event.global[o]=!0)}a=null}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,n,o,p,q,r=m.hasData(a)&&m._data(a);if(r&&(k=r.events)){b=(b||"").match(E)||[""],j=b.length;while(j--){if(h=_.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=m.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,n=k[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),i=f=n.length;while(f--){g=n[f],!e&&q!==g.origType||c&&c.guid!==g.guid||h&&!h.test(g.namespace)||d&&d!==g.selector&&("**"!==d||!g.selector)||(n.splice(f,1),g.selector&&n.delegateCount--,l.remove&&l.remove.call(a,g))}i&&!n.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||m.removeEvent(a,o,r.handle),delete k[o])}else{for(o in k){m.event.remove(a,o+b[j],c,d,!0)}}}m.isEmptyObject(k)&&(delete r.handle,m._removeData(a,"events"))}},trigger:function(b,c,d,e){var f,g,h,i,k,l,n,o=[d||y],p=j.call(b,"type")?b.type:b,q=j.call(b,"namespace")?b.namespace.split("."):[];if(h=l=d=d||y,3!==d.nodeType&&8!==d.nodeType&&!$.test(p+m.event.triggered)&&(p.indexOf(".")>=0&&(q=p.split("."),p=q.shift(),q.sort()),g=p.indexOf(":")<0&&"on"+p,b=b[m.expando]?b:new m.Event(p,"object"==typeof b&&b),b.isTrigger=e?2:3,b.namespace=q.join("."),b.namespace_re=b.namespace?new RegExp("(^|\\.)"+q.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=d),c=null==c?[b]:m.makeArray(c,[b]),k=m.event.special[p]||{},e||!k.trigger||k.trigger.apply(d,c)!==!1)){if(!e&&!k.noBubble&&!m.isWindow(d)){for(i=k.delegateType||p,$.test(i+p)||(h=h.parentNode);h;h=h.parentNode){o.push(h),l=h}l===(d.ownerDocument||y)&&o.push(l.defaultView||l.parentWindow||a)}n=0;while((h=o[n++])&&!b.isPropagationStopped()){b.type=n>1?i:k.bindType||p,f=(m._data(h,"events")||{})[b.type]&&m._data(h,"handle"),f&&f.apply(h,c),f=g&&h[g],f&&f.apply&&m.acceptData(h)&&(b.result=f.apply(h,c),b.result===!1&&b.preventDefault())}if(b.type=p,!e&&!b.isDefaultPrevented()&&(!k._default||k._default.apply(o.pop(),c)===!1)&&m.acceptData(d)&&g&&d[p]&&!m.isWindow(d)){l=d[g],l&&(d[g]=null),m.event.triggered=p;try{d[p]()}catch(r){}m.event.triggered=void 0,l&&(d[g]=l)}return b.result}},dispatch:function(a){a=m.event.fix(a);var b,c,e,f,g,h=[],i=d.call(arguments),j=(m._data(this,"events")||{})[a.type]||[],k=m.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=m.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,g=0;while((e=f.handlers[g++])&&!a.isImmediatePropagationStopped()){(!a.namespace_re||a.namespace_re.test(e.namespace))&&(a.handleObj=e,a.data=e.data,c=((m.event.special[e.origType]||{}).handle||e.handler).apply(f.elem,i),void 0!==c&&(a.result=c)===!1&&(a.preventDefault(),a.stopPropagation()))}}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&(!a.button||"click"!==a.type)){for(;i!=this;i=i.parentNode||this){if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(e=[],f=0;h>f;f++){d=b[f],c=d.selector+" ",void 0===e[c]&&(e[c]=d.needsContext?m(c,this).index(i)>=0:m.find(c,this,null,[i]).length),e[c]&&e.push(d)}e.length&&g.push({elem:i,handlers:e})}}}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},fix:function(a){if(a[m.expando]){return a}var b,c,d,e=a.type,f=a,g=this.fixHooks[e];g||(this.fixHooks[e]=g=Z.test(e)?this.mouseHooks:Y.test(e)?this.keyHooks:{}),d=g.props?this.props.concat(g.props):this.props,a=new m.Event(f),b=d.length;while(b--){c=d[b],a[c]=f[c]}return a.target||(a.target=f.srcElement||y),3===a.target.nodeType&&(a.target=a.target.parentNode),a.metaKey=!!a.metaKey,g.filter?g.filter(a,f):a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,d,e,f=b.button,g=b.fromElement;return null==a.pageX&&null!=b.clientX&&(d=a.target.ownerDocument||y,e=d.documentElement,c=d.body,a.pageX=b.clientX+(e&&e.scrollLeft||c&&c.scrollLeft||0)-(e&&e.clientLeft||c&&c.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||c&&c.scrollTop||0)-(e&&e.clientTop||c&&c.clientTop||0)),!a.relatedTarget&&g&&(a.relatedTarget=g===a.target?b.toElement:g),a.which||void 0===f||(a.which=1&f?1:2&f?3:4&f?2:0),a}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==cb()&&this.focus){try{return this.focus(),!1}catch(a){}}},delegateType:"focusin"},blur:{trigger:function(){return this===cb()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return m.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(a){return m.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}},simulate:function(a,b,c,d){var e=m.extend(new m.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?m.event.trigger(e,null,b):m.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},m.removeEvent=y.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){var d="on"+b;a.detachEvent&&(typeof a[d]===K&&(a[d]=null),a.detachEvent(d,c))},m.Event=function(a,b){return this instanceof m.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ab:bb):this.type=a,b&&m.extend(this,b),this.timeStamp=a&&a.timeStamp||m.now(),void (this[m.expando]=!0)):new m.Event(a,b)},m.Event.prototype={isDefaultPrevented:bb,isPropagationStopped:bb,isImmediatePropagationStopped:bb,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ab,a&&(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ab,a&&(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ab,a&&a.stopImmediatePropagation&&a.stopImmediatePropagation(),this.stopPropagation()}},m.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){m.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return(!e||e!==d&&!m.contains(d,e))&&(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),k.submitBubbles||(m.event.special.submit={setup:function(){return m.nodeName(this,"form")?!1:void m.event.add(this,"click._submit keypress._submit",function(a){var b=a.target,c=m.nodeName(b,"input")||m.nodeName(b,"button")?b.form:void 0;c&&!m._data(c,"submitBubbles")&&(m.event.add(c,"submit._submit",function(a){a._submit_bubble=!0}),m._data(c,"submitBubbles",!0))})},postDispatch:function(a){a._submit_bubble&&(delete a._submit_bubble,this.parentNode&&!a.isTrigger&&m.event.simulate("submit",this.parentNode,a,!0))},teardown:function(){return m.nodeName(this,"form")?!1:void m.event.remove(this,"._submit")}}),k.changeBubbles||(m.event.special.change={setup:function(){return X.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(m.event.add(this,"propertychange._change",function(a){"checked"===a.originalEvent.propertyName&&(this._just_changed=!0)}),m.event.add(this,"click._change",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1),m.event.simulate("change",this,a,!0)})),!1):void m.event.add(this,"beforeactivate._change",function(a){var b=a.target;X.test(b.nodeName)&&!m._data(b,"changeBubbles")&&(m.event.add(b,"change._change",function(a){!this.parentNode||a.isSimulated||a.isTrigger||m.event.simulate("change",this.parentNode,a,!0)}),m._data(b,"changeBubbles",!0))})},handle:function(a){var b=a.target;return this!==b||a.isSimulated||a.isTrigger||"radio"!==b.type&&"checkbox"!==b.type?a.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return m.event.remove(this,"._change"),!X.test(this.nodeName)}}),k.focusinBubbles||m.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){m.event.simulate(b,a.target,m.event.fix(a),!0)};m.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=m._data(d,b);e||d.addEventListener(a,c,!0),m._data(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=m._data(d,b)-1;e?m._data(d,b,e):(d.removeEventListener(a,c,!0),m._removeData(d,b))}}}),m.fn.extend({on:function(a,b,c,d,e){var f,g;if("object"==typeof a){"string"!=typeof b&&(c=c||b,b=void 0);for(f in a){this.on(f,b,c,a[f],e)}return this}if(null==c&&null==d?(d=b,c=b=void 0):null==d&&("string"==typeof b?(d=c,c=void 0):(d=c,c=b,b=void 0)),d===!1){d=bb}else{if(!d){return this}}return 1===e&&(g=d,d=function(a){return m().off(a),g.apply(this,arguments)},d.guid=g.guid||(g.guid=m.guid++)),this.each(function(){m.event.add(this,a,d,c,b)})},one:function(a,b,c,d){return this.on(a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj){return d=a.handleObj,m(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this}if("object"==typeof a){for(e in a){this.off(e,b,a[e])}return this}return(b===!1||"function"==typeof b)&&(c=b,b=void 0),c===!1&&(c=bb),this.each(function(){m.event.remove(this,a,c,b)})},trigger:function(a,b){return this.each(function(){m.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?m.event.trigger(a,b,c,!0):void 0}});function db(a){var b=eb.split("|"),c=a.createDocumentFragment();if(c.createElement){while(b.length){c.createElement(b.pop())}}return c}var eb="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",fb=/ jQuery\d+="(?:null|\d+)"/g,gb=new RegExp("<(?:"+eb+")[\\s/>]","i"),hb=/^\s+/,ib=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,jb=/<([\w:]+)/,kb=/<tbody/i,lb=/<|&#?\w+;/,mb=/<(?:script|style|link)/i,nb=/checked\s*(?:[^=]|=\s*.checked.)/i,ob=/^$|\/(?:java|ecma)script/i,pb=/^true\/(.*)/,qb=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,rb={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:k.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},sb=db(y),tb=sb.appendChild(y.createElement("div"));rb.optgroup=rb.option,rb.tbody=rb.tfoot=rb.colgroup=rb.caption=rb.thead,rb.th=rb.td;function ub(a,b){var c,d,e=0,f=typeof a.getElementsByTagName!==K?a.getElementsByTagName(b||"*"):typeof a.querySelectorAll!==K?a.querySelectorAll(b||"*"):void 0;if(!f){for(f=[],c=a.childNodes||a;null!=(d=c[e]);e++){!b||m.nodeName(d,b)?f.push(d):m.merge(f,ub(d,b))}}return void 0===b||b&&m.nodeName(a,b)?m.merge([a],f):f}function vb(a){W.test(a.type)&&(a.defaultChecked=a.checked)}function wb(a,b){return m.nodeName(a,"table")&&m.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function xb(a){return a.type=(null!==m.find.attr(a,"type"))+"/"+a.type,a}function yb(a){var b=pb.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function zb(a,b){for(var c,d=0;null!=(c=a[d]);d++){m._data(c,"globalEval",!b||m._data(b[d],"globalEval"))}}function Ab(a,b){if(1===b.nodeType&&m.hasData(a)){var c,d,e,f=m._data(a),g=m._data(b,f),h=f.events;if(h){delete g.handle,g.events={};for(c in h){for(d=0,e=h[c].length;e>d;d++){m.event.add(b,c,h[c][d])}}}g.data&&(g.data=m.extend({},g.data))}}function Bb(a,b){var c,d,e;if(1===b.nodeType){if(c=b.nodeName.toLowerCase(),!k.noCloneEvent&&b[m.expando]){e=m._data(b);for(d in e.events){m.removeEvent(b,d,e.handle)}b.removeAttribute(m.expando)}"script"===c&&b.text!==a.text?(xb(b).text=a.text,yb(b)):"object"===c?(b.parentNode&&(b.outerHTML=a.outerHTML),k.html5Clone&&a.innerHTML&&!m.trim(b.innerHTML)&&(b.innerHTML=a.innerHTML)):"input"===c&&W.test(a.type)?(b.defaultChecked=b.checked=a.checked,b.value!==a.value&&(b.value=a.value)):"option"===c?b.defaultSelected=b.selected=a.defaultSelected:("input"===c||"textarea"===c)&&(b.defaultValue=a.defaultValue)}}m.extend({clone:function(a,b,c){var d,e,f,g,h,i=m.contains(a.ownerDocument,a);if(k.html5Clone||m.isXMLDoc(a)||!gb.test("<"+a.nodeName+">")?f=a.cloneNode(!0):(tb.innerHTML=a.outerHTML,tb.removeChild(f=tb.firstChild)),!(k.noCloneEvent&&k.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||m.isXMLDoc(a))){for(d=ub(f),h=ub(a),g=0;null!=(e=h[g]);++g){d[g]&&Bb(e,d[g])}}if(b){if(c){for(h=h||ub(a),d=d||ub(f),g=0;null!=(e=h[g]);g++){Ab(e,d[g])}}else{Ab(a,f)}}return d=ub(f,"script"),d.length>0&&zb(d,!i&&ub(a,"script")),d=h=e=null,f},buildFragment:function(a,b,c,d){for(var e,f,g,h,i,j,l,n=a.length,o=db(b),p=[],q=0;n>q;q++){if(f=a[q],f||0===f){if("object"===m.type(f)){m.merge(p,f.nodeType?[f]:f)}else{if(lb.test(f)){h=h||o.appendChild(b.createElement("div")),i=(jb.exec(f)||["",""])[1].toLowerCase(),l=rb[i]||rb._default,h.innerHTML=l[1]+f.replace(ib,"<$1></$2>")+l[2],e=l[0];while(e--){h=h.lastChild}if(!k.leadingWhitespace&&hb.test(f)&&p.push(b.createTextNode(hb.exec(f)[0])),!k.tbody){f="table"!==i||kb.test(f)?"<table>"!==l[1]||kb.test(f)?0:h:h.firstChild,e=f&&f.childNodes.length;while(e--){m.nodeName(j=f.childNodes[e],"tbody")&&!j.childNodes.length&&f.removeChild(j)}}m.merge(p,h.childNodes),h.textContent="";while(h.firstChild){h.removeChild(h.firstChild)}h=o.lastChild}else{p.push(b.createTextNode(f))}}}}h&&o.removeChild(h),k.appendChecked||m.grep(ub(p,"input"),vb),q=0;while(f=p[q++]){if((!d||-1===m.inArray(f,d))&&(g=m.contains(f.ownerDocument,f),h=ub(o.appendChild(f),"script"),g&&zb(h),c)){e=0;while(f=h[e++]){ob.test(f.type||"")&&c.push(f)}}}return h=null,o},cleanData:function(a,b){for(var d,e,f,g,h=0,i=m.expando,j=m.cache,l=k.deleteExpando,n=m.event.special;null!=(d=a[h]);h++){if((b||m.acceptData(d))&&(f=d[i],g=f&&j[f])){if(g.events){for(e in g.events){n[e]?m.event.remove(d,e):m.removeEvent(d,e,g.handle)}}j[f]&&(delete j[f],l?delete d[i]:typeof d.removeAttribute!==K?d.removeAttribute(i):d[i]=null,c.push(f))}}}}),m.fn.extend({text:function(a){return V(this,function(a){return void 0===a?m.text(this):this.empty().append((this[0]&&this[0].ownerDocument||y).createTextNode(a))},null,a,arguments.length)},append:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.appendChild(a)}})},prepend:function(){return this.domManip(arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=wb(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return this.domManip(arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},remove:function(a,b){for(var c,d=a?m.filter(a,this):this,e=0;null!=(c=d[e]);e++){b||1!==c.nodeType||m.cleanData(ub(c)),c.parentNode&&(b&&m.contains(c.ownerDocument,c)&&zb(ub(c,"script")),c.parentNode.removeChild(c))}return this},empty:function(){for(var a,b=0;null!=(a=this[b]);b++){1===a.nodeType&&m.cleanData(ub(a,!1));while(a.firstChild){a.removeChild(a.firstChild)}a.options&&m.nodeName(a,"select")&&(a.options.length=0)}return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return m.clone(this,a,b)})},html:function(a){return V(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a){return 1===b.nodeType?b.innerHTML.replace(fb,""):void 0}if(!("string"!=typeof a||mb.test(a)||!k.htmlSerialize&&gb.test(a)||!k.leadingWhitespace&&hb.test(a)||rb[(jb.exec(a)||["",""])[1].toLowerCase()])){a=a.replace(ib,"<$1></$2>");try{for(;d>c;c++){b=this[c]||{},1===b.nodeType&&(m.cleanData(ub(b,!1)),b.innerHTML=a)}b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=arguments[0];return this.domManip(arguments,function(b){a=this.parentNode,m.cleanData(ub(this)),a&&a.replaceChild(b,this)}),a&&(a.length||a.nodeType)?this:this.remove()},detach:function(a){return this.remove(a,!0)},domManip:function(a,b){a=e.apply([],a);var c,d,f,g,h,i,j=0,l=this.length,n=this,o=l-1,p=a[0],q=m.isFunction(p);if(q||l>1&&"string"==typeof p&&!k.checkClone&&nb.test(p)){return this.each(function(c){var d=n.eq(c);q&&(a[0]=p.call(this,c,d.html())),d.domManip(a,b)})}if(l&&(i=m.buildFragment(a,this[0].ownerDocument,!1,this),c=i.firstChild,1===i.childNodes.length&&(i=c),c)){for(g=m.map(ub(i,"script"),xb),f=g.length;l>j;j++){d=i,j!==o&&(d=m.clone(d,!0,!0),f&&m.merge(g,ub(d,"script"))),b.call(this[j],d,j)}if(f){for(h=g[g.length-1].ownerDocument,m.map(g,yb),j=0;f>j;j++){d=g[j],ob.test(d.type||"")&&!m._data(d,"globalEval")&&m.contains(h,d)&&(d.src?m._evalUrl&&m._evalUrl(d.src):m.globalEval((d.text||d.textContent||d.innerHTML||"").replace(qb,"")))}}i=c=null}return this}}),m.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){m.fn[a]=function(a){for(var c,d=0,e=[],g=m(a),h=g.length-1;h>=d;d++){c=d===h?this:this.clone(!0),m(g[d])[b](c),f.apply(e,c.get())}return this.pushStack(e)}});var Cb,Db={};function Eb(b,c){var d,e=m(c.createElement(b)).appendTo(c.body),f=a.getDefaultComputedStyle&&(d=a.getDefaultComputedStyle(e[0]))?d.display:m.css(e[0],"display");return e.detach(),f}function Fb(a){var b=y,c=Db[a];return c||(c=Eb(a,b),"none"!==c&&c||(Cb=(Cb||m("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=(Cb[0].contentWindow||Cb[0].contentDocument).document,b.write(),b.close(),c=Eb(a,b),Cb.detach()),Db[a]=c),c}!function(){var a;k.shrinkWrapBlocks=function(){if(null!=a){return a}a=!1;var b,c,d;return c=y.getElementsByTagName("body")[0],c&&c.style?(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),typeof b.style.zoom!==K&&(b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1",b.appendChild(y.createElement("div")).style.width="5px",a=3!==b.offsetWidth),c.removeChild(d),a):void 0}}();var Gb=/^margin/,Hb=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ib,Jb,Kb=/^(top|right|bottom|left)$/;a.getComputedStyle?(Ib=function(b){return b.ownerDocument.defaultView.opener?b.ownerDocument.defaultView.getComputedStyle(b,null):a.getComputedStyle(b,null)},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c.getPropertyValue(b)||c[b]:void 0,c&&(""!==g||m.contains(a.ownerDocument,a)||(g=m.style(a,b)),Hb.test(g)&&Gb.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f)),void 0===g?g:g+""}):y.documentElement.currentStyle&&(Ib=function(a){return a.currentStyle},Jb=function(a,b,c){var d,e,f,g,h=a.style;return c=c||Ib(a),g=c?c[b]:void 0,null==g&&h&&h[b]&&(g=h[b]),Hb.test(g)&&!Kb.test(b)&&(d=h.left,e=a.runtimeStyle,f=e&&e.left,f&&(e.left=a.currentStyle.left),h.left="fontSize"===b?"1em":g,g=h.pixelLeft+"px",h.left=d,f&&(e.left=f)),void 0===g?g:g+""||"auto"});function Lb(a,b){return{get:function(){var c=a();if(null!=c){return c?void delete this.get:(this.get=b).apply(this,arguments)}}}}!function(){var b,c,d,e,f,g,h;if(b=y.createElement("div"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=d&&d.style){c.cssText="float:left;opacity:.5",k.opacity="0.5"===c.opacity,k.cssFloat=!!c.cssFloat,b.style.backgroundClip="content-box",b.cloneNode(!0).style.backgroundClip="",k.clearCloneStyle="content-box"===b.style.backgroundClip,k.boxSizing=""===c.boxSizing||""===c.MozBoxSizing||""===c.WebkitBoxSizing,m.extend(k,{reliableHiddenOffsets:function(){return null==g&&i(),g},boxSizingReliable:function(){return null==f&&i(),f},pixelPosition:function(){return null==e&&i(),e},reliableMarginRight:function(){return null==h&&i(),h}});function i(){var b,c,d,i;c=y.getElementsByTagName("body")[0],c&&c.style&&(b=y.createElement("div"),d=y.createElement("div"),d.style.cssText="position:absolute;border:0;width:0;height:0;top:0;left:-9999px",c.appendChild(d).appendChild(b),b.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",e=f=!1,h=!0,a.getComputedStyle&&(e="1%"!==(a.getComputedStyle(b,null)||{}).top,f="4px"===(a.getComputedStyle(b,null)||{width:"4px"}).width,i=b.appendChild(y.createElement("div")),i.style.cssText=b.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",i.style.marginRight=i.style.width="0",b.style.width="1px",h=!parseFloat((a.getComputedStyle(i,null)||{}).marginRight),b.removeChild(i)),b.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=b.getElementsByTagName("td"),i[0].style.cssText="margin:0;border:0;padding:0;display:none",g=0===i[0].offsetHeight,g&&(i[0].style.display="",i[1].style.display="none",g=0===i[0].offsetHeight),c.removeChild(d))}}}(),m.swap=function(a,b,c,d){var e,f,g={};for(f in b){g[f]=a.style[f],a.style[f]=b[f]}e=c.apply(a,d||[]);for(f in b){a.style[f]=g[f]}return e};var Mb=/alpha\([^)]*\)/i,Nb=/opacity\s*=\s*([^)]*)/,Ob=/^(none|table(?!-c[ea]).+)/,Pb=new RegExp("^("+S+")(.*)$","i"),Qb=new RegExp("^([+-])=("+S+")","i"),Rb={position:"absolute",visibility:"hidden",display:"block"},Sb={letterSpacing:"0",fontWeight:"400"},Tb=["Webkit","O","Moz","ms"];function Ub(a,b){if(b in a){return b}var c=b.charAt(0).toUpperCase()+b.slice(1),d=b,e=Tb.length;while(e--){if(b=Tb[e]+c,b in a){return b}}return d}function Vb(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++){d=a[g],d.style&&(f[g]=m._data(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&U(d)&&(f[g]=m._data(d,"olddisplay",Fb(d.nodeName)))):(e=U(d),(c&&"none"!==c||!e)&&m._data(d,"olddisplay",e?c:m.css(d,"display"))))}for(g=0;h>g;g++){d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"))}return a}function Wb(a,b,c){var d=Pb.exec(b);return d?Math.max(0,d[1]-(c||0))+(d[2]||"px"):b}function Xb(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2){"margin"===c&&(g+=m.css(a,c+T[f],!0,e)),d?("content"===c&&(g-=m.css(a,"padding"+T[f],!0,e)),"margin"!==c&&(g-=m.css(a,"border"+T[f]+"Width",!0,e))):(g+=m.css(a,"padding"+T[f],!0,e),"padding"!==c&&(g+=m.css(a,"border"+T[f]+"Width",!0,e)))}return g}function Yb(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ib(a),g=k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Jb(a,b,f),(0>e||null==e)&&(e=a.style[b]),Hb.test(e)){return e}d=g&&(k.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Xb(a,b,c||(g?"border":"content"),d,f)+"px"}m.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Jb(a,"opacity");return""===c?"1":c}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":k.cssFloat?"cssFloat":"styleFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=m.camelCase(b),i=a.style;if(b=m.cssProps[h]||(m.cssProps[h]=Ub(i,h)),g=m.cssHooks[b]||m.cssHooks[h],void 0===c){return g&&"get" in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]}if(f=typeof c,"string"===f&&(e=Qb.exec(c))&&(c=(e[1]+1)*e[2]+parseFloat(m.css(a,b)),f="number"),null!=c&&c===c&&("number"!==f||m.cssNumber[h]||(c+="px"),k.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),!(g&&"set" in g&&void 0===(c=g.set(a,c,d))))){try{i[b]=c}catch(j){}}}},css:function(a,b,c,d){var e,f,g,h=m.camelCase(b);return b=m.cssProps[h]||(m.cssProps[h]=Ub(a.style,h)),g=m.cssHooks[b]||m.cssHooks[h],g&&"get" in g&&(f=g.get(a,!0,c)),void 0===f&&(f=Jb(a,b,d)),"normal"===f&&b in Sb&&(f=Sb[b]),""===c||c?(e=parseFloat(f),c===!0||m.isNumeric(e)?e||0:f):f}}),m.each(["height","width"],function(a,b){m.cssHooks[b]={get:function(a,c,d){return c?Ob.test(m.css(a,"display"))&&0===a.offsetWidth?m.swap(a,Rb,function(){return Yb(a,b,d)}):Yb(a,b,d):void 0},set:function(a,c,d){var e=d&&Ib(a);return Wb(a,c,d?Xb(a,b,d,k.boxSizing&&"border-box"===m.css(a,"boxSizing",!1,e),e):0)}}}),k.opacity||(m.cssHooks.opacity={get:function(a,b){return Nb.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||"")?0.01*parseFloat(RegExp.$1)+"":b?"1":""},set:function(a,b){var c=a.style,d=a.currentStyle,e=m.isNumeric(b)?"alpha(opacity="+100*b+")":"",f=d&&d.filter||c.filter||"";c.zoom=1,(b>=1||""===b)&&""===m.trim(f.replace(Mb,""))&&c.removeAttribute&&(c.removeAttribute("filter"),""===b||d&&!d.filter)||(c.filter=Mb.test(f)?f.replace(Mb,e):f+" "+e)}}),m.cssHooks.marginRight=Lb(k.reliableMarginRight,function(a,b){return b?m.swap(a,{display:"inline-block"},Jb,[a,"marginRight"]):void 0}),m.each({margin:"",padding:"",border:"Width"},function(a,b){m.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++){e[a+T[d]+b]=f[d]||f[d-2]||f[0]}return e}},Gb.test(a)||(m.cssHooks[a+b].set=Wb)}),m.fn.extend({css:function(a,b){return V(this,function(a,b,c){var d,e,f={},g=0;if(m.isArray(b)){for(d=Ib(a),e=b.length;e>g;g++){f[b[g]]=m.css(a,b[g],!1,d)}return f}return void 0!==c?m.style(a,b,c):m.css(a,b)},a,b,arguments.length>1)},show:function(){return Vb(this,!0)},hide:function(){return Vb(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){U(this)?m(this).show():m(this).hide()})}});function Zb(a,b,c,d,e){return new Zb.prototype.init(a,b,c,d,e)}m.Tween=Zb,Zb.prototype={constructor:Zb,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||"swing",this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(m.cssNumber[c]?"":"px")},cur:function(){var a=Zb.propHooks[this.prop];return a&&a.get?a.get(this):Zb.propHooks._default.get(this)},run:function(a){var b,c=Zb.propHooks[this.prop];return this.pos=b=this.options.duration?m.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Zb.propHooks._default.set(this),this}},Zb.prototype.init.prototype=Zb.prototype,Zb.propHooks={_default:{get:function(a){var b;return null==a.elem[a.prop]||a.elem.style&&null!=a.elem.style[a.prop]?(b=m.css(a.elem,a.prop,""),b&&"auto"!==b?b:0):a.elem[a.prop]},set:function(a){m.fx.step[a.prop]?m.fx.step[a.prop](a):a.elem.style&&(null!=a.elem.style[m.cssProps[a.prop]]||m.cssHooks[a.prop])?m.style(a.elem,a.prop,a.now+a.unit):a.elem[a.prop]=a.now}}},Zb.propHooks.scrollTop=Zb.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},m.easing={linear:function(a){return a},swing:function(a){return 0.5-Math.cos(a*Math.PI)/2}},m.fx=Zb.prototype.init,m.fx.step={};var $b,_b,ac=/^(?:toggle|show|hide)$/,bc=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),cc=/queueHooks$/,dc=[ic],ec={"*":[function(a,b){var c=this.createTween(a,b),d=c.cur(),e=bc.exec(b),f=e&&e[3]||(m.cssNumber[a]?"":"px"),g=(m.cssNumber[a]||"px"!==f&&+d)&&bc.exec(m.css(c.elem,a)),h=1,i=20;if(g&&g[3]!==f){f=f||g[3],e=e||[],g=+d||1;do{h=h||".5",g/=h,m.style(c.elem,a,g+f)}while(h!==(h=c.cur()/d)&&1!==h&&--i)}return e&&(g=c.start=+g||+d||0,c.unit=f,c.end=e[1]?g+(e[1]+1)*e[2]:+e[2]),c}]};function fc(){return setTimeout(function(){$b=void 0}),$b=m.now()}function gc(a,b){var c,d={height:a},e=0;for(b=b?1:0;4>e;e+=2-b){c=T[e],d["margin"+c]=d["padding"+c]=a}return b&&(d.opacity=d.width=a),d}function hc(a,b,c){for(var d,e=(ec[b]||[]).concat(ec["*"]),f=0,g=e.length;g>f;f++){if(d=e[f].call(c,b,a)){return d}}}function ic(a,b,c){var d,e,f,g,h,i,j,l,n=this,o={},p=a.style,q=a.nodeType&&U(a),r=m._data(a,"fxshow");c.queue||(h=m._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,n.always(function(){n.always(function(){h.unqueued--,m.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height" in b||"width" in b)&&(c.overflow=[p.overflow,p.overflowX,p.overflowY],j=m.css(a,"display"),l="none"===j?m._data(a,"olddisplay")||Fb(a.nodeName):j,"inline"===l&&"none"===m.css(a,"float")&&(k.inlineBlockNeedsLayout&&"inline"!==Fb(a.nodeName)?p.zoom=1:p.display="inline-block")),c.overflow&&(p.overflow="hidden",k.shrinkWrapBlocks()||n.always(function(){p.overflow=c.overflow[0],p.overflowX=c.overflow[1],p.overflowY=c.overflow[2]}));for(d in b){if(e=b[d],ac.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(q?"hide":"show")){if("show"!==e||!r||void 0===r[d]){continue}q=!0}o[d]=r&&r[d]||m.style(a,d)}else{j=void 0}}if(m.isEmptyObject(o)){"inline"===("none"===j?Fb(a.nodeName):j)&&(p.display=j)}else{r?"hidden" in r&&(q=r.hidden):r=m._data(a,"fxshow",{}),f&&(r.hidden=!q),q?m(a).show():n.done(function(){m(a).hide()}),n.done(function(){var b;m._removeData(a,"fxshow");for(b in o){m.style(a,b,o[b])}});for(d in o){g=hc(q?r[d]:0,d,n),d in r||(r[d]=g.start,q&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}}function jc(a,b){var c,d,e,f,g;for(c in a){if(d=m.camelCase(c),e=b[d],f=a[c],m.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=m.cssHooks[d],g&&"expand" in g){f=g.expand(f),delete a[d];for(c in f){c in a||(a[c]=f[c],b[c]=e)}}else{b[d]=e}}}function kc(a,b,c){var d,e,f=0,g=dc.length,h=m.Deferred().always(function(){delete i.elem}),i=function(){if(e){return !1}for(var b=$b||fc(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++){j.tweens[g].run(f)}return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:m.extend({},b),opts:m.extend(!0,{specialEasing:{}},c),originalProperties:b,originalOptions:c,startTime:$b||fc(),duration:c.duration,tweens:[],createTween:function(b,c){var d=m.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e){return this}for(e=!0;d>c;c++){j.tweens[c].run(1)}return b?h.resolveWith(a,[j,b]):h.rejectWith(a,[j,b]),this}}),k=j.props;for(jc(k,j.opts.specialEasing);g>f;f++){if(d=dc[f].call(j,a,k,j.opts)){return d}}return m.map(k,hc,j),m.isFunction(j.opts.start)&&j.opts.start.call(a,j),m.fx.timer(m.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}m.Animation=m.extend(kc,{tweener:function(a,b){m.isFunction(a)?(b=a,a=["*"]):a=a.split(" ");for(var c,d=0,e=a.length;e>d;d++){c=a[d],ec[c]=ec[c]||[],ec[c].unshift(b)}},prefilter:function(a,b){b?dc.unshift(a):dc.push(a)}}),m.speed=function(a,b,c){var d=a&&"object"==typeof a?m.extend({},a):{complete:c||!c&&b||m.isFunction(a)&&a,duration:a,easing:c&&b||b&&!m.isFunction(b)&&b};return d.duration=m.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in m.fx.speeds?m.fx.speeds[d.duration]:m.fx.speeds._default,(null==d.queue||d.queue===!0)&&(d.queue="fx"),d.old=d.complete,d.complete=function(){m.isFunction(d.old)&&d.old.call(this),d.queue&&m.dequeue(this,d.queue)},d},m.fn.extend({fadeTo:function(a,b,c,d){return this.filter(U).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=m.isEmptyObject(a),f=m.speed(b,c,d),g=function(){var b=kc(this,m.extend({},a),f);(e||m._data(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=m.timers,g=m._data(this);if(e){g[e]&&g[e].stop&&d(g[e])}else{for(e in g){g[e]&&g[e].stop&&cc.test(e)&&d(g[e])}}for(e=f.length;e--;){f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1))}(b||!c)&&m.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=m._data(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=m.timers,g=d?d.length:0;for(c.finish=!0,m.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;){f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1))}for(b=0;g>b;b++){d[b]&&d[b].finish&&d[b].finish.call(this)}delete c.finish})}}),m.each(["toggle","show","hide"],function(a,b){var c=m.fn[b];m.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(gc(b,!0),a,d,e)}}),m.each({slideDown:gc("show"),slideUp:gc("hide"),slideToggle:gc("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){m.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),m.timers=[],m.fx.tick=function(){var a,b=m.timers,c=0;for($b=m.now();c<b.length;c++){a=b[c],a()||b[c]!==a||b.splice(c--,1)}b.length||m.fx.stop(),$b=void 0},m.fx.timer=function(a){m.timers.push(a),a()?m.fx.start():m.timers.pop()},m.fx.interval=13,m.fx.start=function(){_b||(_b=setInterval(m.fx.tick,m.fx.interval))},m.fx.stop=function(){clearInterval(_b),_b=null},m.fx.speeds={slow:600,fast:200,_default:400},m.fn.delay=function(a,b){return a=m.fx?m.fx.speeds[a]||a:a,b=b||"fx",this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},function(){var a,b,c,d,e;b=y.createElement("div"),b.setAttribute("className","t"),b.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",d=b.getElementsByTagName("a")[0],c=y.createElement("select"),e=c.appendChild(y.createElement("option")),a=b.getElementsByTagName("input")[0],d.style.cssText="top:1px",k.getSetAttribute="t"!==b.className,k.style=/top/.test(d.getAttribute("style")),k.hrefNormalized="/a"===d.getAttribute("href"),k.checkOn=!!a.value,k.optSelected=e.selected,k.enctype=!!y.createElement("form").enctype,c.disabled=!0,k.optDisabled=!e.disabled,a=y.createElement("input"),a.setAttribute("value",""),k.input=""===a.getAttribute("value"),a.value="t",a.setAttribute("type","radio"),k.radioValue="t"===a.value}();var lc=/\r/g;m.fn.extend({val:function(a){var b,c,d,e=this[0];if(arguments.length){return d=m.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,m(this).val()):a,null==e?e="":"number"==typeof e?e+="":m.isArray(e)&&(e=m.map(e,function(a){return null==a?"":a+""})),b=m.valHooks[this.type]||m.valHooks[this.nodeName.toLowerCase()],b&&"set" in b&&void 0!==b.set(this,e,"value")||(this.value=e))})}if(e){return b=m.valHooks[e.type]||m.valHooks[e.nodeName.toLowerCase()],b&&"get" in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(lc,""):null==c?"":c)}}}),m.extend({valHooks:{option:{get:function(a){var b=m.find.attr(a,"value");return null!=b?b:m.trim(m.text(a))}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++){if(c=d[i],!(!c.selected&&i!==e||(k.optDisabled?c.disabled:null!==c.getAttribute("disabled"))||c.parentNode.disabled&&m.nodeName(c.parentNode,"optgroup"))){if(b=m(c).val(),f){return b}g.push(b)}}return g},set:function(a,b){var c,d,e=a.options,f=m.makeArray(b),g=e.length;while(g--){if(d=e[g],m.inArray(m.valHooks.option.get(d),f)>=0){try{d.selected=c=!0}catch(h){d.scrollHeight}}else{d.selected=!1}}return c||(a.selectedIndex=-1),e}}}}),m.each(["radio","checkbox"],function(){m.valHooks[this]={set:function(a,b){return m.isArray(b)?a.checked=m.inArray(m(a).val(),b)>=0:void 0}},k.checkOn||(m.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var mc,nc,oc=m.expr.attrHandle,pc=/^(?:checked|selected)$/i,qc=k.getSetAttribute,rc=k.input;m.fn.extend({attr:function(a,b){return V(this,m.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){m.removeAttr(this,a)})}}),m.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(a&&3!==f&&8!==f&&2!==f){return typeof a.getAttribute===K?m.prop(a,b,c):(1===f&&m.isXMLDoc(a)||(b=b.toLowerCase(),d=m.attrHooks[b]||(m.expr.match.bool.test(b)?nc:mc)),void 0===c?d&&"get" in d&&null!==(e=d.get(a,b))?e:(e=m.find.attr(a,b),null==e?void 0:e):null!==c?d&&"set" in d&&void 0!==(e=d.set(a,c,b))?e:(a.setAttribute(b,c+""),c):void m.removeAttr(a,b))}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(E);if(f&&1===a.nodeType){while(c=f[e++]){d=m.propFix[c]||c,m.expr.match.bool.test(c)?rc&&qc||!pc.test(c)?a[d]=!1:a[m.camelCase("default-"+c)]=a[d]=!1:m.attr(a,c,""),a.removeAttribute(qc?c:d)}}},attrHooks:{type:{set:function(a,b){if(!k.radioValue&&"radio"===b&&m.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}}}),nc={set:function(a,b,c){return b===!1?m.removeAttr(a,c):rc&&qc||!pc.test(c)?a.setAttribute(!qc&&m.propFix[c]||c,c):a[m.camelCase("default-"+c)]=a[c]=!0,c}},m.each(m.expr.match.bool.source.match(/\w+/g),function(a,b){var c=oc[b]||m.find.attr;oc[b]=rc&&qc||!pc.test(b)?function(a,b,d){var e,f;return d||(f=oc[b],oc[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,oc[b]=f),e}:function(a,b,c){return c?void 0:a[m.camelCase("default-"+b)]?b.toLowerCase():null}}),rc&&qc||(m.attrHooks.value={set:function(a,b,c){return m.nodeName(a,"input")?void (a.defaultValue=b):mc&&mc.set(a,b,c)}}),qc||(mc={set:function(a,b,c){var d=a.getAttributeNode(c);return d||a.setAttributeNode(d=a.ownerDocument.createAttribute(c)),d.value=b+="","value"===c||b===a.getAttribute(c)?b:void 0}},oc.id=oc.name=oc.coords=function(a,b,c){var d;return c?void 0:(d=a.getAttributeNode(b))&&""!==d.value?d.value:null},m.valHooks.button={get:function(a,b){var c=a.getAttributeNode(b);return c&&c.specified?c.value:void 0},set:mc.set},m.attrHooks.contenteditable={set:function(a,b,c){mc.set(a,""===b?!1:b,c)}},m.each(["width","height"],function(a,b){m.attrHooks[b]={set:function(a,c){return""===c?(a.setAttribute(b,"auto"),c):void 0}}})),k.style||(m.attrHooks.style={get:function(a){return a.style.cssText||void 0},set:function(a,b){return a.style.cssText=b+""}});var sc=/^(?:input|select|textarea|button|object)$/i,tc=/^(?:a|area)$/i;m.fn.extend({prop:function(a,b){return V(this,m.prop,a,b,arguments.length>1)},removeProp:function(a){return a=m.propFix[a]||a,this.each(function(){try{this[a]=void 0,delete this[a]}catch(b){}})}}),m.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(a,b,c){var d,e,f,g=a.nodeType;if(a&&3!==g&&8!==g&&2!==g){return f=1!==g||!m.isXMLDoc(a),f&&(b=m.propFix[b]||b,e=m.propHooks[b]),void 0!==c?e&&"set" in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get" in e&&null!==(d=e.get(a,b))?d:a[b]}},propHooks:{tabIndex:{get:function(a){var b=m.find.attr(a,"tabindex");return b?parseInt(b,10):sc.test(a.nodeName)||tc.test(a.nodeName)&&a.href?0:-1}}}}),k.hrefNormalized||m.each(["href","src"],function(a,b){m.propHooks[b]={get:function(a){return a.getAttribute(b,4)}}}),k.optSelected||(m.propHooks.selected={get:function(a){var b=a.parentNode;return b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex),null}}),m.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){m.propFix[this.toLowerCase()]=this}),k.enctype||(m.propFix.enctype="encoding");var uc=/[\t\r\n\f]/g;m.fn.extend({addClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j="string"==typeof a&&a;if(m.isFunction(a)){return this.each(function(b){m(this).addClass(a.call(this,b,this.className))})}if(j){for(b=(a||"").match(E)||[];i>h;h++){if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(uc," "):" ")){f=0;while(e=b[f++]){d.indexOf(" "+e+" ")<0&&(d+=e+" ")}g=m.trim(d),c.className!==g&&(c.className=g)}}}return this},removeClass:function(a){var b,c,d,e,f,g,h=0,i=this.length,j=0===arguments.length||"string"==typeof a&&a;if(m.isFunction(a)){return this.each(function(b){m(this).removeClass(a.call(this,b,this.className))})}if(j){for(b=(a||"").match(E)||[];i>h;h++){if(c=this[h],d=1===c.nodeType&&(c.className?(" "+c.className+" ").replace(uc," "):"")){f=0;while(e=b[f++]){while(d.indexOf(" "+e+" ")>=0){d=d.replace(" "+e+" "," ")}}g=a?m.trim(d):"",c.className!==g&&(c.className=g)}}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):this.each(m.isFunction(a)?function(c){m(this).toggleClass(a.call(this,c,this.className,b),b)}:function(){if("string"===c){var b,d=0,e=m(this),f=a.match(E)||[];while(b=f[d++]){e.hasClass(b)?e.removeClass(b):e.addClass(b)}}else{(c===K||"boolean"===c)&&(this.className&&m._data(this,"__className__",this.className),this.className=this.className||a===!1?"":m._data(this,"__className__")||"")}})},hasClass:function(a){for(var b=" "+a+" ",c=0,d=this.length;d>c;c++){if(1===this[c].nodeType&&(" "+this[c].className+" ").replace(uc," ").indexOf(b)>=0){return !0}}return !1}}),m.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){m.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),m.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)}});var vc=m.now(),wc=/\?/,xc=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;m.parseJSON=function(b){if(a.JSON&&a.JSON.parse){return a.JSON.parse(b+"")}var c,d=null,e=m.trim(b+"");return e&&!m.trim(e.replace(xc,function(a,b,e,f){return c&&b&&(d=0),0===d?a:(c=e||b,d+=!f-!e,"")}))?Function("return "+e)():m.error("Invalid JSON: "+b)},m.parseXML=function(b){var c,d;if(!b||"string"!=typeof b){return null}try{a.DOMParser?(d=new DOMParser,c=d.parseFromString(b,"text/xml")):(c=new ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(b))}catch(e){c=void 0}return c&&c.documentElement&&!c.getElementsByTagName("parsererror").length||m.error("Invalid XML: "+b),c};var yc,zc,Ac=/#.*$/,Bc=/([?&])_=[^&]*/,Cc=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Dc=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ec=/^(?:GET|HEAD)$/,Fc=/^\/\//,Gc=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,Hc={},Ic={},Jc="*/".concat("*");try{zc=location.href}catch(Kc){zc=y.createElement("a"),zc.href="",zc=zc.href}yc=Gc.exec(zc.toLowerCase())||[];function Lc(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(E)||[];if(m.isFunction(c)){while(d=f[e++]){"+"===d.charAt(0)?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}}}function Mc(a,b,c,d){var e={},f=a===Ic;function g(h){var i;return e[h]=!0,m.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function Nc(a,b){var c,d,e=m.ajaxSettings.flatOptions||{};for(d in b){void 0!==b[d]&&((e[d]?a:c||(c={}))[d]=b[d])}return c&&m.extend(!0,a,c),a}function Oc(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0]){i.shift(),void 0===e&&(e=a.mimeType||b.getResponseHeader("Content-Type"))}if(e){for(g in h){if(h[g]&&h[g].test(e)){i.unshift(g);break}}}if(i[0] in c){f=i[0]}else{for(g in c){if(!i[0]||a.converters[g+" "+i[0]]){f=g;break}d||(d=g)}f=f||d}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Pc(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1]){for(g in a.converters){j[g.toLowerCase()]=a.converters[g]}}f=k.shift();while(f){if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift()){if("*"===f){f=i}else{if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g){for(e in j){if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}}}if(g!==!0){if(g&&a["throws"]){b=g(b)}else{try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}}}}}}return{state:"success",data:b}}m.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:zc,type:"GET",isLocal:Dc.test(yc[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Jc,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":m.parseJSON,"text xml":m.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?Nc(Nc(a,m.ajaxSettings),b):Nc(m.ajaxSettings,a)},ajaxPrefilter:Lc(Hc),ajaxTransport:Lc(Ic),ajax:function(a,b){"object"==typeof a&&(b=a,a=void 0),b=b||{};var c,d,e,f,g,h,i,j,k=m.ajaxSetup({},b),l=k.context||k,n=k.context&&(l.nodeType||l.jquery)?m(l):m.event,o=m.Deferred(),p=m.Callbacks("once memory"),q=k.statusCode||{},r={},s={},t=0,u="canceled",v={readyState:0,getResponseHeader:function(a){var b;if(2===t){if(!j){j={};while(b=Cc.exec(f)){j[b[1].toLowerCase()]=b[2]}}b=j[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===t?f:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return t||(a=s[c]=s[c]||a,r[a]=b),this},overrideMimeType:function(a){return t||(k.mimeType=a),this},statusCode:function(a){var b;if(a){if(2>t){for(b in a){q[b]=[q[b],a[b]]}}else{v.always(a[v.status])}}return this},abort:function(a){var b=a||u;return i&&i.abort(b),x(0,b),this}};if(o.promise(v).complete=p.add,v.success=v.done,v.error=v.fail,k.url=((a||k.url||zc)+"").replace(Ac,"").replace(Fc,yc[1]+"//"),k.type=b.method||b.type||k.method||k.type,k.dataTypes=m.trim(k.dataType||"*").toLowerCase().match(E)||[""],null==k.crossDomain&&(c=Gc.exec(k.url.toLowerCase()),k.crossDomain=!(!c||c[1]===yc[1]&&c[2]===yc[2]&&(c[3]||("http:"===c[1]?"80":"443"))===(yc[3]||("http:"===yc[1]?"80":"443")))),k.data&&k.processData&&"string"!=typeof k.data&&(k.data=m.param(k.data,k.traditional)),Mc(Hc,k,b,v),2===t){return v}h=m.event&&k.global,h&&0===m.active++&&m.event.trigger("ajaxStart"),k.type=k.type.toUpperCase(),k.hasContent=!Ec.test(k.type),e=k.url,k.hasContent||(k.data&&(e=k.url+=(wc.test(e)?"&":"?")+k.data,delete k.data),k.cache===!1&&(k.url=Bc.test(e)?e.replace(Bc,"$1_="+vc++):e+(wc.test(e)?"&":"?")+"_="+vc++)),k.ifModified&&(m.lastModified[e]&&v.setRequestHeader("If-Modified-Since",m.lastModified[e]),m.etag[e]&&v.setRequestHeader("If-None-Match",m.etag[e])),(k.data&&k.hasContent&&k.contentType!==!1||b.contentType)&&v.setRequestHeader("Content-Type",k.contentType),v.setRequestHeader("Accept",k.dataTypes[0]&&k.accepts[k.dataTypes[0]]?k.accepts[k.dataTypes[0]]+("*"!==k.dataTypes[0]?", "+Jc+"; q=0.01":""):k.accepts["*"]);for(d in k.headers){v.setRequestHeader(d,k.headers[d])}if(k.beforeSend&&(k.beforeSend.call(l,v,k)===!1||2===t)){return v.abort()}u="abort";for(d in {success:1,error:1,complete:1}){v[d](k[d])}if(i=Mc(Ic,k,b,v)){v.readyState=1,h&&n.trigger("ajaxSend",[v,k]),k.async&&k.timeout>0&&(g=setTimeout(function(){v.abort("timeout")},k.timeout));try{t=1,i.send(r,x)}catch(w){if(!(2>t)){throw w}x(-1,w)}}else{x(-1,"No Transport")}function x(a,b,c,d){var j,r,s,u,w,x=b;2!==t&&(t=2,g&&clearTimeout(g),i=void 0,f=d||"",v.readyState=a>0?4:0,j=a>=200&&300>a||304===a,c&&(u=Oc(k,v,c)),u=Pc(k,u,v,j),j?(k.ifModified&&(w=v.getResponseHeader("Last-Modified"),w&&(m.lastModified[e]=w),w=v.getResponseHeader("etag"),w&&(m.etag[e]=w)),204===a||"HEAD"===k.type?x="nocontent":304===a?x="notmodified":(x=u.state,r=u.data,s=u.error,j=!s)):(s=x,(a||!x)&&(x="error",0>a&&(a=0))),v.status=a,v.statusText=(b||x)+"",j?o.resolveWith(l,[r,x,v]):o.rejectWith(l,[v,x,s]),v.statusCode(q),q=void 0,h&&n.trigger(j?"ajaxSuccess":"ajaxError",[v,k,j?r:s]),p.fireWith(l,[v,x]),h&&(n.trigger("ajaxComplete",[v,k]),--m.active||m.event.trigger("ajaxStop")))}return v},getJSON:function(a,b,c){return m.get(a,b,c,"json")},getScript:function(a,b){return m.get(a,void 0,b,"script")}}),m.each(["get","post"],function(a,b){m[b]=function(a,c,d,e){return m.isFunction(c)&&(e=e||d,d=c,c=void 0),m.ajax({url:a,type:b,dataType:e,data:c,success:d})}}),m._evalUrl=function(a){return m.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},m.fn.extend({wrapAll:function(a){if(m.isFunction(a)){return this.each(function(b){m(this).wrapAll(a.call(this,b))})}if(this[0]){var b=m(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&1===a.firstChild.nodeType){a=a.firstChild}return a}).append(this)}return this},wrapInner:function(a){return this.each(m.isFunction(a)?function(b){m(this).wrapInner(a.call(this,b))}:function(){var b=m(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=m.isFunction(a);return this.each(function(c){m(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){m.nodeName(this,"body")||m(this).replaceWith(this.childNodes)}).end()}}),m.expr.filters.hidden=function(a){return a.offsetWidth<=0&&a.offsetHeight<=0||!k.reliableHiddenOffsets()&&"none"===(a.style&&a.style.display||m.css(a,"display"))},m.expr.filters.visible=function(a){return !m.expr.filters.hidden(a)};var Qc=/%20/g,Rc=/\[\]$/,Sc=/\r?\n/g,Tc=/^(?:submit|button|image|reset|file)$/i,Uc=/^(?:input|select|textarea|keygen)/i;function Vc(a,b,c,d){var e;if(m.isArray(b)){m.each(b,function(b,e){c||Rc.test(a)?d(a,e):Vc(a+"["+("object"==typeof e?b:"")+"]",e,c,d)})}else{if(c||"object"!==m.type(b)){d(a,b)}else{for(e in b){Vc(a+"["+e+"]",b[e],c,d)}}}}m.param=function(a,b){var c,d=[],e=function(a,b){b=m.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=m.ajaxSettings&&m.ajaxSettings.traditional),m.isArray(a)||a.jquery&&!m.isPlainObject(a)){m.each(a,function(){e(this.name,this.value)})}else{for(c in a){Vc(c,a[c],b,e)}}return d.join("&").replace(Qc,"+")},m.fn.extend({serialize:function(){return m.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=m.prop(this,"elements");return a?m.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!m(this).is(":disabled")&&Uc.test(this.nodeName)&&!Tc.test(a)&&(this.checked||!W.test(a))}).map(function(a,b){var c=m(this).val();return null==c?null:m.isArray(c)?m.map(c,function(a){return{name:b.name,value:a.replace(Sc,"\r\n")}}):{name:b.name,value:c.replace(Sc,"\r\n")}}).get()}}),m.ajaxSettings.xhr=void 0!==a.ActiveXObject?function(){return !this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&Zc()||$c()}:Zc;var Wc=0,Xc={},Yc=m.ajaxSettings.xhr();a.attachEvent&&a.attachEvent("onunload",function(){for(var a in Xc){Xc[a](void 0,!0)}}),k.cors=!!Yc&&"withCredentials" in Yc,Yc=k.ajax=!!Yc,Yc&&m.ajaxTransport(function(a){if(!a.crossDomain||k.cors){var b;return{send:function(c,d){var e,f=a.xhr(),g=++Wc;if(f.open(a.type,a.url,a.async,a.username,a.password),a.xhrFields){for(e in a.xhrFields){f[e]=a.xhrFields[e]}}a.mimeType&&f.overrideMimeType&&f.overrideMimeType(a.mimeType),a.crossDomain||c["X-Requested-With"]||(c["X-Requested-With"]="XMLHttpRequest");for(e in c){void 0!==c[e]&&f.setRequestHeader(e,c[e]+"")}f.send(a.hasContent&&a.data||null),b=function(c,e){var h,i,j;if(b&&(e||4===f.readyState)){if(delete Xc[g],b=void 0,f.onreadystatechange=m.noop,e){4!==f.readyState&&f.abort()}else{j={},h=f.status,"string"==typeof f.responseText&&(j.text=f.responseText);try{i=f.statusText}catch(k){i=""}h||!a.isLocal||a.crossDomain?1223===h&&(h=204):h=j.text?200:404}}j&&d(h,i,j,f.getAllResponseHeaders())},a.async?4===f.readyState?setTimeout(b):f.onreadystatechange=Xc[g]=b:b()},abort:function(){b&&b(void 0,!0)}}}});function Zc(){try{return new a.XMLHttpRequest}catch(b){}}function $c(){try{return new a.ActiveXObject("Microsoft.XMLHTTP")}catch(b){}}m.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(a){return m.globalEval(a),a}}}),m.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET",a.global=!1)}),m.ajaxTransport("script",function(a){if(a.crossDomain){var b,c=y.head||m("head")[0]||y.documentElement;return{send:function(d,e){b=y.createElement("script"),b.async=!0,a.scriptCharset&&(b.charset=a.scriptCharset),b.src=a.url,b.onload=b.onreadystatechange=function(a,c){(c||!b.readyState||/loaded|complete/.test(b.readyState))&&(b.onload=b.onreadystatechange=null,b.parentNode&&b.parentNode.removeChild(b),b=null,c||e(200,"success"))},c.insertBefore(b,c.firstChild)},abort:function(){b&&b.onload(void 0,!0)}}}});var _c=[],ad=/(=)\?(?=&|$)|\?\?/;m.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=_c.pop()||m.expando+"_"+vc++;return this[a]=!0,a}}),m.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(ad.test(b.url)?"url":"string"==typeof b.data&&!(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&ad.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=m.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(ad,"$1"+e):b.jsonp!==!1&&(b.url+=(wc.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||m.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,_c.push(e)),g&&m.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),m.parseHTML=function(a,b,c){if(!a||"string"!=typeof a){return null}"boolean"==typeof b&&(c=b,b=!1),b=b||y;var d=u.exec(a),e=!c&&[];return d?[b.createElement(d[1])]:(d=m.buildFragment([a],b,e),e&&e.length&&m(e).remove(),m.merge([],d.childNodes))};var bd=m.fn.load;m.fn.load=function(a,b,c){if("string"!=typeof a&&bd){return bd.apply(this,arguments)}var d,e,f,g=this,h=a.indexOf(" ");return h>=0&&(d=m.trim(a.slice(h,a.length)),a=a.slice(0,h)),m.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(f="POST"),g.length>0&&m.ajax({url:a,type:f,dataType:"html",data:b}).done(function(a){e=arguments,g.html(d?m("<div>").append(m.parseHTML(a)).find(d):a)}).complete(c&&function(a,b){g.each(c,e||[a.responseText,b,a])}),this},m.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){m.fn[b]=function(a){return this.on(b,a)}}),m.expr.filters.animated=function(a){return m.grep(m.timers,function(b){return a===b.elem}).length};var cd=a.document.documentElement;function dd(a){return m.isWindow(a)?a:9===a.nodeType?a.defaultView||a.parentWindow:!1}m.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=m.css(a,"position"),l=m(a),n={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=m.css(a,"top"),i=m.css(a,"left"),j=("absolute"===k||"fixed"===k)&&m.inArray("auto",[f,i])>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),m.isFunction(b)&&(b=b.call(a,c,h)),null!=b.top&&(n.top=b.top-h.top+g),null!=b.left&&(n.left=b.left-h.left+e),"using" in b?b.using.call(a,n):l.css(n)}},m.fn.extend({offset:function(a){if(arguments.length){return void 0===a?this:this.each(function(b){m.offset.setOffset(this,a,b)})}var b,c,d={top:0,left:0},e=this[0],f=e&&e.ownerDocument;if(f){return b=f.documentElement,m.contains(b,e)?(typeof e.getBoundingClientRect!==K&&(d=e.getBoundingClientRect()),c=dd(f),{top:d.top+(c.pageYOffset||b.scrollTop)-(b.clientTop||0),left:d.left+(c.pageXOffset||b.scrollLeft)-(b.clientLeft||0)}):d}},position:function(){if(this[0]){var a,b,c={top:0,left:0},d=this[0];return"fixed"===m.css(d,"position")?b=d.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),m.nodeName(a[0],"html")||(c=a.offset()),c.top+=m.css(a[0],"borderTopWidth",!0),c.left+=m.css(a[0],"borderLeftWidth",!0)),{top:b.top-c.top-m.css(d,"marginTop",!0),left:b.left-c.left-m.css(d,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||cd;while(a&&!m.nodeName(a,"html")&&"static"===m.css(a,"position")){a=a.offsetParent}return a||cd})}}),m.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c=/Y/.test(b);m.fn[a]=function(d){return V(this,function(a,d,e){var f=dd(a);return void 0===e?f?b in f?f[b]:f.document.documentElement[d]:a[d]:void (f?f.scrollTo(c?m(f).scrollLeft():e,c?e:m(f).scrollTop()):a[d]=e)},a,d,arguments.length,null)}}),m.each(["top","left"],function(a,b){m.cssHooks[b]=Lb(k.pixelPosition,function(a,c){return c?(c=Jb(a,b),Hb.test(c)?m(a).position()[b]+"px":c):void 0})}),m.each({Height:"height",Width:"width"},function(a,b){m.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){m.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return V(this,function(b,c,d){var e;return m.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?m.css(b,c,g):m.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),m.fn.size=function(){return this.length},m.fn.andSelf=m.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return m});var ed=a.jQuery,fd=a.$;return m.noConflict=function(b){return a.$===m&&(a.$=fd),b&&a.jQuery===m&&(a.jQuery=ed),m},typeof b===K&&(a.jQuery=a.$=m),m});window.Modernizr=function(at,ae,aj){function ag(a){aw.cssText=a}function ai(b,a){return ag(B.join(b+";")+(a||""))}function ax(b,a){return typeof b===a}function ao(b,a){return !!~(""+b).indexOf(a)}function av(c,a){for(var b in c){var d=c[b];if(!ao(d,"-")&&aw[d]!==aj){return"pfx"==a?d:!0}}return !1}function af(d,b,c){for(var g in d){var a=b[d[g]];if(a!==aj){return c===!1?d[g]:ax(a,"function")?a.bind(c||b):a}}return !1}function ad(c,a,g){var b=c.charAt(0).toUpperCase()+c.slice(1),d=(c+" "+am.join(b+" ")+b).split(" ");return ax(a,"string")||ax(a,"undefined")?av(d,a):(d=(c+" "+q.join(b+" ")+b).split(" "),af(d,a,g))}function al(){ah.input=function(c){for(var a=0,b=c.length;b>a;a++){an[c[a]]=!!(c[a] in R)}return an.list&&(an.list=!(!ae.createElement("datalist")||!at.HTMLDataListElement)),an}("autocomplete autofocus list placeholder max min multiple pattern required step".split(" ")),ah.inputtypes=function(h){for(var g,j,b,d=0,k=h.length;k>d;d++){R.setAttribute("type",j=h[d]),g="text"!==R.type,g&&(R.value=aa,R.style.cssText="position:absolute;visibility:hidden;",/^range$/.test(j)&&R.style.WebkitAppearance!==aj?(aq.appendChild(R),b=ae.defaultView,g=b.getComputedStyle&&"textfield"!==b.getComputedStyle(R,null).WebkitAppearance&&0!==R.offsetHeight,aq.removeChild(R)):/^(search|tel)$/.test(j)||(g=/^(url|email)$/.test(j)?R.checkValidity&&R.checkValidity()===!1:R.value!=aa)),G[h[d]]=!!g}return G}("search tel url email datetime date month week time datetime-local number range color".split(" "))}var au,ar,ak="2.8.3",ah={},ap=!0,aq=ae.documentElement,ac="modernizr",Z=ae.createElement(ac),aw=Z.style,R=ae.createElement("input"),aa=":)",ab={}.toString,B=" -webkit- -moz- -o- -ms- ".split(" "),V="Webkit Moz O ms",am=V.split(" "),q=V.toLowerCase().split(" "),I={svg:"http://www.w3.org/2000/svg"},J={},G={},an={},X=[],U=X.slice,Q=function(m,h,b,g){var w,k,v,y,x=ae.createElement("div"),j=ae.body,p=j||ae.createElement("body");if(parseInt(b,10)){for(;b--;){v=ae.createElement("div"),v.id=g?g[b]:ac+(b+1),x.appendChild(v)}}return w=["&#173;",'<style id="s',ac,'">',m,"</style>"].join(""),x.id=ac,(j?x:p).innerHTML+=w,p.appendChild(x),j||(p.style.background="",p.style.overflow="hidden",y=aq.style.overflow,aq.style.overflow="hidden",aq.appendChild(p)),k=h(x,m),j?x.parentNode.removeChild(x):(p.parentNode.removeChild(p),aq.style.overflow=y),!!k},Y=function(a){var c=at.matchMedia||at.msMatchMedia;if(c){return c(a)&&c(a).matches||!1}var b;return Q("@media "+a+" { #"+ac+" { position: absolute; } }",function(d){b="absolute"==(at.getComputedStyle?getComputedStyle(d,null):d.currentStyle).position}),b},W=function(){function b(d,g){g=g||ae.createElement(a[d]||"div"),d="on"+d;var c=d in g;return c||(g.setAttribute||(g=ae.createElement("div")),g.setAttribute&&g.removeAttribute&&(g.setAttribute(d,""),c=ax(g[d],"function"),ax(g[d],"undefined")||(g[d]=aj),g.removeAttribute(d))),g=null,c}var a={select:"input",change:"input",submit:"form",reset:"form",error:"img",load:"img",abort:"img"};return b}(),K={}.hasOwnProperty;ar=ax(K,"undefined")||ax(K.call,"undefined")?function(b,a){return a in b&&ax(b.constructor.prototype[a],"undefined")}:function(b,a){return K.call(b,a)},Function.prototype.bind||(Function.prototype.bind=function(c){var a=this;if("function"!=typeof a){throw new TypeError}var d=U.call(arguments,1),b=function(){if(this instanceof b){var j=function(){};j.prototype=a.prototype;var g=new j,h=a.apply(g,d.concat(U.call(arguments)));return Object(h)===h?h:g}return a.apply(c,d.concat(U.call(arguments)))};return b}),J.flexbox=function(){return ad("flexWrap")},J.flexboxlegacy=function(){return ad("boxDirection")},J.canvas=function(){var a=ae.createElement("canvas");return !(!a.getContext||!a.getContext("2d"))},J.canvastext=function(){return !(!ah.canvas||!ax(ae.createElement("canvas").getContext("2d").fillText,"function"))},J.webgl=function(){return !!at.WebGLRenderingContext},J.touch=function(){var a;return"ontouchstart" in at||at.DocumentTouch&&ae instanceof DocumentTouch?a=!0:Q(["@media (",B.join("touch-enabled),("),ac,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(b){a=9===b.offsetTop}),a},J.geolocation=function(){return"geolocation" in navigator},J.postmessage=function(){return !!at.postMessage},J.websqldatabase=function(){return !!at.openDatabase},J.indexedDB=function(){return !!ad("indexedDB",at)},J.hashchange=function(){return W("hashchange",at)&&(ae.documentMode===aj||ae.documentMode>7)},J.history=function(){return !(!at.history||!history.pushState)},J.draganddrop=function(){var a=ae.createElement("div");return"draggable" in a||"ondragstart" in a&&"ondrop" in a},J.websockets=function(){return"WebSocket" in at||"MozWebSocket" in at},J.rgba=function(){return ag("background-color:rgba(150,255,150,.5)"),ao(aw.backgroundColor,"rgba")},J.hsla=function(){return ag("background-color:hsla(120,40%,100%,.5)"),ao(aw.backgroundColor,"rgba")||ao(aw.backgroundColor,"hsla")},J.multiplebgs=function(){return ag("background:url(https://),url(https://),red url(https://)"),/(url\s*\(.*?){3}/.test(aw.background)},J.backgroundsize=function(){return ad("backgroundSize")},J.borderimage=function(){return ad("borderImage")},J.borderradius=function(){return ad("borderRadius")},J.boxshadow=function(){return ad("boxShadow")},J.textshadow=function(){return""===ae.createElement("div").style.textShadow},J.opacity=function(){return ai("opacity:.55"),/^0.55$/.test(aw.opacity)},J.cssanimations=function(){return ad("animationName")},J.csscolumns=function(){return ad("columnCount")},J.cssgradients=function(){var b="background-image:",a="gradient(linear,left top,right bottom,from(#9f9),to(white));",c="linear-gradient(left top,#9f9, white);";return ag((b+"-webkit- ".split(" ").join(a+b)+B.join(c+b)).slice(0,-b.length)),ao(aw.backgroundImage,"gradient")},J.cssreflections=function(){return ad("boxReflect")},J.csstransforms=function(){return !!ad("transform")},J.csstransforms3d=function(){var a=!!ad("perspective");return a&&"webkitPerspective" in aq.style&&Q("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(b){a=9===b.offsetLeft&&3===b.offsetHeight}),a},J.csstransitions=function(){return ad("transition")},J.fontface=function(){var a;return Q('@font-face {font-family:"font";src:url("https://")}',function(h,d){var g=ae.getElementById("smodernizr"),b=g.sheet||g.styleSheet,c=b?b.cssRules&&b.cssRules[0]?b.cssRules[0].cssText:b.cssText||"":"";a=/src/i.test(c)&&0===c.indexOf(d.split(" ")[0])}),a},J.generatedcontent=function(){var a;return Q(["#",ac,"{font:0/0 a}#",ac,':after{content:"',aa,'";visibility:hidden;font:3px/1 a}'].join(""),function(b){a=b.offsetHeight>=3}),a},J.video=function(){var b=ae.createElement("video"),c=!1;try{(c=!!b.canPlayType)&&(c=new Boolean(c),c.ogg=b.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),c.h264=b.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),c.webm=b.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""))}catch(a){}return c},J.audio=function(){var b=ae.createElement("audio"),c=!1;try{(c=!!b.canPlayType)&&(c=new Boolean(c),c.ogg=b.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),c.mp3=b.canPlayType("audio/mpeg;").replace(/^no$/,""),c.wav=b.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),c.m4a=(b.canPlayType("audio/x-m4a;")||b.canPlayType("audio/aac;")).replace(/^no$/,""))}catch(a){}return c},J.localstorage=function(){try{return localStorage.setItem(ac,ac),localStorage.removeItem(ac),!0}catch(a){return !1}},J.sessionstorage=function(){try{return sessionStorage.setItem(ac,ac),sessionStorage.removeItem(ac),!0}catch(a){return !1}},J.webworkers=function(){return !!at.Worker},J.applicationcache=function(){return !!at.applicationCache},J.svg=function(){return !!ae.createElementNS&&!!ae.createElementNS(I.svg,"svg").createSVGRect},J.inlinesvg=function(){var a=ae.createElement("div");return a.innerHTML="<svg/>",(a.firstChild&&a.firstChild.namespaceURI)==I.svg},J.smil=function(){return !!ae.createElementNS&&/SVGAnimate/.test(ab.call(ae.createElementNS(I.svg,"animate")))},J.svgclippaths=function(){return !!ae.createElementNS&&/SVGClipPath/.test(ab.call(ae.createElementNS(I.svg,"clipPath")))};for(var O in J){ar(J,O)&&(au=O.toLowerCase(),ah[au]=J[O](),X.push((ah[au]?"":"no-")+au))}return ah.input||al(),ah.addTest=function(c,a){if("object"==typeof c){for(var b in c){ar(c,b)&&ah.addTest(b,c[b])}}else{if(c=c.toLowerCase(),ah[c]!==aj){return ah}a="function"==typeof a?a():a,"undefined"!=typeof ap&&ap&&(aq.className+=" "+(a?"":"no-")+c),ah[c]=a}return ah},ag(""),Z=R=null,function(S,w){function D(d,a){var g=d.createElement("p"),c=d.getElementsByTagName("head")[0]||d.documentElement;return g.innerHTML="x<style>"+a+"</style>",c.insertBefore(g.lastChild,c.firstChild)}function z(){var a=b.elements;return"string"==typeof a?a.split(" "):a}function C(c){var a=j[c[M]];return a||(a={},N++,c[M]=N,j[N]=a),a}function az(g,h,d){if(h||(h=w),F){return h.createElement(g)}d||(d=C(h));var c;return c=d.cache[g]?d.cache[g].cloneNode():A.test(g)?(d.cache[g]=d.createElem(g)).cloneNode():d.createElem(g),!c.canHaveChildren||E.test(g)||c.tagUrn?c:d.frag.appendChild(c)}function H(l,o){if(l||(l=w),F){return l.createDocumentFragment()}o=o||C(l);for(var d=o.frag.cloneNode(),g=0,m=z(),h=m.length;h>g;g++){d.createElement(m[g])}return d}function ay(c,a){a.cache||(a.cache={},a.createElem=c.createElement,a.createFrag=c.createDocumentFragment,a.frag=a.createFrag()),c.createElement=function(d){return b.shivMethods?az(d,c,a):a.createElem(d)},c.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+z().join().replace(/[\w\-]+/g,function(d){return a.createElem(d),a.frag.createElement(d),'c("'+d+'")'})+");return n}")(b,a.frag)}function x(c){c||(c=w);var a=C(c);return !b.shivCSS||k||a.hasCSS||(a.hasCSS=!!D(c,"article,aside,dialog,figcaption,figure,footer,header,hgroup,main,nav,section{display:block}mark{background:#FF0;color:#000}template{display:none}")),F||ay(c,a),c}var k,F,T="3.7.0",P=S.html5||{},E=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i,A=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i,M="_html5shiv",N=0,j={};!function(){try{var a=w.createElement("a");a.innerHTML="<xyz></xyz>",k="hidden" in a,F=1==a.childNodes.length||function(){w.createElement("a");var d=w.createDocumentFragment();return"undefined"==typeof d.cloneNode||"undefined"==typeof d.createDocumentFragment||"undefined"==typeof d.createElement}()}catch(c){k=!0,F=!0}}();var b={elements:P.elements||"abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video",version:T,shivCSS:P.shivCSS!==!1,supportsUnknownElements:F,shivMethods:P.shivMethods!==!1,type:"default",shivDocument:x,createElement:az,createDocumentFragment:H};S.html5=b,x(w)}(this,ae),ah._version=ak,ah._prefixes=B,ah._domPrefixes=q,ah._cssomPrefixes=am,ah.mq=Y,ah.hasEvent=W,ah.testProp=function(a){return av([a])},ah.testAllProps=ad,ah.testStyles=Q,ah.prefixed=function(b,a,c){return a?ad(b,a,c):ad(b,"pfx")},aq.className=aq.className.replace(/(^|\s)no-js(\s|$)/,"$1$2")+(ap?" js "+X.join(" "):""),ah}(this,this.document);var Lazyload=function(a,b,c){this.container=a;this.ratioAppearance=b;this.defaultImageUrl=c;var g=this,d;$(window).on("scroll resize",function(){d=$(window).scrollTop();g.render(d)});$(document).ready(function(){d=$(window).scrollTop();g.render(d)})};Lazyload.prototype.render=function(b){var a=Math.ceil($(window).height()*this.ratioAppearance),c=this;$(this.container+" .lazyload:not(.loaded):not(.loading)").each(function(){var d=$(this);if($(this).is(":visible")&&($(this).offset().top-b)<a){c.load(d)}})};Lazyload.prototype.load=function(a){this.setLayout(a,{state:"loading"});var d=a.attr("data-imgSrc"),c=a.attr("data-imgAlt"),g=this,b=new Image();a.addClass("loading");b.onload=function(){g.inject(a,d,c)};b.onerror=function(){g.setLayout(a,{state:"error"})};b.src=d};Lazyload.prototype.inject=function(a,c,b){$image=$("<img />",{itemprop:"image",content:c,src:c,alt:b});a.html("").append($image).removeClass("loading loader layout").addClass("loaded")};Lazyload.prototype.setLayout=function(b,a){var c=this;if(a.state=="loading"){b.addClass("loader layout").append('<span class="loaderGif"></span>')}else{if(a.state=="error"){$image=$("<img />",{src:c.defaultImageUrl,alt:"No image here","class":"no-image"});b.html("").append($image).removeClass("loading loader layout").addClass("loaded")}}};var DeviceDetector=function(){};DeviceDetector.prototype.isMobile=function(){if(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Touch|IEMobile|Opera Mini/i.test(navigator.userAgent)){return true}else{return false}};DeviceDetector.prototype.isWindows=function(){if(/Touch/i.test(navigator.userAgent)){return true}else{return false}};var deviceDetectorDefault=new DeviceDetector();jQuery.support.cors=true;var Pricing=function(a,c,b){this.cachedData=null;this.apiUrlBase=a;this.apiUrl=this.apiUrlBase+"/api/pricing/get_all_services.json";this.apiKey=c;this.apiId="leboncoin_web_pricing";this.apiBaseKey="pricing";this.dataKey="pricing";this.userType=b};Pricing.prototype.getPrices=function(b,a){if(this.cachedData!==null){return b(this.cachedData)}jQuery.support.cors=true;this.successAjax=function(d){try{this.cachedData=c.cleanData(d)}catch(g){this.handleError(g)}(typeof(a)!="undefined")?b(this.cachedData,a):b(this.cachedData)};var c=this;if(navigator.userAgent.match(/msie/i)&&window.XDomainRequest){xdr=new XDomainRequest();xdr.open("GET",this.apiUrl+"?app_id="+this.apiId+"&key="+this.apiKey);xdr.onerror=function(){throw new Error("Error during request prices")};xdr.onload=function(){c.successAjax(xdr.responseText)};xdr.send()}else{$.ajax({crossDomain:true,url:this.apiUrl,dataType:"json",type:"GET",data:{app_id:this.apiId,key:this.apiKey}}).done(function(d){c.successAjax(d)}).fail(function(d,h,g){throw new Error("Error during request prices")})}};Pricing.prototype.formatPrice=function(a){if(typeof a=="number"&&a===parseInt(a,10)&&a>=0){return(a/100).toFixed(2)}return false};Pricing.prototype.cleanData=function(b){var a="cleanData() - The data does not match what was expected";if(!b){throw new Error(a)}if(typeof b!="object"){b=JSON.parse(b)}if(!this.userType){return b[this.dataKey]}else{if(!b[this.dataKey][this.userType]){throw new Error(a)}}return b[this.dataKey][this.userType]};Pricing.prototype.handleError=function(a){if(typeof console!="undefined"){console.log(a.name+": "+a.message)}};var Loader=function(a){this.container=$(a);this.loader=$("<div>",{"class":"layout loader hidden"});this.loaderGif=$("<span>",{"class":"loaderGif"});this.loader.append(this.loaderGif);this.container.append(this.loader)};Loader.prototype.show=function(){this.loader.removeClass("hidden")};Loader.prototype.hide=function(){this.loader.addClass("hidden")};Object.size=function(c){var b=0,a;for(a in c){if(c.hasOwnProperty(a)){b++}}return b};var Cookies=function(a){this.domain=(typeof(a)!="undefined")?a:""};Cookies.prototype.addCookie=function(c,d,j,a){if(j){var g=new Date();g.setTime(g.getTime()+(j*24*60*60*1000));var b="; expires="+g.toUTCString()}else{var b=""}if(a){var h="; domain="+a}else{var h=""}document.cookie=c+"="+d+b+h+"; path=/"};Cookies.prototype.getCookie=function(b){var g=b+"=";var a=document.cookie.split(";");for(var d=0;d<a.length;d++){var h=a[d];while(h.charAt(0)==" "){h=h.substring(1,h.length)}if(h.indexOf(g)==0){return h.substring(g.length,h.length)}}return null};Cookies.prototype.removeCookie=function(b,a){if(typeof a!=="undefined"){this.addCookie(b,"",-1,a)}else{if(!!this.domain){this.addCookie(b,"",-1,this.domain)}else{this.addCookie(b,"",-1)}}};Cookies.prototype.setCookie=function(b,c,a){a=(typeof(a)!="undefined")?";domain="+a:"";if(c!=null&&c!=""){document.cookie=b+"="+c+a}};Cookies.prototype.areCookiesEnabled=function(){var a=(navigator.cookieEnabled)?true:false;if(typeof navigator.cookieEnabled=="undefined"&&!a){document.cookie="testcookie";a=(document.cookie.indexOf("testcookie")!=-1)?true:false}return(a)};ImageUrl=function(b,c,a){this.url=b;this.width=c;this.height=a};CurrentWindow=function(){this.width=$(window).innerWidth();this.height=$(window).innerHeight();return this};CurrentWindow.prototype.getWidth=function(){this.width=$(window).innerWidth();return this.width};CurrentWindow.prototype.getHeight=function(){this.height=$(window).innerHeight();return this.height};var xhrO=null;var MultipleLocation=function(c,a,b){this.inputTarget=c;this.desktop=true;this.locationListElement_printed=false;this.numberOfLocation=a;this.numberOfAuthorizedLocation=b;this.search={};this.search.zipcode="";this.search.city="";this.search.dpt_code="";this.search.region="";this.search.reg_or_dpt="";this.search.searcharea="";this.search.searched="";var d=this;$("body").on("keyup",this.inputTarget,function(l){var j=l.which?l.which:l.keyCode;var k=$(this).val();switch(j){case 13:if($(".location-list li.selected").length){d.addLocation($(".location-list li.selected"))}else{if((d.locationListElement_printed==true)&&(city_selected==false)){if($(".location-list li").length==1){d.addLocation($(".location-list li"))}}}d.closeLocationList();$(d.inputTarget).val("").focus();return false;break;case 38:d.selectLocation("prev");return false;break;case 40:d.selectLocation("next");return false;break;default:var m=$(this).val();var g=new RegExp("([0-9]{1,5})");var h=g.exec(m);d.search.city=m.replace(new RegExp("[0-9]*","g"),"").replace(new RegExp("^[- ']*"),"");d.search.city=d.search.city.replace(new RegExp("[- ']*$"),"");d.search.city=d.search.city.replace(new RegExp('"',"g"),"");d.search.city=removeDiacritics(d.search.city);(h!==null)?d.search.zipcode=h[0]:d.search.zipcode="";d.search.searcharea=$("#searcharea").val();d.search.dpt_code=getDptCode(d.search.searcharea);d.search.reg_or_dpt=$('input[name="reg_or_dpt"]').val();d.search.region=$('input[name="reg"]').val();if($(".inputWrapper .button-lightgrey").length){$(".inputWrapper .button-lightgrey .location").each(function(){d.search.searched+=$.trim($(this).text())+"("});d.search.searched=d.search.searched.substr(0,(d.search.searched.length-1))}d.getLocationList(d.search.city,d.search.zipcode,d.search.dpt_code,d.search.region,d.search.reg_or_dpt,d.search.searcharea,d.search.searched);d.search.searched="";break}});$("body").on("blur",this.inputTarget,function(g){if($(".location-list.visible").length){if($(".location-list li").length==1){$(d.inputTarget).val("").focus();d.addLocation($(".location-list li"));d.closeLocationList()}}});$("body").on("click",".location-container .location",function(){d.removeLocation($(this))});this.toggleInput();currentWindow=new CurrentWindow();if(currentWindow.width<970){this.desktop=false}$(window).on("resize",function(){if(currentWindow.getWidth()<970){d.desktop=false}else{d.desktop=true}})};MultipleLocation.prototype.getLocationList=function(h,b,a,g,d,c,k){var j=this;if(null!==xhrO){xhrO.abort()}xhrO=$.ajax({type:"GET",url:"/beta/ajax/location_list.html",data:{city:h,zipcode:b,dpt_code:a,region:g,reg_or_dpt:d,searcharea:c,searched:k},success:function(l){xhrO=null;$(".location-list").html(l);$(".location-list li").first().addClass("selected");j.orderLocationWithCookies(h,b,j.getAlreadySearchedLocation(k));j.removeAlreadyAddedLocation($(".location-container .location"));if($(".location-list li").length){j.openLocationList();j.locationListElement_printed=true}else{j.closeLocationList()}$("body").off("click",".location-list li");$("body").on("click",".location-list li",function(){j.addLocation($(this));j.closeLocationList();$(j.inputTarget).val("").focus()})}})};MultipleLocation.prototype.getLocationCookieNamePrefix=function(){var c="location_search_",b=$('select[name="w"]').val(),a;if(b!=3){a=$('input[name="reg"]').val()+"_"+b}else{a="all"}return c+a};MultipleLocation.prototype.orderLocationWithCookies=function(r,b,v){if(r==""&&b==""){return""}var n=[],k="";if(document.cookie&&document.cookie!=""){var h=this.getLocationCookieNamePrefix();var y=$('input[name="nbofSuggestionLocale"]').val();var l=document.cookie.split(";");var o=l.length;var s=r.replace(/^(le_|la_|les_|l_)/i,"");var c=new RegExp("^"+r+"[-a-z\u00E0-\u00F6\u00F8-\u00FFA-Z _]*"+b,"i");var a=new RegExp("^"+s+"[-a-z\u00E0-\u00F6\u00F8-\u00FFA-Z _]*"+b,"i");for(var w=0;w<o;w++){var p=l[w].split("=");var x=p[0].replace(/^ /,"");if(x.match(new RegExp("^"+h))){var d=p[1].split(":");var m=d[0];var q=d[0].replace(/^(le |la |les |l')/i,"");var g=c.test(m);var z=a.test(q);if(g||z){n.push({value:m,hits:d[1]})}}}}n=n.sort(function(B,A){return A.hits-B.hits}).slice(0,y);for(w=0;w<n.length;w++){var j=n[w].value;n[w].value=decodeURI(n[w].value);var d=n[w].value.split(" ");if($.inArray(d[0]+d[1],v)<0){$(".location-list > li:contains("+d[0]+" "+d[1]+")").remove();k+="<li>"+d[0]+" "+d[1]+"</li>"}}locationCookieList=$(k);k="";for(w=1;w<=locationCookieList.length;w++){if(w==locationCookieList.length){locationCookieList[w-1].setAttribute("class","delimiter")}k+=locationCookieList[w-1].outerHTML}if(k!=""){$(".location-list").prepend(k);$(".location-list .selected").removeClass("selected");$(".location-list li:first-child").addClass("selected")}};MultipleLocation.prototype.getAlreadySearchedLocation=function(b){var c=[];var a=[];if(b!=""){c=b.split("(");for(i=0;i<c.length;i++){a.push(c[i].replace(" ","").replace("\u00a0","").replace(/&nbsp;/g,""))}}return a};MultipleLocation.prototype.removeAlreadyAddedLocation=function(a){if(a.length>0){a.each(function(){var b=$(this).children(".location_city").text();$('.location-list li:contains("'+b+'")').remove()})}};MultipleLocation.prototype.closeLocationList=function(){$(".location-list").html("");if(this.locationListElement_printed){$(".location-list").removeClass("visible");this.locationListElement_printed=false}};MultipleLocation.prototype.openLocationList=function(){var a="";if(this.desktop==true){a=($(".location-container .inputWrapper").height()+7)+"px"}else{a="-"+($(".location-list").height()+7)+"px"}$(".location-list").css("top",a).addClass("visible");this.locationListElement_printed=true};MultipleLocation.prototype.addLocation=function(a){if(this.numberOfLocation!=this.numberOfAuthorizedLocation){$cartridge=$("<span>",{"class":"button-lightgrey location"});$location=$("<span>",{"class":"location_city",text:$.trim(a.text())}).appendTo($cartridge);$closeCartridge=$("<span>",{"class":"mls",text:"x"}).appendTo($cartridge);if($(".location-container .inputWrapper .button-lightgrey").length){$(".location-container .inputWrapper .button-lightgrey:last").after($cartridge)}else{$(".location-container .inputWrapper").prepend($cartridge)}}this.numberOfLocation++;this.toggleInput()};MultipleLocation.prototype.removeLocation=function(a){a.remove();this.numberOfLocation--;this.toggleInput();this.closeLocationList()};MultipleLocation.prototype.toggleInput=function(a){if(this.numberOfLocation==this.numberOfAuthorizedLocation){$(this.inputTarget).hide()}else{if(this.numberOfLocation==(this.numberOfAuthorizedLocation-1)){$(this.inputTarget).show()}}};MultipleLocation.prototype.selectLocation=function(a){if($(".location-list.visible").length){if(a=="prev"){this.selectPreviousLocation()}else{this.selectNextLocation()}}};MultipleLocation.prototype.selectPreviousLocation=function(){if($(".location-list li.selected").is(".location-list li:first")){$(".location-list li.selected").removeClass("selected");$(".location-list li:last").addClass("selected")}else{$(".location-list li.selected").removeClass("selected").prev().addClass("selected")}};MultipleLocation.prototype.selectNextLocation=function(){if($(".location-list li.selected").is(".location-list li:last")){$(".location-list li.selected").removeClass("selected");$(".location-list li:first").addClass("selected")}else{$(".location-list li.selected").removeClass("selected").next().addClass("selected")}};var MultipleLocationNewad=function(g,a,c){this.inputTarget=g;this.desktop=true;this.locationListElement_printed=false;this.numberOfLocation=a;this.numberOfAuthorizedLocation=c;this.cityAndZipcodeAreSelected=false;this.search={};this.search.zipcode="";this.search.city="";this.search.dpt_code="";this.search.region="";this.search.reg_or_dpt="";this.search.searcharea="";this.search.searched="";var h=this;$("body").on("keyup",this.inputTarget,function(n){var l=n.which?n.which:n.keyCode;var m=$(this).val();if(h.cityAndZipcodeAreSelected==true){h.removeLocation(false)}switch(l){case 13:if($(".location-list li.selected").length){h.addLocation($(".location-list li.selected"),null,null,true)}else{if((h.locationListElement_printed==true)&&(city_selected==false)){if($(".location-list li").length==1){h.addLocation($(".location-list li"),null,null,true)}h.closeLocationList()}}$(h.inputTarget).focus();h.closeLocationList();return false;break;case 38:h.selectLocation("prev");return false;break;case 40:h.selectLocation("next");return false;break;default:var o=$(this).val();if(o==""){if(typeof newadForm!=="undefined"){newadForm.resetLocationAndMap(true)}}else{var j=new RegExp("([0-9]{1,5})");var k=j.exec(o);h.search.city=o.replace(new RegExp("[0-9]*","g"),"").replace(new RegExp("^[- ']*"),"");h.search.city=h.search.city.replace(new RegExp("[- ']*$"),"");h.search.city=h.search.city.replace(new RegExp('"',"g"),"");h.search.city=removeDiacritics(h.search.city);(k!==null)?h.search.zipcode=k[0]:h.search.zipcode="";h.search.searcharea=$("#searcharea").val();h.search.dpt_code=getDptCode(h.search.searcharea);h.search.reg_or_dpt=$('input[name="reg_or_dpt"]').val();h.search.region=$('input[name="reg"]').val();if($(".inputWrapper .button-lightgrey").length){$(".inputWrapper .button-lightgrey .location").each(function(){h.search.searched+=$.trim($(this).text())+"("});h.search.searched=h.search.searched.substr(0,(h.search.searched.length-1))}h.getLocationList(h.search.city,h.search.zipcode,h.search.dpt_code,h.search.region,h.search.reg_or_dpt,h.search.searcharea,h.search.searched);h.search.searched=""}break}});var d=0,b=0;$("body").on("mousemove",function(j){d=j.clientX;b=j.clientY});$("body").on("blur",this.inputTarget,function(j){var k=document.elementFromPoint(d,b);if(!($(k).parents().hasClass("location-list"))){if($(".location-list.visible").length){h.closeLocationList()}}if(typeof newadForm!=="undefined"){newadForm.showLocationError("location_p")}});currentWindow=new CurrentWindow();if(currentWindow.width<970){this.desktop=false}$(window).on("resize",function(){if(currentWindow.getWidth()<970){h.desktop=false}else{h.desktop=true}})};MultipleLocationNewad.prototype=new MultipleLocation();MultipleLocationNewad.prototype.getLocationList=function(h,b,a,g,d,c,k){var j=this;if(null!==xhrO){xhrO.abort()}xhrO=$.ajax({type:"GET",url:"/beta/ajax/location_list_newad.html",data:{city:h,zipcode:b,dpt_code:a,region:g,reg_or_dpt:d,searcharea:c,searched:k},success:function(l){xhrO=null;$(".location-list").html(l);$(".location-list li").first().addClass("selected");j.orderLocationWithCookies(h,b,j.getAlreadySearchedLocation(k));j.removeAlreadyAddedLocation($(".location-container .location"));if($(".location-list li").length){j.openLocationList()}else{j.closeLocationList()}$("body").off("click",".location-list li");$("body").on("click",".location-list li",function(){j.addLocation($(this),null,null,true);j.closeLocationList()})}})};MultipleLocationNewad.prototype.addLocation=function(a,c,d,b){(a!=null)?$(this.inputTarget).val($.trim(a.text())):$(this.inputTarget).val(d+" "+c);$icon_close=$("<i>",{"class":"icon-close-circle-outline icon-2x"});$icon_close.insertAfter(this.inputTarget);this.numberOfLocation++;this.spreadCityAndZipcode(a);if($('input[data-for="zipcode"]').hasClass("visible")){$('input[data-for="zipcode"]').removeClass("visible")}if($('span.label-error[data-for="zipcode"]').hasClass("visible")){$('span.label-error[data-for="zipcode"]').removeClass("visible")}this.cityAndZipcodeAreSelected=true;if(typeof newadForm!=="undefined"){newadForm.hideLocationError();if($("#address").val()==""&&typeof(b)!="undefined"){newadForm.displayMap()}}};MultipleLocationNewad.prototype.removeLocation=function(a){if(a==true){$(this.inputTarget).val("")}if($(".location-container .icon-close-circle-outline").length){$(".location-container .icon-close-circle-outline").remove();this.numberOfLocation--;$('input[name="address"]').val("");this.resetCityAndZipcode()}this.cityAndZipcodeAreSelected=false;if(typeof newadForm!=="undefined"){newadForm.toggleShowmapButton("hide")}};MultipleLocationNewad.prototype.spreadCityAndZipcode=function(a){if(a!=null){var c=$(".zipcode",a).html(),g=$(".city",a).attr("title"),d=$(a).attr("data-region"),b=$(a).attr("data-dpt-code");$('input[name="zipcode"]').val(c);$('input[name="city"]').val(g);$('input[name="region"]').val(d);$('input[name="dpt_code"]').val(b);$('input[name="zipcode"]').trigger("change")}};MultipleLocationNewad.prototype.resetCityAndZipcode=function(){$('input[name="zipcode"]').val("");$('input[name="city"]').val("");$('input[name="region"]').val("");$('input[name="dpt_code"]').val("");if(typeof newadForm!=="undefined"){newadForm.zipcode=null;newadForm.city=null;newadForm.toggleAddressCross()}};var MultipleLocationTransparent=function(c,l,a,j,h,k,b,d){this.form=c;this.inputTarget=l;this.inputZipcode=h;this.inputCity=k;this.inputRegion=b;this.inputDptCode=d;this.desktop=true;this.locationListElement_printed=false;this.numberOfLocation=a;this.numberOfAuthorizedLocation=j;this.search={};this.search.zipcode="";this.search.city="";this.search.dpt_code="";this.search.region="";this.search.reg_or_dpt="";this.search.searcharea="";this.search.searched="";var g=this;$("body").on("keyup",this.inputTarget,function(q){var o=q.which?q.which:q.keyCode;var p=$(this).val();switch(o){case 13:if($(".location-list li.selected").length){g.addLocation($(".location-list li.selected"))}else{if((g.locationListElement_printed==true)&&(city_selected==false)){if($(".location-list li").length==1){g.addLocation($(".location-list li"))}}}g.closeLocationList();return false;break;case 38:g.selectLocation("prev");return false;break;case 40:g.selectLocation("next");return false;break;default:var r=$(this).val();var m=new RegExp("([0-9]{1,5})");var n=m.exec(r);g.search.city=r.replace(new RegExp("[0-9]*","g"),"").replace(new RegExp("^[- ']*"),"");g.search.city=g.search.city.replace(new RegExp("[- ']*$"),"");g.search.city=g.search.city.replace(new RegExp('"',"g"),"");g.search.city=removeDiacritics(g.search.city);(n!==null)?g.search.zipcode=n[0]:g.search.zipcode="";g.search.searcharea=$("#searcharea").val();g.search.dpt_code=getDptCode(g.search.searcharea);g.search.reg_or_dpt=$('input[name="reg_or_dpt"]').val();g.search.region=$('input[name="reg"]').val();if($(".inputWrapper .button-lightgrey").length){$(".inputWrapper .button-lightgrey .location").each(function(){g.search.searched+=$.trim($(this).text())+"("});g.search.searched=g.search.searched.substr(0,(g.search.searched.length-1))}g.getLocationList(g.search.city,g.search.zipcode,g.search.dpt_code,g.search.region,g.search.reg_or_dpt,g.search.searcharea,g.search.searched);g.search.searched="";break}});$("body").on("blur",this.inputTarget,function(m){if($(".location-list.visible").length){if($(".location-list li").length==1){g.addLocation($(".location-list li"));g.closeLocationList()}}});$("body").on("click",".location-container .icon-close-circle-outline",function(){g.removeLocation()});$("body").on("keypress",this.inputTarget,function(n){var m=n.which?n.which:n.keyCode;if(m===13){n.preventDefault()}});currentWindow=new CurrentWindow();if(currentWindow.width<970){this.desktop=false}$(window).on("resize",function(){if(currentWindow.getWidth()<970){g.desktop=false}else{g.desktop=true}})};MultipleLocationTransparent.prototype=new MultipleLocation();MultipleLocationTransparent.prototype.getLocationList=function(h,b,a,g,d,c,k){var j=this;if(null!==xhrO){xhrO.abort()}xhrO=$.ajax({type:"GET",url:"/beta/ajax/location_list_full.html",data:{city:h,zipcode:b,dpt_code:a,region:g,reg_or_dpt:d,searcharea:c,searched:k},success:function(l){xhrO=null;$(".location-list").html(l);$(".location-list li").first().addClass("selected");j.orderLocationWithCookies(h,b,j.getAlreadySearchedLocation(k));j.removeAlreadyAddedLocation($(".location-container .location"));if($(".location-list li").length){j.openLocationList()}else{j.closeLocationList()}$("body").off("click",".location-list li");$("body").on("click",".location-list li",function(){j.addLocation($(this),null,null,true);j.closeLocationList()})}})};MultipleLocationTransparent.prototype.addLocation=function(a,b,c){(a!=null)?$(this.inputTarget).val($.trim(a.text())):$(this.inputTarget).val(c+" "+b);if($(".location-container .icon-close-circle-outline").length==0){$icon_close=$("<i>",{"class":"icon-close-circle-outline icon-2x"});$icon_close.insertAfter(this.inputTarget)}this.numberOfLocation++;this.spreadCityAndZipcode(a);this.hideError();this.cityAndZipcodeAreSelected=true};MultipleLocationTransparent.prototype.spreadCityAndZipcode=function(a){if(a!=null){var c=$(".zipcode",a).html(),g=$(".city",a).attr("title"),d=$(a).attr("data-region"),b=$(a).attr("data-dpt-code");$(this.inputZipcode).val(c);$(this.inputCity).val(g);$(this.inputRegion).val(d);$(this.inputDptCode).val(b)}};MultipleLocationTransparent.prototype.removeLocation=function(){$(this.inputTarget).val("");$(this.inputZipcode).val("");$(this.inputCity).val("");$(this.inputRegion).val("");$(this.inputDptCode).val("");$(".icon-close-circle-outline").remove();this.cityAndZipcodeAreSelected=false};MultipleLocationTransparent.prototype.checkError=function(a){if(cityMultipleLocation.numberOfLocation!=cityMultipleLocation.numberOfAuthorizedLocation){var b=$(this.inputTarget).attr("name");$('span.label-error[data-for="'+b+'"]').html(a);this.showError();this.closeLocationList();return false}return true};MultipleLocationTransparent.prototype.showError=function(){var a=$(this.inputTarget).attr("name");$('span.label-error[data-for="'+a+'"]').addClass("visible")};MultipleLocationTransparent.prototype.hideError=function(){var a=$(this.inputTarget).attr("name");$('span.label-error[data-for="'+a+'"]').removeClass("visible")};MultipleLocationTransparent.prototype.openLocationList=function(){var a="";if(!this.desktop){a="-"+($(".location-list").height()-$(".location-container .inputWrapper").height()+15)+"px"}$(".location-list").css("top",a).addClass("visible");this.locationListElement_printed=true};jQuery(document).ready(function(){$("a.disabled").on("click",function(l){l.preventDefault()});$("img").on("error",function(){$(this).attr("src",baseUrlImgs+"/img/no-picture.png")});$("body").on("click",".backToTheFuture",function(m){var n=$(this).attr("data-cookieName");var l=$(this).attr("data-cookieDomain");cookieDefault.removeCookie(n,l);window.location=$(this).attr("data-href")});$("body").on("click touchstart",function(l){if($(".customSelect_country").hasClass("visible")&&l.target.tagName.toLowerCase()=="a"){window.open(l.target.href,"_blank");return false}if($(".customSelect").length&&$(".customSelect").hasClass("visible")&&!$(".customSelect_categories").hasClass("visible")){$(".customSelect").removeClass("visible");return false}if($(".tooltip").length){$(".tooltip").remove();return false}});$("body").on("click",".toggleElement",function(o){if((!($(this).hasClass("active")))&&$(this).is("a")&&($(this).attr("href")=="")){o.preventDefault()}o.stopPropagation();var n=$(this).data("element"),n=n.split(" "),l=$(this).data("elementhide"),m=$(this).data("toggleclass");if(l){if($("."+l).hasClass("visible")){$("."+l).removeClass("visible")}else{$("."+l).addClass("hidden")}}if(n&&n!=""){$.each(n,function(p,q){$("."+q).toggleClass("visible")})}if(m){if(m=="searchbar-open"){$("#searchbox").toggleClass("custom-small-hidden");$("body").toggleClass("pushed");$(".searchbar.toggleElement").toggleClass(m)}else{$(this).toggleClass(m)}}});$("body").on("click",".tabsSwitch",function(r){if($(this).hasClass("active")){return false}if((!($(this).hasClass("active")))&&$(this).is("a")&&($(this).attr("href")!="")){return true}if((!($(this).hasClass("active")))&&$(this).is("a")&&($(this).attr("href")=="")){r.preventDefault()}var q=$(this).data("target"),m=$(".tabs").find(".tabsContent:not(.hidden, .dontSwitch)"),o=$(this).siblings(".active");tabAlign=$(this).data("align");$(this).addClass("active");$(o).removeClass("active");$(m).addClass("hidden");$("#"+q).removeClass("hidden");if(tabAlign!=undefined){scrollToObject(tabAlign)}if($(this).hasClass("tabsSwitchMyAds")){var l=$(this).attr("data-cookieDomain");var n=q.split("_"),p=new Cookies();p.setCookie("myads-selected",n[1],l);if($(this).hasClass("err_email")){window.location.href=$(this).attr("data-url")}}});$("body").on("submit","#recoverPassword",function(l){});$("body").on("click",".createCookie",function(){var l=$(this).attr("data-cookieName");if(cookieDefault.getCookie(l)==null){cookieDefault.addCookie(l,1)}});$("body").on("change",".checkboxWithRadio",function(p){var o=p.target.type,n=$(this).find("input[type=checkbox]"),l=$(this).find("input[type=radio]"),m=false;isRadioChecked=false;m=n.prop("checked");l.each(function(){if($(this).prop("checked")==true){isRadioChecked=true}});if(o=="checkbox"){if(m){if(!isRadioChecked){$(l[0]).prop("checked",true)}}else{l.each(function(){$(this).prop("checked",false)})}}else{if(o=="radio"){if(!m){$(n).prop("checked",true);if($(n).parent(".checkbox").hasClass("disabler")){$(n).trigger("change")}}}}});$("body").on("change",".enabler",function(){a(0)});$("body").on("change",".disabler",function(){var m,n,l,o;if($(this).parentsUntil(".toDisable").length){n=$(this).parentsUntil(".toDisable").parent()}else{n=$(this).parent()}m=$(this).children("input").prop("checked");if($(this).attr("data-do")){l=$("#"+$(this).attr("data-do"))}if($(this).attr("data-dont")){o=$("#"+$(this).attr("data-dont"))}a(m,n,l,o)});function a(l,n,m,o){if(m&&l){m.toggleClass("disabled");m.children().find("input").prop("checked",false);return}if(l){$(".toDisable").not(n).addClass("disabled");if(o){o.removeClass("disabled")}$(".toDisable").not(n).children().find("input").prop("checked",false)}else{$(".toDisable").not(".dontRemoveDisabled").removeClass("disabled")}}function j(){if($("#listingAds").length){if($(window).width()<=768){if(!$("#listingAds").children().first().is(".sidebar")){$("#listingAds .sidebar").insertBefore("#listingAds .mainList")}}else{if(!$("#listingAds").children().first().is(".mainList")){$("#listingAds .sidebar").insertAfter("#listingAds .mainList")}}}}function c(){if($(window).width()<970){if(!$(".searchbox").children(".grid-3-1").find("#searchboxCategories").length){$("#searchboxCategories").insertAfter(".searchbox .searchbox_main")}}else{if(!$(".searchbox").children(".grid-3-1").next("#searchboxCategories").length){$("#searchboxCategories").insertAfter(".searchbox .grid-3-1")}}}function k(){if($("#listingAds").length||$("#store-listingAds").length){if($(window).width()<970){if($(".list .tabsHeader").find(".list_properties").length){$(".list .tabsContent").prepend($(".list_properties"))}}else{if($(".list .tabsContent").find(".list_properties").length){$(".list .tabsHeader").append($(".list_properties"))}}}}function h(){if($("#store-listingStores").length){if($(window).width()<970){if(!($("#search_box .searchbox_main .custom-large-hidden.movingSearcharea select").length)){$("#search_box .custom-small-hidden.movingSearcharea select").detach().appendTo(".custom-large-hidden.movingSearcharea")}}else{if(!($("#search_box .searchbox_main .custom-small-hidden.movingSearcharea select").length)){$("#search_box .custom-large-hidden.movingSearcharea select").detach().appendTo(".custom-small-hidden.movingSearcharea")}}}}$(window).on("resize",function(){c();j();k();h()});c();j();k();h();function d(n){var q=$(window).scrollTop(),p=($("#oas-top1").length)?$("#oas-top1"):$(".apn-hb"),l=($("#appsDownload").length)?$("#appsDownload").outerHeight():0,o=(p.length)?p.outerHeight()+l:0+l,m=new Searchbox();if(q>o){if((n=="listing"||n=="stores")&&$("body").height()>($(window).height()+$("#search_box").outerHeight())){g(false)}else{if(n!="listing"&&n!="stores"){g(false)}}}else{if(q<=o){g(true)}}}function g(l){(l==true)?$("#header").addClass("no-fix"):$("#header").removeClass("no-fix")}var b=$("#container").attr("data-pagename");if($.inArray(b,["homepage","listing","partners_page","stores"]>-1)){d(b);$(window).on("scroll",function(){d(b)})}});function scrollToObject(b){var c=$(b).offset().top;var a=$("#header .headerContent").height()+20;$("html, body").scrollTop(c-a)}function browserGeoloc(){if(navigator.geolocation){navigator.geolocation.getCurrentPosition(getPosition)}else{$('p[data-for="browserGeoloc"]').addClass("visible")}}function getPosition(a){if(typeof(newadForm.map)!="undefined"){newadForm.displayMapFromBrowser(a)}}function removeDiacritics(d,c){c=typeof c!=="undefined"?c:"";var a=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u00A4\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g},{base:"2",letters:/[\u00B2]/g},{base:"3",letters:/[\u00B3]/g}];d=d.toLowerCase();for(var b=0;b<a.length;b++){d=d.replace(a[b].letters,a[b].base)}d=$.trim(d);d=d.replace(new RegExp("[^a-zA-Z0-9"+c+"]+","g"),"_");return d}function getDptCode(a){var b=a;if(b==2&&$("#dn").val()!=""){b=$("#dn").val()}if(b>3){if(b[1]=="0"){b=b.substr(2,b.length)}else{b=b.substr(1,b.length)}}return b}function listSortingChange(a){var b=$(a).val();window.location=b}jQuery(document).ready(function(){$("body").on("click",".displayMenu",function(a){a.preventDefault();$("body").addClass("pushed");$(".displayMenu, .mobileMenuHoverlay, .headerNav").addClass("open")});$("body").on("click",".mobileMenuHoverlay",function(a){a.preventDefault();$("body").removeClass("pushed");$(".displayMenu, .mobileMenuHoverlay, .headerNav").removeClass("open");$(".headerNav_footer").addClass("hidden")});$("body").on("click",".showFooterLinks, .hideFooterLinks",function(a){a.preventDefault();$(".headerNav_footer").toggleClass("hidden")});$("body").on("click",".popin-hideHoverlay",function(a){$(".mobileMenuHoverlay").trigger("click")})});var ApiCarto=function(c,a,b){this.baseUrl=c;this.app_id=a;this.key=b};ApiCarto.prototype.geocode=function(k,g,c,a,h,b,l,m){var d=this;if(typeof b==="undefined"){return l()}var j={};j.app_id=this.app_id;j.key=this.key;if(k!=""){j.address=k}if(g!=""){j.zipcode=g}if(c!=""){j.city=c}if(a!=""){j.source=a}if(h!=""){j.application=h}$.ajax({url:d.baseUrl+"/api/carto/geocode.json",dataType:"json",type:"POST",crossDomain:true,data:j,success:function(n){b(n.carto,j.address,j.zipcode,j.city,m)},error:function(n,p,o){l(m)}})};ApiCarto.prototype.reverse=function(j,c,g,d,b){var a={},h=this;a.app_id=this.app_id;a.key=this.key;a.latitude=j;a.longitude=c;$.ajax({url:this.baseUrl+"/api/carto/reverse.json",dataType:"json",type:"POST",crossDomain:true,data:a}).success(function(k){g(j,c,k.carto.reverse,b)}).error(function(k,m,l){d(b)})};ApiCarto.prototype.polygons=function(g,c,a,h,b,k,l){var j={},d=this;j.app_id=this.app_id;j.key=this.key;j.geojson=1;if(g!=""){j.zipcode=g}if(c!=""){j.city=c}if(a!=""){j.source=a}if(h!=""){j.application=h}if(typeof b==="undefined"){return k()}$.ajax({url:d.baseUrl+"/api/carto/shape.json",dataType:"json",type:"POST",crossDomain:true,data:j,success:function(m){(m.carto.shape.status&&m.carto.shape.status=="OK")?b(m,l):k(l)},error:function(m,o,n){k(l)}})};var ApiSoyuz=function(a,b){this.baseUrl=a;this.lbcCalendarElement=$("div.lbc_calendar");this.soyuzLinkElement=$("a.soyuz");this.soyuzVerifiedElement=$(".verifiedSoyouz");this.hideCalendarEnable=b};ApiSoyuz.prototype.getAdAvailabilities=function(b,a){var d=this;var c=new XMLHttpRequest();c.onreadystatechange=function(){if(c.readyState===XMLHttpRequest.DONE){if(c.status===200){d.showSoyuzLink();d.showVerifiedSoyouz();if(d.hideCalendarEnable==1){d.deleteLbcCalendar()}}else{if(d.hideCalendarEnable==1){d.showLbcCalendar()}d.deleteVerifiedSoyouz();d.deleteSoyuzLink()}}};c.open("GET",d.baseUrl+b+a,true);c.setRequestHeader("Accept","application/json");c.send()};ApiSoyuz.prototype.showVerifiedSoyouz=function(){var a=this;a.soyuzVerifiedElement.removeClass("hidden")};ApiSoyuz.prototype.deleteVerifiedSoyouz=function(){var a=this;a.soyouzVerifiedElement.remove()};ApiSoyuz.prototype.showLbcCalendar=function(){var a=this;a.lbcCalendarElement.removeClass("hidden")};ApiSoyuz.prototype.deleteLbcCalendar=function(){var a=this;a.lbcCalendarElement.remove()};ApiSoyuz.prototype.showSoyuzLink=function(){var a=this;a.soyuzLinkElement.removeClass("hidden")};ApiSoyuz.prototype.deleteSoyuzLink=function(){var a=this;a.soyuzLinkElement.remove()};var MessagingIcon=function(b,c,d,a){this.userId=b;this.lbcToken=c;this.apiUrl=d;this.selector=a;var g=this;this.updateMessagingIcon()};MessagingIcon.prototype.showUnread=function(a){var b=this;a=(typeof a==="undefined")?0:a;if(parseInt(a)>=100){a="99+"}$(".newMessagesNumber").html(a);$(b.selector).css("visibility","visible")};MessagingIcon.prototype.maskUnread=function(){var a=this;$(a.selector).css("visibility","hidden")};MessagingIcon.prototype.updateMessagingIcon=function(){var c=this;var b=new XMLHttpRequest();var a=c.apiUrl+"api/users/"+c.userId+"/counter?withPollingTime=true";b.onreadystatechange=function(){if(b.readyState===XMLHttpRequest.DONE){if(b.status===200){var d=JSON.parse(b.responseText);if(d.unread>0){c.showUnread(d.unread)}else{c.maskUnread()}if(d.pollingTime>0){setTimeout(function(){c.updateMessagingIcon()},d.pollingTime)}}else{c.maskUnread()}}};b.open("GET",a,true);b.setRequestHeader("Authorization","Bearer "+c.lbcToken);b.setRequestHeader("Accept","application/json");b.send()};var Appnexus=function(){var b=this;if($(".apn-fs").length){b.closeInterstitial()}var a;$(window).resize(function(){clearTimeout(a);a=setTimeout(function(){b.cleanAds()},500)})};Appnexus.prototype.closeInterstitial=function(){if($(".apn-fs").is(":hidden")){$(".apn-fs").remove()}else{$(".apn-fs").on("click",function(a){if(a.target.id=="div_utif_fs-s"||$(a.target).hasClass("closeFs")){a.preventDefault();$(".apn-fs").remove()}})}};Appnexus.prototype.cleanAds=function(){$('[class^="apn-"] > div').each(function(){if($(this).css("display")=="none"){$(this).children().not(".closeFs").remove()}})};var Autocompletion=function(){};var AutocompletionSearchbox=function(a){this.suggestionContainer=$("ul#suggestTypo");this.searchbar=$("#searchtext");this.parrot=$("#parrot");this.visible=a;var c=this;var b=function(){this.set=function(d,h,g){if(c.parrot.prop("value")<3){c.parrot.prop("value",2)}this.focused=0;this.len=d+1;this.cat_init=h;this.original=g};this.down=function(){this.focused=(this.focused+1)%this.len;c.suggestionContainer.find("li").removeClass("selected");c.suggestionContainer.find("li:nth-child("+this.focused+")").addClass("selected")};this.up=function(){this.focused=(this.focused-1)%this.len;if(this.focused<0){this.focused+=this.len}c.suggestionContainer.find("li").removeClass("selected");c.suggestionContainer.find("li:nth-child("+this.focused+")").addClass("selected")};this.get=function(){c.parrot.prop("value",3);var g=new Cookies();g.addCookie("parrot","1","1");if(this.focused==0){$("input#search_category").prop("value",this.cat_init);$("select#search_category").prop("value",this.cat_init);$("#searchboxToggleCategory").text($('.customSelect_categories a[data-category="'+this.cat_init+'"]').text());c.searchbar.prop("value",this.original)}else{var d=c.suggestionContainer.find("li:nth-child("+this.focused+")").prop("data-cat");$("input#search_category").prop("value",d);$("select#search_category").prop("value",d);$("#searchboxToggleCategory").text($('.customSelect_categories a[data-category="'+d+'"]').text());var h=c.suggestionContainer.find("li:nth-child("+this.focused+")").prop("data-text");c.searchbar.prop("value",h)}}};this.suggestionHandler=new b();this.searchbar.on("blur",function(){setTimeout(function(){c.suggestionContainer.addClass("hidden")},300)}.bind(this));$("#searchtext").on("keyup paste",function(g){var d=$(this).val();if(g.type==="keyup"&&(g.keyCode===40||g.keyCode===38)){c.selectSuggestion(g.keyCode)}else{c.getSuggestion(d)}})};AutocompletionSearchbox.prototype=new Autocompletion();AutocompletionSearchbox.prototype.getSuggestion=function(b){if(b.length<=0){this.printSuggestion("");return}var c=this;$.support.cors=true;if(navigator.userAgent.match(/msie/i)&&window.XDomainRequest){var a=new XDomainRequest();a.open("GET",baseUrlParrot+"/api/parrot/?q="+b);a.onload=function(){var d=JSON.parse(a.responseText);if(c.visible==true){c.printSuggestion(d,b)}};a.send()}else{$.ajax({type:"GET",crossDomain:true,dataType:"json",url:baseUrlParrot+"/api/parrot/",data:{q:b},success:function(d){if(c.visible==true){c.printSuggestion(d,b)}}})}};AutocompletionSearchbox.prototype.printSuggestion=function(c,b){this.suggestionContainer.html("");if(c.length>0){this.suggestionContainer.removeClass("hidden")}else{this.suggestionContainer.addClass("hidden")}var d=this,a=this.searchbar.val();$.each(c,function(h,j){var g=j.text.replace(a,"<strong>"+a+"</strong>");li=document.createElement("li");$(li).prop("data-text",j.text);cat_init=$("#search_category").prop("value");if(!("cat_id" in j)||j.cat_id==-1){$(li).prop("data-cat",cat_init)}else{g=g+' dans <span class="orange">'+$('.customSelect_categories a[data-category="'+j.cat_id+'"]').text()+"</span>";$(li).prop("data-cat",j.cat_id)}$(li).html(g);d.suggestionContainer.append(li)});this.suggestionHandler.set(c.length,cat_init,b);this.suggestionContainer.find("li").on("click",function(){var g=$(this).prop("data-cat");$("#searchtext").prop("value",$(this).prop("data-text"));$("#searchboxToggleCategory").text($('.customSelect_categories a[data-category="'+g+'"]').text());$("input#search_category").prop("value",g);$("select#search_category").prop("value",g);$("#parrot").prop("value",3);$("select#search_category").attr("data-category",g);SearchboxAds.prototype.showParams($("select#search_category"),true);d.suggestionContainer.addClass("hidden");var h=new Cookies();h.addCookie("parrot","1","1");if($(window).width()>=970){$("#searchbutton").trigger("click")}})};AutocompletionSearchbox.prototype.selectSuggestion=function(a){if(a===40){this.suggestionHandler.down()}else{if(a===38){this.suggestionHandler.up()}else{return}}this.suggestionHandler.get()};Carousel=function(h,b,d,k,a,g,m,j,l,c){if(typeof(h)!="undefined"){this.windowWidth=0;this.images=k;this.images_thumbs=a;this.identifier=h;this.initialMode=d;this.currentMode=this.initialMode;this.survey={},this.popin={};this.survey.dom=b;this.survey.width=m;this.survey.height=j;this.carousel={};this.carousel.thumbs={};this.carousel.thumbs.printed=g;this.carousel.thumbs.length=k.length;this.carousel.thumbs.left=0;this.carousel.thumbs.selected=0;this.carousel.thumbs.leftBorder=0;this.carousel.thumbs.rightBorder=this.carousel.thumbs.printed-1;this.carousel.thumbs.container={};this.carousel.thumbs.container.width=0;this.carousel.thumbs.element={};this.carousel.thumbs.element.margin=40;if(this.initialMode=="thumbnails"){this.carousel.thumbs.element.width=l;this.carousel.thumbs.element.largeWidth=this.carousel.thumbs.element.width+this.carousel.thumbs.element.margin;this.carousel.thumbs.element.height=c}this.carousel.thumbs.maxLeft=0;this.updateMaxLeft();this.carousel.target=b;this.loader=new Loader(b)}};Carousel.prototype.init=function(){var a=this;if(this.initialMode=="thumbnails"){this.establishSupport();this.resize()}else{this.renderBullets()}this.setGlobalListeners();if(deviceDetectorDefault.isMobile()){this.setMobileListeners()}$(window).resize(function(){if(a.initialMode=="thumbnails"){a.establishSupport();if(a.currentMode=="thumbnails"){a.resize()}}else{a.renderBullets()}})};Carousel.prototype.setGlobalListeners=function(){var a=this;$("body").on("click",$(this.identifier+" .thumbnails ul li").selector,function(b){a.clickThumb(this)});if($(this.identifier+" .carousel .chevron-right").length){$("body").on("click",this.identifier+" .carousel .chevron-right",function(b){b.preventDefault();b.stopPropagation();a.goTo("next")});$("body").on("click",this.identifier+" .carousel .chevron-left",function(b){b.preventDefault();b.stopPropagation();a.goTo("previous")})}else{$("body").on("click",this.identifier+" .carousel .icon-chevron-right",function(b){b.preventDefault();b.stopPropagation();a.goTo("next");if(a.currentMode=="thumbnails"){a.translateThumbnails()}});$("body").on("click",this.identifier+" .carousel .icon-chevron-left",function(b){b.preventDefault();b.stopPropagation();a.goTo("previous");if(a.currentMode=="thumbnails"){a.translateThumbnails()}})}};Carousel.prototype.establishSupport=function(){var a=CurrentWindow();if(this.windowWidth!=a.width){if(((this.windowWidth>=768)||(this.windowWidth==0))&&(a.width<=768)){this.currentMode="bullets";this.renderBullets()}else{if((this.windowWidth<=768)&&(a.width>=768)){this.currentMode="thumbnails";this.renderThumbnails()}}this.windowWidth=a.width}};Carousel.prototype.renderThumbnails=function(){if($(this.identifier+" .carousel.bullets").length){this.removeBulletsElements()}this.placeThumbnailsElements()};Carousel.prototype.placeThumbnailsElements=function(){for(var a=0;a<this.carousel.thumbs.length;a++){var c=new ImageUrl(this.images_thumbs[a],this.survey.width,this.survey.height),b=$(this.identifier+" .thumbnails").attr("data-alt");$(this.identifier+" #thumb_"+a).html('<span class="item_imagePic"><img src="'+c.url+'" alt="'+b+'" /></span>')}if($(this.identifier+" .carousel i.icon-chevron-right").length==0){$(this.identifier+" .carousel").append('<i class="icon-chevron-right icon-3x small-hidden tiny-hidden trackable" data-info=\'{"event_name" : "ad_view::photos", "event_type" : "click", "click_type" : "N", "event_s2" : "2"}\'></i><i class="icon-chevron-left icon-3x small-hidden tiny-hidden trackable" data-info=\'{"event_name" : "ad_view::photos", "event_type" : "click", "click_type" : "N", "event_s2" : "2"}\'></i>')}else{$(this.identifier+" .carousel i.icon-chevron-right").show();$(this.identifier+" .carousel i.icon-chevron-left").show()}};Carousel.prototype.removeThumbnailsElements=function(){$(this.identifier+" .carousel .thumb").html("");$(this.identifier+" .thumbnails").attr("style","");$(this.identifier+" .thumbnails ul").attr("style","");$(this.identifier+" .carousel > i.icon-chevron-right").hide();$(this.identifier+" .carousel > i.icon-chevron-left").hide()};Carousel.prototype.renderBullets=function(){if((this.identifier=="#adview")&&($("#thumb_0 img").length)){this.removeThumbnailsElements()}this.placeBulletsElements()};Carousel.prototype.placeBulletsElements=function(){$(this.identifier+" .carousel").addClass("bullets");$(this.identifier+" .thumb").html('<i class="icon-bullet"></i>')};Carousel.prototype.removeBulletsElements=function(){$(this.identifier+" .carousel.bullets").removeClass("bullets");$(this.identifier+" .thumb").html("")};Carousel.prototype.setMobileListeners=function(){var a=this;if(!(deviceDetectorDefault.isWindows())){$(this.carousel.target).on("swipeleft",function(b){b.stopImmediatePropagation();a.goTo("next");if(a.currentMode=="thumbnails"){a.translateThumbnails()}});$(this.carousel.target).on("swiperight",function(b){b.stopImmediatePropagation();a.goTo("previous");if(a.currentMode=="thumbnails"){a.translateThumbnails()}})}};Carousel.prototype.updateMaxLeft=function(){this.carousel.thumbs.maxLeft=-(this.carousel.thumbs.element.largeWidth)*(this.carousel.thumbs.length-this.carousel.thumbs.printed)};Carousel.prototype.ajaxCall=function(a){if(a===undefined){return}this.loader.show();var c=this;var b=(this.survey.dom==".item_image.big")?(a.image_url).replace("/xxl/","/images/"):a.image_url;$(this.survey.dom+" img").load(function(){c.loader.hide();if($(c.identifier+" .popin-open").length){$(c.identifier+" .popin-open").attr("data-popin-content",a.image_url)}}).error(function(){}).attr("src",b).each(function(){if(this.complete){$(this).trigger("load")}})};Carousel.prototype.renderSurvey=function(a){if(a===undefined){return}var a=new ImageUrl(a,this.survey.width,this.survey.height);this.ajaxCall({image_name:a.name,image_url:a.url})};Carousel.prototype.changeThumb=function(){$(this.identifier+" .selected").removeClass("selected");$(this.identifier+" #thumb_"+this.carousel.thumbs.selected).addClass("selected")};Carousel.prototype.clickThumb=function(b){if(b===undefined){return}var a=parseInt(b.id.split("_").pop());this.carousel.thumbs.selected=a;this.changeThumb();this.renderSurvey(this.images[a])};Carousel.prototype.goTo=function(a){if(a===undefined){return}if(a=="next"){this.nextThumbnails()}else{this.previousThumbnails()}this.changeThumb();this.renderSurvey(this.images[this.carousel.thumbs.selected])};Carousel.prototype.translateThumbnails=function(){$(this.identifier+" .thumbnails ul").animate({left:this.carousel.thumbs.left},200)};Carousel.prototype.nextThumbnails=function(){if(this.carousel.thumbs.selected==(this.carousel.thumbs.length-1)){if(this.carousel.thumbs.printed<this.carousel.thumbs.length){this.carousel.thumbs.left=0}this.carousel.thumbs.selected=0;this.carousel.thumbs.leftBorder=0;this.carousel.thumbs.rightBorder=this.carousel.thumbs.printed-1}else{if((this.carousel.thumbs.selected==this.carousel.thumbs.rightBorder)&&((this.carousel.thumbs.length-(this.carousel.thumbs.selected+1))<this.carousel.thumbs.printed)){this.carousel.thumbs.left-=(this.carousel.thumbs.length-(this.carousel.thumbs.selected+1))*this.carousel.thumbs.element.largeWidth;this.carousel.thumbs.leftBorder+=this.carousel.thumbs.length-(this.carousel.thumbs.selected+1);this.carousel.thumbs.rightBorder+=this.carousel.thumbs.length-(this.carousel.thumbs.selected+1);this.carousel.thumbs.selected+=1}else{if(this.carousel.thumbs.selected==this.carousel.thumbs.rightBorder){this.carousel.thumbs.left-=this.carousel.thumbs.printed*this.carousel.thumbs.element.largeWidth;this.carousel.thumbs.selected+=1;this.carousel.thumbs.leftBorder+=this.carousel.thumbs.printed;this.carousel.thumbs.rightBorder+=this.carousel.thumbs.printed}else{this.carousel.thumbs.selected+=1}}}};Carousel.prototype.previousThumbnails=function(){if(this.carousel.thumbs.selected==0){if(this.carousel.thumbs.printed<this.carousel.thumbs.length){this.carousel.thumbs.left=this.carousel.thumbs.maxLeft}this.carousel.thumbs.selected=this.carousel.thumbs.length-1,this.carousel.thumbs.fixed=true;this.carousel.thumbs.leftBorder=this.carousel.thumbs.length-this.carousel.thumbs.printed;this.carousel.thumbs.rightBorder=this.carousel.thumbs.length-1}else{if((this.carousel.thumbs.selected==this.carousel.thumbs.leftBorder)&&((this.carousel.thumbs.selected-this.carousel.thumbs.printed)<0)){this.carousel.thumbs.left+=this.carousel.thumbs.selected*this.carousel.thumbs.element.largeWidth;this.carousel.thumbs.leftBorder=0;this.carousel.thumbs.rightBorder=this.carousel.thumbs.printed-1;this.carousel.thumbs.selected-=1}else{if(this.carousel.thumbs.selected==this.carousel.thumbs.leftBorder){this.carousel.thumbs.left+=this.carousel.thumbs.printed*this.carousel.thumbs.element.largeWidth;this.carousel.thumbs.selected-=1;this.carousel.thumbs.leftBorder-=this.carousel.thumbs.printed;this.carousel.thumbs.rightBorder-=this.carousel.thumbs.printed}else{this.carousel.thumbs.selected-=1}}}};Carousel.prototype.resize=function(){var c,b=Math.floor($(this.identifier+" .carousel").width()-46);var g=Math.floor(b/this.carousel.thumbs.element.largeWidth);var d=((g+1)*this.carousel.thumbs.element.largeWidth)-this.carousel.thumbs.element.margin;if(d>b){c=g}else{c=g+1}var a=(c*this.carousel.thumbs.element.largeWidth)-this.carousel.thumbs.element.margin;if((b>=this.carousel.thumbs.element.width)&&(this.carousel.thumbs.container.width!=a)){this.carousel.thumbs.printed=c;if(c==1){if((this.carousel.thumbs.selected>=(this.carousel.thumbs.leftBorder+this.carousel.thumbs.printed))&&(this.carousel.thumbs.container.width!=a)){this.carousel.thumbs.left=-(this.carousel.thumbs.selected-(this.carousel.thumbs.printed-1))*this.carousel.thumbs.element.largeWidth;$(this.identifier+" .thumbnails ul").css("left",this.carousel.thumbs.left)}this.carousel.thumbs.leftBorder=this.carousel.thumbs.selected;this.carousel.thumbs.rightBorder=this.carousel.thumbs.selected}else{if(this.carousel.thumbs.container.width>a){if(this.carousel.thumbs.selected>=this.carousel.thumbs.rightBorder){this.carousel.thumbs.left=-(this.carousel.thumbs.selected-(this.carousel.thumbs.printed-1))*this.carousel.thumbs.element.largeWidth;$(this.identifier+" .thumbnails ul").css("left",this.carousel.thumbs.left);this.carousel.thumbs.leftBorder=this.carousel.thumbs.selected-(this.carousel.thumbs.printed-1);this.carousel.thumbs.rightBorder=this.carousel.thumbs.selected}else{if(this.carousel.thumbs.printed>=this.carousel.thumbs.length){this.carousel.thumbs.left-=this.carousel.thumbs.element.largeWidth/2;$(this.identifier+" .thumbnails ul").css("left",this.carousel.thumbs.left)}else{if(this.carousel.thumbs.left>0){if(this.carousel.thumbs.selected-(this.carousel.thumbs.printed-1)>0){this.carousel.thumbs.left=-(this.carousel.thumbs.selected-(this.carousel.thumbs.printed-1))*this.carousel.thumbs.element.largeWidth}else{this.carousel.thumbs.left=0}$(this.identifier+" .thumbnails ul").css("left",this.carousel.thumbs.left);this.carousel.thumbs.leftBorder=this.carousel.thumbs.selected-(this.carousel.thumbs.printed-1);this.carousel.thumbs.rightBorder=this.carousel.thumbs.leftBorder+this.carousel.thumbs.printed-1}else{this.carousel.thumbs.rightBorder--}}}}else{if(this.carousel.thumbs.printed>this.carousel.thumbs.length){this.carousel.thumbs.left=(this.carousel.thumbs.printed-this.carousel.thumbs.length)*(this.carousel.thumbs.element.largeWidth/2);$(this.identifier+" .thumbnails ul").css("left",this.carousel.thumbs.left);this.carousel.thumbs.rightBorder=this.carousel.thumbs.length-1}else{if((this.carousel.thumbs.length-this.carousel.thumbs.rightBorder)==0){this.carousel.thumbs.left+=this.carousel.thumbs.element.largeWidth;$(this.identifier+" .thumbnails ul").css("left",this.carousel.thumbs.left);this.carousel.thumbs.leftBorder--}else{this.carousel.thumbs.rightBorder=this.carousel.thumbs.leftBorder+(this.carousel.thumbs.printed-1)}}}}}this.carousel.thumbs.container.width=a;if(this.currentMode!="bullets"){$(this.identifier+" .thumbnails").css("width",this.carousel.thumbs.container.width+"px")}this.updateMaxLeft()};var CarouselInterstitial=function(j,c,g,l,a,h,o,k,m,d,b,n){this.windowWidth=0;this.images=l;this.images_thumbs=a;this.identifier=j;this.initialMode=g;this.currentMode=this.initialMode;this.survey={},this.popin={};this.survey.dom=c;this.survey.width=o;this.survey.height=k;this.carousel={};this.carousel.thumbs={};this.carousel.thumbs.printed=h;this.carousel.thumbs.length=l.length;this.carousel.thumbs.left=0;this.carousel.thumbs.selected=0;this.carousel.thumbs.leftBorder=0;this.carousel.thumbs.rightBorder=this.carousel.thumbs.printed-1;this.carousel.thumbs.container={};this.carousel.thumbs.container.width=0;this.interstitial={};this.interstitial.state=false;this.interstitial.element=b;this.interstitial.trigger_number=n;this.interstitial.active=false;this.carousel.thumbs.element={};this.carousel.thumbs.element.margin=40;if(this.initialMode=="thumbnails"){this.carousel.thumbs.element.width=m;this.carousel.thumbs.element.largeWidth=this.carousel.thumbs.element.width+this.carousel.thumbs.element.margin;this.carousel.thumbs.element.height=d}this.carousel.thumbs.maxLeft=0;this.updateMaxLeft();this.carousel.target=c;this.loader=new Loader(c);this.addEventInterstitial()};CarouselInterstitial.prototype=new Carousel();CarouselInterstitial.prototype.isIntersticialActive=function(){if(!this.interstitial.state){return(interstitial_active&&this.images.length>=this.interstitial.trigger_number)?true:false}else{return true}};CarouselInterstitial.prototype.nextThumbnails=function(){if(this.carousel.thumbs.selected==(this.carousel.thumbs.length-1)){this.interstitial.state=this.isIntersticialActive();if(this.interstitial.state){if(this.interstitial.active){this.interstitial.active=false;if(this.carousel.thumbs.printed<this.carousel.thumbs.length){this.carousel.thumbs.left=0}this.carousel.thumbs.selected=0;this.carousel.thumbs.leftBorder=0;this.carousel.thumbs.rightBorder=this.carousel.thumbs.printed-1}else{this.interstitial.active=true}}else{if(this.carousel.thumbs.printed<this.carousel.thumbs.length){this.carousel.thumbs.left=0}this.carousel.thumbs.selected=0;this.carousel.thumbs.leftBorder=0;this.carousel.thumbs.rightBorder=this.carousel.thumbs.printed-1}}else{if((this.carousel.thumbs.selected==this.carousel.thumbs.rightBorder)&&((this.carousel.thumbs.length-(this.carousel.thumbs.selected+1))<this.carousel.thumbs.printed)){this.carousel.thumbs.left-=(this.carousel.thumbs.length-(this.carousel.thumbs.selected+1))*this.carousel.thumbs.element.largeWidth;this.carousel.thumbs.leftBorder+=this.carousel.thumbs.length-(this.carousel.thumbs.selected+1);this.carousel.thumbs.rightBorder+=this.carousel.thumbs.length-(this.carousel.thumbs.selected+1);this.carousel.thumbs.selected+=1;this.interstitial.active=false}else{if(this.carousel.thumbs.selected==this.carousel.thumbs.rightBorder){this.carousel.thumbs.left-=this.carousel.thumbs.printed*this.carousel.thumbs.element.largeWidth;this.carousel.thumbs.selected+=1;this.carousel.thumbs.leftBorder+=this.carousel.thumbs.printed;this.carousel.thumbs.rightBorder+=this.carousel.thumbs.printed;this.interstitial.active=false}else{if(this.interstitial.active){this.interstitial.active=false;return}this.carousel.thumbs.selected+=1}}}};CarouselInterstitial.prototype.previousThumbnails=function(){if(this.carousel.thumbs.selected==0){this.interstitial.state=this.isIntersticialActive();if(this.interstitial.state){if(this.interstitial.active){this.interstitial.active=false;if(this.carousel.thumbs.printed<this.carousel.thumbs.length){this.carousel.thumbs.left=this.carousel.thumbs.maxLeft}this.carousel.thumbs.selected=this.carousel.thumbs.length-1,this.carousel.thumbs.fixed=true;this.carousel.thumbs.leftBorder=this.carousel.thumbs.length-this.carousel.thumbs.printed;this.carousel.thumbs.rightBorder=this.carousel.thumbs.length-1}else{this.interstitial.active=true}}else{if(this.carousel.thumbs.printed<this.carousel.thumbs.length){this.carousel.thumbs.left=this.carousel.thumbs.maxLeft}this.carousel.thumbs.selected=this.carousel.thumbs.length-1,this.carousel.thumbs.fixed=true;this.carousel.thumbs.leftBorder=this.carousel.thumbs.length-this.carousel.thumbs.printed;this.carousel.thumbs.rightBorder=this.carousel.thumbs.length-1}}else{if((this.carousel.thumbs.selected==this.carousel.thumbs.leftBorder)&&((this.carousel.thumbs.selected-this.carousel.thumbs.printed)<0)){this.carousel.thumbs.left+=this.carousel.thumbs.selected*this.carousel.thumbs.element.largeWidth;this.carousel.thumbs.leftBorder=0;this.carousel.thumbs.rightBorder=this.carousel.thumbs.printed-1;this.carousel.thumbs.selected-=1;this.interstitial.active=false}else{if(this.carousel.thumbs.selected==this.carousel.thumbs.leftBorder){this.carousel.thumbs.left+=this.carousel.thumbs.printed*this.carousel.thumbs.element.largeWidth;this.carousel.thumbs.selected-=1;this.carousel.thumbs.leftBorder-=this.carousel.thumbs.printed;this.carousel.thumbs.rightBorder-=this.carousel.thumbs.printed;this.interstitial.active=false}else{if(this.interstitial.active){this.interstitial.active=false;return}this.carousel.thumbs.selected-=1}}}};CarouselInterstitial.prototype.clickThumb=function(b){if(b===undefined){return}var a=parseInt(b.id.split("_").pop());this.carousel.thumbs.selected=a;this.interstitial.active=false;this.changeThumb();this.renderSurvey(this.images[a])};CarouselInterstitial.prototype.changeThumb=function(){(this.interstitial.active==true)?this.showInterstitial():this.hideInterstitial();$(this.identifier+" .selected").removeClass("selected");$(this.identifier+" #thumb_"+this.carousel.thumbs.selected).addClass("selected")};CarouselInterstitial.prototype.showInterstitial=function(){if($(this.interstitial.element).hasClass("hidden")){$(this.interstitial.element).removeClass("hidden")}return true};CarouselInterstitial.prototype.hideInterstitial=function(){if(!$(this.interstitial.element).hasClass("hidden")){$(this.interstitial.element).addClass("hidden")}return false};CarouselInterstitial.prototype.addEventInterstitial=function(){$(this.interstitial.element).on("click touchstart",function(a){if($(a.target).hasClass("skip_interstitial")){return true}a.preventDefault();this.goTo("next");if(this.currentMode=="thumbnails"){this.translateThumbnails()}a.stopPropagation()}.bind(this))};CarouselInterstitial.prototype.removeEventInterstitial=function(){$(this.interstitial.element).off("click touchstart")};var Collapsible=function(){this.arrowClass=($("#dc, #do, #help").length>0)?{off:"icon-menu-right",on:"icon-menu-down"}:{off:"icon-menu-down",on:"icon-menu-up"}};Collapsible.prototype.start=function(){var a=this;$("body").on("click",".collapsible-container .collapsible-header",function(d){d.stopPropagation();var g=$(this).parent("section");var c=$(this).next(".collapsible-content");var b=$(this).data("align");if(g.hasClass("active")){g.removeClass("active");c.slideUp(200);a.switchArrow(this,false)}else{a.hideOthers(g);g.addClass("active");c.slideDown(200,function(){if(b!=undefined){scrollToObject(b)}});a.switchArrow(this,true)}})};Collapsible.prototype.switchArrow=function(c,a){var b=$(c).find("i");if(a==true){b.removeClass(this.arrowClass.off).addClass(this.arrowClass.on)}else{b.removeClass(this.arrowClass.on).addClass(this.arrowClass.off)}};Collapsible.prototype.hideOthers=function(a){var b=a.siblings("section");b.removeClass("active");b.find(".collapsible-content").slideUp(200);b.find("section").removeClass("active");this.switchArrow(b.find(".collapsible-header"),false)};Collapsible.prototype.openTo=function(b){if(b.length==3){var a=$("#"+b).parent(".collapsible-container.collapsible-content");var c=b.substr(0,2);if(!($("#"+c).parent().hasClass("active"))){this.hideOthers(a);a.siblings(".collapsible-header").trigger("click")}$("#"+b+" .collapsible-header").trigger("click")}else{var a=$("#"+b);this.hideOthers(a);$("#"+b).trigger("click")}setTimeout(function(){scrollToObject($("#"+b))},500);return false};var mainCollapsible;jQuery(document).ready(function(b){mainCollapsible=new Collapsible();if(b(".collapsible-container").length){mainCollapsible.start()}var c=window.location.hash;var a=c.substr(1,c.length);if(a!=""&&(b("#"+a).hasClass("collapsible-header")||b("#"+a).children(":first").hasClass("collapsible-header"))){mainCollapsible.openTo(a)}});var FixOnsScroll=function(){};var view=new FixOnsScroll();FixOnsScroll.prototype.resize=function(){if($(".skyscraper").length){view.fix(".skyscraper")}};FixOnsScroll.prototype.fix=function(b){var a=$(b),d=false,c=$("#main .content-center");$(window).on("scroll resize touchmove",function(){if(b==".skyscraper"){var j=$("#listingAds > .sidebar .topSelling").outerHeight()+$("#listingAds > .sidebar .skyscraper").outerHeight(),h=$("#listingAds > .list").outerHeight();if(j>=h){return false}}if(a.children(".teal-apn:visible").children("div").length>0&&!d){a.css({position:"relative",top:"auto",width:"auto"});d=a.position().top}else{if(!a.children(".teal-apn:visible").children("div").length){d=false}}if(d){var g=a.outerHeight();headerHeight=$("#header > .headerContent").outerHeight(),windowPos=$(window).scrollTop()+headerHeight,elementTop=c.offset().top+d,fixBottom=c.height()+c.offset().top,parentWidth=a.parent().width();if(a.hasClass("fixedSrolling")){a.width(a.parent().width())}if((windowPos+g)>fixBottom){a.css({position:"absolute",top:(c.height()-g),width:parentWidth})}else{if(windowPos>elementTop){a.css({position:"fixed",top:headerHeight,width:parentWidth})}else{if((windowPos)<=elementTop){a.css({position:"relative",top:"auto",width:"auto"})}}}}})};FixOnsScroll.prototype.unfix=function(b){var a=$(b);a.css({position:"initial",top:0,width:"auto"});$(window).off("scroll")};jQuery(document).ready(function(a){view.resize()});var Form=function(g,a,d,b,c){if(typeof(g)!="undefined"){this.formSelector=g;this.fieldSelector=a;this.fieldObject=d;this.bool_skipDefaultEvent=b;this.returnState=(typeof(c)!="undefined")?c:true}var h=this;if((typeof(this.formSelector)!="undefined")&&((typeof(this.bool_skipDefaultEvent)=="undefined")||(this.bool_skipDefaultEvent==false))){$("body").on("submit",this.formSelector,function(j){if(typeof($(this).attr("target"))=="undefined"){j.stopImmediatePropagation();if(h.check()){if(typeof(h.formAction)!=="undefined"){window.location.assign(h.formAction)}else{return true}}return false}});$("body").on("blur",this.fieldSelector,function(){var j=this.tagName.toLowerCase()+'[name="'+$(this).attr("name")+'"]';return h.check(j)})}$("body").on("focus","input, select, textarea",function(j){h.showTooltip(this)});$("body").on("focusout","input, select, textarea",function(j){h.hideTooltip(this)})};Form.prototype.check=function(a){var c=true,b=false;if(a){if($(a).not(":visible").not("[type='hidden']").length>0){return true}c=this.verifyField(a)}else{for(var a in this.fieldObject){if($(a).not(":visible").not("[type='hidden']").length>0){continue}error=this.verifyField(a);if(typeof(error.onError)!="undefined"&&error!=true&&b==false){error.onError();c=false;b=true}if(typeof(this.fieldObject[a].onError)!="undefined"&&error!=true&&b==false){this.fieldObject[a].onError();c=false;b=true}if(typeof(this.fieldObject[a].onError)=="undefined"&&error!=true){c=false}}}if(!c){if(typeof(utag_data)!="undefined"){if(utag_data.pagetype=="annonce_contacter"){xt_med("F","4","ad_reply::email::formulaire_erreurs")}}}return c};Form.prototype.verifyField=function(a){if(typeof(this.fieldObject[a])==="undefined"){return false}if($(a).length==0){return true}if(typeof(this.fieldObject[a].required)!=="undefined"){if(typeof this.fieldObject[a].required.condition=="undefined"||this.fieldObject[a].required.condition()==true){if(this.verifyRequired(a)==false){this.printError(a,this.fieldObject[a].required.errorMessage);return false}}}if(typeof(this.fieldObject[a].notZero)!=="undefined"){if(this.verifyNotZero(a)==false){this.printError(a,this.fieldObject[a].notZero.errorMessage);return this.returnState}}if(typeof(this.fieldObject[a].minLength)!=="undefined"){if(this.verifyMinLength(a,this.fieldObject[a].minLength.value)==false){this.printError(a,this.fieldObject[a].minLength.errorMessage);return this.returnState}}if(typeof(this.fieldObject[a].maxLength)!=="undefined"){if(this.verifyMaxLength(a,this.fieldObject[a].maxLength.value)==false){this.printError(a,this.fieldObject[a].maxLength.errorMessage);return this.returnState}}if(typeof(this.fieldObject[a].verifyValue)!=="undefined"){if(typeof(this.fieldObject[a].verifyValue.rule)!=="undefined"){if(this.verifyValue(a,this.fieldObject[a].verifyValue.compareWith,this.fieldObject[a].verifyValue.valueSolid,this.fieldObject[a].verifyValue.rule)==false){this.printError(a,this.fieldObject[a].verifyValue.errorMessage);return this.returnState}}else{for(verifyObject in this.fieldObject[a].verifyValue){if(this.verifyValue(a,this.fieldObject[a].verifyValue[verifyObject].compareWith,this.fieldObject[a].verifyValue[verifyObject].valueSolid,this.fieldObject[a].verifyValue[verifyObject].rule)==false){this.printError(a,this.fieldObject[a].verifyValue[verifyObject].errorMessage);return this.returnState}}}}if(typeof(this.fieldObject[a].regexp)!=="undefined"){if(typeof this.fieldObject[a].regexp.condition=="undefined"||this.fieldObject[a].regexp.condition()==true){if(this.verifyRegexp(a,this.fieldObject[a].regexp.value)==false){this.printError(a,this.fieldObject[a].regexp.errorMessage);return false}}}this.resetError(a);return true};Form.prototype.verifyRequired=function(b){var c=$(b).attr("type");var a=$(b).get(0).tagName;switch(c){case"checkbox":if(!$(b).prop("checked")){return false}break;case"radio":if(!$(b).is(":checked")){return false}break;default:if(a=="SELECT"){if($(b).val()=="0"||$(b).val()==""){return false}}else{if($(b).val()==""){return false}}break}return true};Form.prototype.verifyNotZero=function(a,b){if($(a).val()==0){return false}return true};Form.prototype.verifyMinLength=function(a,b){if($(a).val().length<b){return false}return true};Form.prototype.verifyMaxLength=function(a,b){if($(a).val().length>b){return false}return true};Form.prototype.verifyValue=function(a,b,c,d){if(($(a).val()=="")||($(b).val()=="")){return true}switch(d){case"equal":if(($(a).val()!="")&&($(b).val()!="")&&($(a).val()==$(b).val())){return true}break;case"over":if(isNaN(parseInt($(a).val()))||isNaN(parseInt($(b).val()))||(($(a).val()!="")&&($(b).val()!="")&&(parseInt($(a).val())>parseInt($(b).val())))){return true}break;case"overequal":if(isNaN(parseInt($(a).val()))||isNaN(parseInt($(b).val()))||(($(a).val()!="")&&($(b).val()!="")&&(parseInt($(a).val())>=parseInt($(b).val())))){return true}break;case"under":if(isNaN(parseInt($(a).val()))||isNaN(parseInt($(b).val()))||(($(a).val()!="")&&($(b).val()!="")&&(parseInt($(a).val())<parseInt($(b).val())))){return true}break;case"underequal":if(isNaN(parseInt($(a).val()))||isNaN(parseInt($(b).val()))||(($(a).val()!="")&&($(b).val()!="")&&(parseInt($(a).val())<=parseInt($(b).val())))){return true}break;case"underSolid":if(isNaN(parseInt($(a).val()))||isNaN(parseInt($(b).val()))||(($(a).val()!="")&&(parseInt($(a).val())<parseInt(c)))){return true}break;case"overSolid":if(isNaN(parseInt($(a).val()))||isNaN(parseInt($(b).val()))||(($(a).val()!="")&&(parseInt($(a).val())>parseInt(c)))){return true}break;case"underequalSolid":if(isNaN(parseInt($(a).val()))||isNaN(parseInt($(b).val()))||(($(a).val()!="")&&(parseInt($(a).val())<=parseInt(c)))){return true}break;case"overequalSolid":if(isNaN(parseInt($(a).val()))||isNaN(parseInt($(b).val()))||(($(a).val()!="")&&(parseInt($(a).val())>=parseInt(c)))){return true}break}return false};Form.prototype.verifyRegexp=function(a,d){var c=$(a).val();var b=new RegExp(d);if(!(b.test(c))){return false}return true};Form.prototype.resetError=function(a){$(a).removeClass("error").addClass("valid");var b=$(a).parent(".field-wrapper").children(".label-error").length?$(a).parent(".field-wrapper").children(".label-error"):$('span[data-for*="'+$(a).attr("name")+'"]');if(b.length>0){if(b.hasClass("visible")){b.removeClass("visible")}}};Form.prototype.printError=function(a,c){var b=$(a).attr("name"),d;(typeof(this.fieldObject[a].labelStrict)!=="undefined")?d='span.label-error[data-for="'+b+'"]':d='span.label-error[data-for*="'+b+'"]';if(!($(a).hasClass("error"))){$(a).addClass("error")}if($(d).length){$(d).html(c)}else{$(a).after('<span class="label-error full" data-for="'+b+'">'+c+"</span>")}$(d).addClass("visible")};Form.prototype.showTooltip=function(a){var c=$(a).attr("name"),d=false;if($('.label-info[data-for*="'+c+'"]').text()!=""){d=true}var b=($('.label-info[data-for*="'+c+'"]').length)?$('.label-info[data-for*="'+c+'"]').attr("data-for"):"";if(b.indexOf(",")!=-1&&d){$('.label-info[data-for*="'+c+'"]').addClass("visible")}else{if(d){$('.label-info[data-for="'+c+'"]').addClass("visible")}}};Form.prototype.hideTooltip=function(a){var c=$(a).attr("name");var b=($('.label-info[data-for*="'+c+'"]').length)?$('.label-info[data-for*="'+c+'"]').attr("data-for"):"";(b.indexOf(",")!=-1)?$('.label-info[data-for*="'+c+'"]').removeClass("visible"):$('.label-info[data-for="'+c+'"]').removeClass("visible")};var FormPagination=function(d,a,c,b){this.formSelector=d;this.fieldSelector=a;this.fieldObject=c;this.bool_skipDefaultEvent=b;var g=this;if((typeof(this.bool_skipDefaultEvent)=="undefined")||(this.bool_skipDefaultEvent==false)){$("body").on("submit",this.formSelector,function(h){if(typeof($(this).attr("target"))=="undefined"){h.stopImmediatePropagation();if(g.check()){if(typeof(g.formAction)!=="undefined"){window.location.assign(g.formAction)}else{return true}}return false}});$("body").on("blur",this.fieldSelector,function(){var h=this.tagName.toLowerCase()+'[name="'+$(this).attr("name")+'"]';return g.check(h)})}};FormPagination.prototype=new Form();FormPagination.prototype.setAction=function(g,b){var a=window.location.href,d=Number($(g).val()),c=(typeof(b)!="undefined")?b:"";if(a.indexOf(c)!==-1){a=a.replace(c,"")}if(a.indexOf("o=")!=-1){this.formAction=a.replace(/(o=)[0-9]+(.*)$/,"$1"+d+"$2")}else{if(a.indexOf("?")!=-1){this.formAction=a+"&o="+d}else{this.formAction=a+"?o="+d}}if(c!==""){this.formAction=this.formAction+c}};jQuery(document).ready(function(){if($(".phoneNumber").length){var a=new PhoneNumber()}});var PhoneNumber=function(){var a=this;$("body").on("click",".phoneNumber",function(h){h.preventDefault();var d=$(this).attr("data-href"),c=$(this).attr("data-listid"),g=$(this).attr("data-salesmen"),b=$(this).attr("data-textenabled");a.get(d,c,g,b,a,apiKey)})};PhoneNumber.prototype.get=function(h,l,b,g,j,a){var c=h+"/api/utils/phonenumber.json",k=0;jQuery.support.cors=true;if(g=="1"){k=1}var d={list_id:l,app_id:"leboncoin_web_utils",key:a,text:k};if(navigator.userAgent.match(/msie/i)&&window.XDomainRequest){xdr=new XDomainRequest();xdr.open("POST",c);xdr.send("app_id=leboncoin_web_utils&key="+a+"&list_id="+l+"&text="+k);xdr.onerror=function(){throw new Error("Error during request phone number")};xdr.onload=function(){j.get_cb(xdr.responseText,b,g)}}else{$.ajax({type:"POST",url:c,async:true,crossDomain:true,format:"jsonp",data:d}).done(function(m){j.get_cb(m,b,g)}).fail(function(n,m){})}};PhoneNumber.prototype.get_cb=function(d,g,c){if(d==""){return}if(typeof d!="object"){response=JSON.parse(d)}else{response=d}if(!response.error&&response.utils.phonenumber){if(c=="1"){var a=response.utils.phonenumber.replace(/(.{2})/g,"$1 ");if(g=="1"){var b='<span class="phone_number font-size-up"><a title="Oppos&eacute; au d&eacute;marchage commercial" href="tel:'+response.utils.phonenumber+'">'+a+'</a><i class="icon-demarchage marginleft showTips" data-text="Oppos&eacute; au d&eacute;marchage commercial"><span class="path1"></span><span class="path2"></span><span class="path3"></span></i></span>'}else{var b='<span class="phone_number font-size-up"><a title="Contacter le vendeur" href="tel:'+response.utils.phonenumber+'">'+a+"</a></span>"}}else{if(g=="1"){var b='<a class="phone_number" title="Oppos&eacute; au d&eacute;marchage commercial"><img class="AdPhonenum" src="'+response.utils.phonenumber+'" alt="Oppos&eacute; au d&eacute;marchage commercial"><i class="icon-demarchage marginleft showTips" data-text="Oppos&eacute; au d&eacute;marchage commercial"><span class="path1"></span><span class="path2"></span><span class="path3"></span></i></a>'}else{var b='<a class="phone_number" title="Contacter le vendeur"><img class="AdPhonenum" src="'+response.utils.phonenumber+'"></a>'}}$(".phoneNumber").replaceWith(b);if(g=="1"){$(".phone_number .showTips").on("click",function(h){h.stopPropagation();mainTooltip.remove();mainTooltip.show($(this))})}}};var MapHome=function(){};var MapFrance=new MapHome();MapHome.prototype.hoverPath=function(b){var d=b.attr("id"),c=$(".mapNav"),a=c.find('a[data-map="'+d+'"]');a.toggleClass("hover")};MapHome.prototype.hoverLink=function(c){var d=c.attr("data-map"),h=$("#METRO_5_, #ISLAND_1_"),g=h.find('path[id="'+d+'"]');if(d=="guadeloupe"){g=$("g#guadeloupe")}if(g.attr("class")=="hover"){g.attr("class","")}else{g.attr("class","hover")}if($("body").hasClass("ua_IE8")){var b=$("#area_image").data("imageurl"),a=$("#home .mapNav a").index(c);change_image(b,Number(a+1),false)}};jQuery(document).ready(function(){$("#METRO_5_ path, #ISLAND_1_ path, #ISLAND_1_ g").on("mouseover",function(){MapFrance.hoverPath($(this))}).on("mouseleave",function(){MapFrance.hoverPath($(this))});$(".mapNav a").on("mouseover",function(){MapFrance.hoverLink($(this))}).on("mouseleave",function(){MapFrance.hoverLink($(this))})});var Sharer=function(){this.width=600;this.height=400;this.left=window.screenX+(screen.width/2)-(this.width/2);this.top=(screen.height/2)-(this.height/2);this.windowFeatures="status=no,height="+this.height+",width="+this.width+",resizable=yes,left="+this.left+",top="+this.top+",toolbar=no,menubar=no,scrollbars=no,location=no,directories=no"};Sharer.prototype.facebook=function(d,c,a){var g=this,b=$(d).attr("data-href");window.open(b,"sharer",g.windowFeatures)};Sharer.prototype.twitter=function(d,c,l){var h=this,j=$(d).attr("data-href"),b="?url="+$(d).attr("data-url"),k="&text="+encodeURIComponent($(d).attr("data-text").replace("&","et")),a="&hashtags="+$(d).attr("data-hashtag"),g=j+b+k+a;window.open(g,"sharer",h.windowFeatures)};jQuery(document).ready(function(){var a=new Sharer();$("body").on("click",".share.facebook[data-href]",function(b){b.preventDefault();a.facebook(this)});$("body").on("click",".share.twitter[data-href]",function(b){b.preventDefault();a.twitter(this)})});var php_id="leboncoin_web_carto",tileOnError=false;if(typeof hereUrl!="undefined"){var here_url=hereUrl}if(typeof hereAppID!="undefined"){var app_id=hereAppID}if(typeof apiAppKey!="undefined"){var php_key=apiAppKey}if(typeof hereAppCode!="undefined"){var app_code=hereAppCode}var Map=function(b,d,a,c){this.source=d;this.application=a;this.map=null;this.marker=null;this.polygons=null;this.mapContainer=b;this.zoom=16;this.wheelZoom=false;this.controlLayers=false;this.controlScale=false;this.controlAttribution=false;this.attribution={position:"bottomright"};this.layer=this.getLayer("normal.day","maptile");this.pinpoint=L.icon({iconUrl:baseUrlImgs+"/img/pinpoint.png",iconSize:[24,37],iconAnchor:[12,37]});(typeof(c)!=="undefined")?this.parentObject=c:this.parentObject=null};var Marker=function(c,a,b){this.lat=c;this.lng=a;this.pinpoint=L.icon({iconUrl:baseUrlImgs+"/img/pinpoint.png",iconSize:[24,37],iconAnchor:[12,37]});this.marker=L.marker([this.lat,this.lng],{icon:this.pinpoint,draggable:b});return this.marker};var Layer=function(c,a){var b=new Date(),d=b.getFullYear(),g="base";if(c!="normal.day"){g="aerial"}this.baseUrl=here_url+a+"/newest/"+c+"/{z}/{x}/{y}/256/png8?app_id="+app_id+"&app_code="+app_code;this.layer=L.tileLayer(this.baseUrl,{attribution:'<a href="http://here.com/terms" target="_blank">&copy; '+d+" HERE</a>",minZoom:2,maxZoom:18});var h=0;this.layer.on("tileerror",function(){h++;if(h>3){tileOnError=true;return false}});return this.layer};Map.prototype.initMap=function(g,a,c,b,d){this.map=L.map(this.mapContainer,{center:[g,a],zoom:c,scrollWheelZoom:false,layers:[b]});this.addMarker(g,a,true,d)};Map.prototype.viewAddress=function(c,a,b){this.map.setView([c,a],16);if(this.marker==null){this.addMarker(c,a,true,b)}this.marker.setLatLng(new L.latLng(c,a))};Map.prototype.load=function(j,g){var k=this.getLayer("satellite.day","maptile"),d=this.getLayer("normal.day","maptile"),c=this.getLayer("hybrid.day","maptile");this.map=L.map(this.mapContainer,{center:[j,g],zoom:this.zoom,scrollWheelZoom:this.wheelZoom,layers:d});var b=new Date(),h=b.getFullYear();if(this.controlAttribution){L.control.attribution({position:"bottomleft",prefix:'<a href="http://here.com/terms" target="_blank">&copy; '+h+" HERE</a>"}).addTo(this.map)}if(this.controlLayers){var a={Plan:d,Satellite:k,Hybride:c};L.control.layers(a).addTo(this.map)}if(this.controlScale){L.control.scale({position:"bottomright"}).addTo(this.map)}};Map.prototype.getLayer=function(c,a){var g=hereUrl;if(c=="hybrid.day"||c=="satellite.day"){g=hereUrlAerial}var b=new Date(),d=b.getFullYear();baseUrl=g+a+"/newest/"+c+"/{z}/{x}/{y}/256/png8?app_id="+app_id+"&app_code="+app_code;var j=L.tileLayer(baseUrl,{attribution:'<a href="http://here.com/terms" target="_blank">&copy; '+d+" HERE</a>",minZoom:2,maxZoom:18});var h=0;j.on("tileerror",function(){h++;if(h>3){tileOnError=true;return false}});return j};Map.prototype.addMarker=function(d,a,c,b){this.marker=new Marker(d,a,c);this.map.addLayer(this.marker);this.setDragMarkerEvent(b)};Map.prototype.addPolygons=function(c){var b=JSON.parse(c.carto.shape.geojson);this.polygons=L.geoJson(b,{color:"#ff3e00"});var a=this.polygons.getBounds().getCenter();if(this.map==null){this.load(a.lat,a.lng)}else{this.map.setView([a.lat,a.lng])}if(this.marker!=null){this.map.removeLayer(this.marker);this.marker=null}this.map.fitBounds(this.polygons.getBounds());this.polygons.addTo(this.map);if(typeof(xitiCarto)=="function"){xitiCarto();oasCarto()}};Map.prototype.showPolygonTutorial=function(){$("#"+this.mapContainer+" .tutorial-polygon").removeClass("hidden")};Map.prototype.removePolygonTutorial=function(){if($("#"+this.mapContainer+" .tutorial-polygon").length){$("#"+this.mapContainer+" .tutorial-polygon").remove()}};Map.prototype.clicker=function(a){this.map.on("click",a)};Map.prototype.addLocationLayoutChoice=function(c){if($(".map_container .leaflet-top.leaflet-right").html()==""){$leafletLayout=$("<div>",{"class":"leaflet-control-layout leaflet-bar leaflet-control"});var b={"class":"leaflet-layout-pinpoint",href:"#",title:"Cibler l'adresse de l'annonce"};var a={"class":"leaflet-layout-polygon",href:"#",title:"Cibler la ville de l'annonce"};if(c=="pinpoint"){b["class"]+=" active"}else{a["class"]+=" active"}$buttonPinpoint=$("<a>",b).appendTo($leafletLayout);$buttonPolygon=$("<a>",a).appendTo($leafletLayout);$pinpoint=$("<span>",{"class":"icon-map-marker icon-2x"}).appendTo($buttonPinpoint);$polygon=$("<span>",{"class":"icon-polygon icon-2x"}).appendTo($buttonPolygon);$polygonPath1=$("<span>",{"class":"path1"}).appendTo($polygon);$polygonPath2=$("<span>",{"class":"path2"}).appendTo($polygon);$(".map_container .leaflet-top.leaflet-right").append($leafletLayout);var d=this;$("body").on("click",".leaflet-layout-pinpoint",function(){if(d.marker==null){d.parentObject.toggleMapLoader("show");$(".leaflet-layout-polygon").removeClass("active");$(this).addClass("active");$('input[name="accept_localisation"]').prop("checked",true);var h=$('input[name="latitude"]').val(),g=$('input[name="longitude"]').val();d.map.removeLayer(d.polygons);d.parentObject.apiCarto.reverse(h,g,d.parentObject.reverseSuccess,d.parentObject.reverseError,d.parentObject);d.polygons=null}return false});$("body").on("click",".leaflet-layout-polygon",function(){if(d.polygons==null||d.polygons._map==null){d.map.removeLayer(d.marker);d.marker=null;$(".leaflet-layout-pinpoint").removeClass("active");$(this).addClass("active");$('input[name="accept_localisation"]').prop("checked",false);d.removePolygonTutorial();var g=$('input[name="zipcode"]').val(),h=$('input[name="city"]').val();d.parentObject.apiCarto.polygons(g,h,d.parentObject.source,d.parentObject.application,d.parentObject.polygonsSuccess,d.parentObject.polygonsError,d.parentObject)}return false});$("body").on("click",".tutorial-polygon",function(){d.removePolygonTutorial()})}else{if(c=="pinpoint"&&$(".leaflet-layout-polygon").hasClass("active")){$(".leaflet-layout-pinpoint").addClass("active");$(".leaflet-layout-polygon").removeClass("active")}else{if(c=="polygon"&&$(".leaflet-layout-pinpoint").hasClass("active")){$(".leaflet-layout-pinpoint").removeClass("active");$(".leaflet-layout-polygon").addClass("active")}}}};Map.prototype.reset=function(){$("#"+this.mapContainer+" .map_init").removeClass("hidden");$("#"+this.mapContainer+" .map-container").addClass("hidden")};Map.prototype.setDragMarkerEvent=function(a){this.marker.on("dragend",function(c){var d=c.target,b=d.getLatLng();xt_med("C","3","ad_depot::D1_depot::voir_sur_la_carte::repositionnement_curseur","N");$('input[name="latitude"]').val(b.lat);$('input[name="longitude"]').val(b.lng);if($('input[name="geo_source"]').val()!="user"){$('input[name="geo_source"]').val("user")}a.toggleMapLoader("show");setTimeout(function(){a.apiCarto.reverse(b.lat,b.lng,a.reverseSuccess,a.reverseError,a);if(!($("#information_deleted").hasClass("hidden"))){$("#information_deleted").addClass("hidden")}a.toggleMapLoader("hide")},a.map.delay)})};popin=0;var Popin=function(){this.opened=false;this.selector=".popin";this.link=null;this.xxl={};this.xxl.image={};this.xxl.commonRatio=0.8;this.xxl.thumbnailsDesktopHeight=139;this.structure='<div class="popin open"><div class="popin-wrapper"><div id="popin-content"></div></div></div>';this.closeButton='<a href="" class="closePopin"><i class="icon-close-circle-outline icon-3x nomargin"></i></a>';this.padding=20};Popin.prototype.open=function(a){this.link=a;if($(".popin.open").length){$("#popin-content").html("")}else{$("body").prepend(this.structure);this.popinElement=$(this.selector);this.insertShadow();this.opened=true;this.loader=new Loader(this.selector);$("body").addClass("pushed")}this.render()};Popin.prototype.close=function(){if($("body").hasClass("ua_IE7")){return false}if(($("body").hasClass("ua_IE8")||$("body").hasClass("ua_IE9"))&&$(".popin").hasClass("general")){cookieDefault.setCookie("welcomeIE",1)}if($(".popin-content-template_main").hasClass("oldOS")){cookieDefault.addCookie("popinOSTemp",1,2)}$("body").removeClass("pushed");$(".popin").removeClass("open").remove();this.removeShadow();this.opened=false};Popin.prototype.closeOS=function(){var a=$('input[name="popin_os_cookie"]').prop("checked");if(a){cookieDefault.addCookie("popinOS",1,15)}else{cookieDefault.addCookie("popinOSTemp",1,2)}$("body").removeClass("pushed");$(".popin").removeClass("open").remove();this.removeShadow();this.opened=false};Popin.prototype.render=function(){this.placeElements()};Popin.prototype.toggleLoader=function(a){if(this.loader!="undefined"&&this.loader!=null){if(a==true){$("#popin-content").css("display","none");this.loader.show()}else{this.loader.hide();$("#popin-content").css("display","block")}}};Popin.prototype.insertShadow=function(){if($(".popin-shadow").length){$(".popin-shadow").addClass("open")}};Popin.prototype.removeShadow=function(){if($(".popin-shadow").length){$(".popin-shadow").removeClass("open")}};Popin.prototype.autoOpenLoginPopin=function(){var a=$('.popin-open[data-popin-template="connexion"]');if(a){a.click()}};var PopinImage=function(){var a=this;$(window).resize(function(){if($(".popin #popin-content-ajax").length){a.centerElements()}})};PopinImage.prototype=new Popin();PopinImage.prototype.close=function(){Popin.prototype.close.call(this);this.unsetListeners();delete carouselPopin};PopinImage.prototype.placeElements=function(){$(".popin.open").addClass("image");this.injectStructure();var a=new CurrentWindow();var b=new ImageUrl(this.link.attr("data-popin-content"),1000,1000);this.load({image_url:b.url});if(($(".popin .carousel").length==0)&&(typeof(images)!=="undefined")){this.insertCarousel()}};PopinImage.prototype.injectStructure=function(){$("<figure>",{id:"popin-content-ajax"}).appendTo("#popin-content");$(this.closeButton).prependTo("#popin-content");$("<img>",{"class":"popin-image trackable",src:"",width:"auto",height:"auto","data-info":'{"event_name" : "ad_view::photos", "event_type" : "click", "click_type" : "N", "event_s2" : "2"}'}).appendTo("#popin-content-ajax");this.setListeners()};PopinImage.prototype.setListeners=function(){$("body").on("click",".popin-image",function(a){if(typeof carouselPopin!=="undefined"&&!($(a.target).hasClass("skip_interstitial"))){carouselPopin.goTo("next")}});$(document).keydown(function(a){if(typeof carouselPopin!=="undefined"){if(a.which==37){carouselPopin.goTo("previous")}else{if(a.which==39){carouselPopin.goTo("next")}}}})};PopinImage.prototype.unsetListeners=function(){$("body").off("click",".popin-image");$(document).off("keydown");if(typeof carouselPopin.removeEventInterstitial!=="undefined"){carouselPopin.removeEventInterstitial()}};PopinImage.prototype.load=function(a){if(a==="undefined"){return}this.toggleLoader(true);var b=this;$(".popin-image").load(function(){var c;if(this.naturalWidth!=="undefined"){c=this.naturalWidth/this.naturalHeight}else{c=this.width/this.height}b.set({image:this,ratio:c});b.toggleLoader(false);b.centerElements()}).error(function(){}).attr("src",a.image_url).each(function(){if(this.complete){$(this).trigger("load")}})};PopinImage.prototype.insertCarousel=function(){$(".popin").append('<section class="carousel"></section>');var a=$("#adview .carousel").html().replace(/ style=".*"/g,"");$(".popin .carousel").html(a);$(".popin .carousel").children("div:first-child").addClass("thumbnails");$(".popin .thumbnails").attr("style","");$("<i>",{"class":"icon-chevron-left icon-3x trackable","data-info":'{"event_name" : "ad_view::photos", "event_type" : "click", "click_type" : "N", "event_s2" : "2"}'}).prependTo(".popin .thumbnails");$("<i>",{"class":"icon-chevron-right icon-3x trackable","data-info":'{"event_name" : "ad_view::photos", "event_type" : "click", "click_type" : "N", "event_s2" : "2"}'}).appendTo(".popin .thumbnails");carouselPopin=this.createCarousel();carouselPopin.init()};PopinImage.prototype.createCarousel=function(){var a=carouselAdview.interstitial.element.outerHTML;$("#popin-content").append(a);$("#popin-content .interstitial").addClass("hidden");$("#popin-content .interstitial").attr("id","popin_interstitial");carouselPopinInterstitial=document.getElementById("popin_interstitial");var b=new CarouselInterstitial(".popin","#popin-content-ajax","bullets",images,null,10,1280,920,null,null,carouselPopinInterstitial,interstitial_trigger_number);b.carousel.thumbs.left=0;b.carousel.thumbs.selected=carouselAdview.carousel.thumbs.selected;b.carousel.thumbs.leftBorder=carouselAdview.carousel.thumbs.leftBorder;b.carousel.thumbs.rightBorder=carouselAdview.carousel.thumbs.rightBorder;return b};PopinImage.prototype.centerElements=function(){if(($(".popin-image").length)&&($(window).width()>768)){var h=$(".popin-image"),g=$("#popin-content-ajax");var a=$("#popin-content").width(),b=h.width(),d=((a/2)+(b/2)),c=g.position().top-30;$("#popin-content .closePopin").css({right:"auto",left:d+"px",top:c+"px"})}else{if(this.type=="image"){$("#popin-content .closePopin").css({left:"auto",right:"10px",top:"10px"})}}};PopinImage.prototype.set=function(a){this.xxl.image.object=a.image;this.xxl.image.ratio=a.ratio};var PopinMap=function(a){this.application=a;this.source="web"};PopinMap.prototype=new Popin();PopinMap.prototype.placeElements=function(){$(".popin.open").addClass("map");$("<div>",{id:"popin-content-ajax"}).appendTo("#popin-content");$("<a>",{text:"Retour","class":"button ba-grey co-white no-shadow"}).appendTo("#popin-content-ajax");var a=this.link.data("popin-template");this.load(a)};PopinMap.prototype.load=function(a){var b=this;$.ajax({url:"/beta/ajax/popins/"+a+".html",type:"POST",async:false}).success(function(c){if($(".popin").length!=0){$(".popin #popin-content-ajax").html(c);b.apiCarto=new ApiCarto(baseUrlApi,php_id,php_key);b.map=new Map("map","web",b.application,b);b.map.controlLayers=true;b.map.controlScale=true;b.map.controlAttribution=true;b.map.wheelZoom=true;b.map.attribution.position="bottomleft";$(".popin-content-template").addClass("open");b.toggleLoader(false);if(source==""){source="zipcode"}if(source=="city"||source=="zipcode"){$(".popin-content-template").addClass("map");b.apiCarto.polygons(zipcode,city,b.source,b.application,b.polygonsSuccess,b.polygonsError,b)}else{$(".map-infos").hide();if(lat.length>1&&lng.length>1){$(".popin-content-template").addClass("map");b.map.load(lat,lng);b.map.addMarker(lat,lng)}}}})};PopinMap.prototype.showMapError=function(a){$("#contentMap").hide();$("#errorMap").show();$(".popin-content-template").removeClass("map")};PopinMap.prototype.polygonsSuccess=function(b,a){a.map.addPolygons(b)};PopinMap.prototype.polygonsError=function(a){a.showMapError("MAP_ERROR")};var PopinText=function(){};PopinText.prototype=new Popin();PopinText.prototype.placeElements=function(){$(".popin.open").addClass("general");var b=this.link.data("popin-template"),a=this.link.data("popin-context")||"";this.loadContent(b,a)};PopinText.prototype.loadContent=function(b,a){var c=this;$.ajax({url:"/beta/ajax/popins/"+b+".html",type:"GET",data:{context:a}}).success(function(g){$("#popin-content").html(g);c.toggleLoader(false);if($('a[data-popin-template="dpe"]').length>0){if($("#category").length>0){d($("#category").val())}else{if($("#adview").length>0){$(".dpe_depot").hide();d($('a[data-popin-template="dpe"]').attr("data-popin-category"))}}function d(h){if(h==9||h==10||h==11){$("#popin-content #dpe_bureaux").hide()}else{if(h==13){$("#popin-content #dpe").hide()}}}}setTimeout(function(){$(".popin-content-template").addClass("open");var h=c.link.attr("data-popin-verif");if(h=="1"){$("body").on("click","#recoverPasswordSubmit",function(j){j.preventDefault();c.checkForgottenPassword()})}if($("body").hasClass("ua_IE8")||$("body").hasClass("ua_IE9")){$("body").find("[placeholder]").each(function(){var j=$(this);if(j.val()==""){j.addClass("placeholder");j.val(j.attr("placeholder"))}});$("[placeholder]").focus(function(){var j=$(this);if(j.val()==j.attr("placeholder")){j.val("");j.removeClass("placeholder")}}).blur(function(){var j=$(this);if(j.val()==""||j.val()==j.attr("placeholder")){j.addClass("placeholder");j.val(j.attr("placeholder"))}}).parents("form").submit(function(){$(this).find("[placeholder]").each(function(){var j=$(this);if(j.val()==j.attr("placeholder")){j.val("")}})})}},100)})};PopinText.prototype.checkForgottenPassword=function(c){$.support.cors=true;var b=$("#recoverPasswordLink").attr("data-listid"),a=$("#recoverPasswordLink").attr("data-href"),c=$("input[type=email]").val();$.ajax({type:"POST",async:true,crossDomain:true,url:a+"/ajapi/post/forgottenPassword",data:{list_id:b,email:c}}).done(function(d){if(d.isMatched){$("#recoverPassword").submit()}else{recoverPasswordForm.printError('input[name="ar_email"]',"L'adresse email ne correspond pas &agrave; celle donn&eacute;e lors du d&eacute;p&ocirc;t d'annonce.")}}).fail(function(g,d){recoverPasswordForm.printError('input[name="ar_email"]',"Erreur pendant la soumission. Veuillez r&eacute;essayer.")})};$.fn.hasScrollBar=function(){return this.get(0).scrollHeight>this.height()};jQuery(document).ready(function(){$("body").on("click",".popin-open",function(k){k.preventDefault();k.stopPropagation();if($(k.target).hasClass("skip_interstitial")){return}if(typeof($(this).attr("data-popin-cancelClick"))!=="undefined"){var h=$(this).attr("data-popin-cancelClick").split(",");var j=h.length;for(var g=0;g<j;g++){if(k.target==document.getElementById(h[g])){return false}}}var l=$(this).attr("data-popin-type");if(l=="general"){a=new PopinText();a.type=l;a.open($(this))}else{if(l=="image"){a=new PopinImage();a.type=l;a.open($(this))}else{if(l=="map"){var d=$(this).attr("data-application");a=new PopinMap(d);a.type=l;a.open($(this))}}}});$("body").on("click",".closePopin, .closePopinSpecial",function(d){d.preventDefault();d.stopPropagation();a.close()});$("body").on("click touchstart",".popin.open",function(d){if((d.target.id=="popin-content-ajax")||(d.target.id=="popin-content")){d.preventDefault();d.stopPropagation();a.close()}else{if(!($(".popin-content-template").has(this))){d.preventDefault();d.stopPropagation()}}});$("body").keydown(function(d){if(d.keyCode==27){if($(".popin").hasClass("open")){d.preventDefault();d.stopPropagation();a.close()}}});var b=window.location.href,c="#login";if(b.slice(c.length*-1)==c){var a=new Popin();a.autoOpenLoginPopin()}if(cookieDefault.getCookie("logincontext")=="messaging"){var a=new PopinText(".popin");a.open($('<a href="#" data-popin-type="general" data-popin-template="messagingPro"></a>'));cookieDefault.removeCookie("logincontext")}if($("body").hasClass("ua_IE7")||(($("body").hasClass("ua_IE8")||$("body").hasClass("ua_IE9"))&&cookieDefault.getCookie("welcomeIE")==null)){var a=new PopinText(".popin");a.type="general";a.open($('<a href="#" data-popin-type="general" data-popin-template="oldbrowser"></a>'))}if(/(NT 5.2)|(NT 5.1)|(NT 5.01)|(NT 5.0)|(NT 4.0)|(Windows 98)|(Windows 95)/i.test(navigator.userAgent)&&cookieDefault.getCookie("popinOS")==null&&cookieDefault.getCookie("popinOSTemp")==null){var a=new PopinText(".popin");a.type="general";a.open($('<a href="#" data-popin-type="general" data-popin-template="oldOS"></a>'));setTimeout(function(){xt_med("F","7","support::popin::ssl")},500);$("body").on("click",".closePopinOS",function(d){d.preventDefault();a.closeOS()})}});var Tooltip=function(){};var mainTooltip=new Tooltip();Tooltip.prototype.addEvent=function(a,b){if(b=="hover"){$(a).mouseover(function(){mainTooltip.show($(this))}).mouseout(function(){mainTooltip.remove()})}else{if(b=="click"){$(a).on("click",function(c){c.preventDefault();c.stopPropagation();mainTooltip.remove();mainTooltip.show($(this))})}else{if(b=="focus"){$(a).on("focus",function(){mainTooltip.show($(this))}).on("focusout",function(){mainTooltip.remove()})}}}};Tooltip.prototype.show=function(g,n){var d=$(g).outerWidth(),c=$(g).outerHeight(),a=$(g).offset(),p='<div class="tooltip"></div>',l=g.data("position"),j=(typeof(n)=="undefined")?g.data("text"):n;$("body").append(p);if(j==""||j==undefined){j="Ce lien est temporairement d&eacute;sactiv&eacute;"}mainTooltip.addText(j,g);var o=$(".tooltip").outerHeight(),h=$(".tooltip").outerWidth(),b=a.left+(d/2)-(h/2),m=b+h,k=$("body").outerWidth();if(b<=0){b=10;if(l=="top"||l=="bottom"){$(".tooltip .arrow").css("left",a.left-10+(d/2))}}if(m>=k&&(l=="top"||l=="bottom")){b=b-(m-k)-10;$(".tooltip .arrow").css("left",a.left-b+(d/2))}if(l=="bottom"){mainTooltip.position((a.top+c+5),b,l)}else{if(l=="left"){mainTooltip.position((a.top+c/2-o/2),(b-d/2-h/2-10),l)}else{if(l=="right"){mainTooltip.position((a.top+c/2-o/2),(b+d/2+h/2+10),l)}else{l="top";mainTooltip.position((a.top-o-5),b,l)}}}$(".tooltip").on("click",function(){mainTooltip.remove()})};Tooltip.prototype.remove=function(){$(".tooltip").removeClass().remove()};Tooltip.prototype.position=function(c,b,a){$(".tooltip").css({top:c,left:b}).addClass("tooltip-"+a)};Tooltip.prototype.addText=function(b,a){if($(a).attr("data-action")=="click"){b=b+' <i class="icon-close-circle-outline marginleft"></i>'}$(".tooltip").html(b+'<div class="arrow"></div>')};jQuery(document).ready(function(a){a(".showTips").each(function(b){var c=a(this).data("action");if(c==""||c==undefined){c="hover"}mainTooltip.addEvent(a(this),c)})});var ScrollTop=function(a,b){this.offset=300;this.duration=700;this.selector=a;this.displayOnMobile=b||false};ScrollTop.prototype.load=function(){var b=this;var a=new MobileDetect(window.navigator.userAgent);if(!b.displayOnMobile&&(a.tablet()||a.phone()||a.mobile())){return false}$(b.selector).on("click",function(c){c.preventDefault();$("body,html").animate({scrollTop:0},b.duration)});$(window).scroll(function(){($(this).scrollTop()>b.offset)?$(b.selector).addClass("visible"):$(b.selector).removeClass("visible")})};var SearchboxKeyboard=function(){this.arrayCat=[];this.catSort=[];this.search="";this.match={begin:[],contains:[]};this.allow="&'/-";this.inputCat=$("#inputSearchboxCategory");this.toggleCat=$("#searchboxToggleCategory");this.selectCat=$(".customSelect_categories");this.activeCat=$("#search_category");this.currentCat=(this.activeCat).val();var h=this,g=[];this.selectCat.find("div").each(function(){var j=[];$(this).find("a").each(function(){g.push($.trim($(this).text()));j.push($(this).attr("data-category"))});h.arrayCat.push(j)});g.sort(function(k,j){return k.localeCompare(j)});var c=false;for(var b in g){var a=g[b],d=this.selectCat.find("a:contains("+a+")").attr("data-category");if(c&&d==37){d="38"}if(d==37&&!c){c=true}this.catSort.push({id:d,cat:removeDiacritics(a,this.allow)})}delete g;$("#searchboxToggleCategory, .customSelect_categories a[data-category]").mouseup(function(){if(h.selectCat.hasClass("visible")){h.focusInputCat()}});this.inputCat.focusin(function(){$(this).next().addClass("focus")}).focusout(function(){$(this).next().removeClass("focus");h.cleanSearch(false)});this.inputCat.contextmenu(function(j){j.preventDefault();return false});$("body").keydown(function(q){var r=h.selectCat.hasClass("visible")&&$.inArray(q.keyCode,[9,13,27,37,38,39,40])>-1,j=document.activeElement==h.inputCat[0]&&$.inArray(q.keyCode,[38,40,13,27])>-1,s=r&&document.activeElement.hasAttribute("data-category"),p=document.activeElement==h.inputCat[0]&&q.shiftKey&&(q.keyCode==37||q.keyCode==39),l=document.activeElement==h.inputCat[0]&&q.ctrlKey&&q.keyCode==65,v=(s)?$(document.activeElement).attr("data-category"):(h.activeCat).val();if(p||l){return false}if(q.keyCode==13&&j){if(!h.search.length){h.openSelectCat(v)}else{h.cleanSearch(false)}return false}if(q.keyCode==27&&j){if(h.search.length){h.cleanSearch(true)}return false}if((q.keyCode==9||q.keyCode==27)&&r){h.closeSelectCat();return false}if(q.keyCode==13&&s){h.validCat();return false}if(j||r){var m=(j)?"click":"focus";if(s||j){for(var n in h.arrayCat){var o=$.inArray(v,h.arrayCat[n]);if(o>-1){var k=n;break}}switch(q.keyCode){case 40:v=h.focusArrow(k,o+1,1);break;case 38:v=h.focusArrow(k,o-1,-1);break;case 39:k++;if(k==h.arrayCat.length){k=0}v=h.getCloserCategory(h.arrayCat[k]);break;case 37:k--;if(k<0){k=(h.arrayCat.length)-1}v=h.getCloserCategory(h.arrayCat[k]);break}}h.focusCat(v,m);if(h.search.length){h.colorMatch()}return false}});this.inputCat.keyup(function(l){var k=removeDiacritics(h.inputCat.val(),h.allow);if(k==h.search){return false}var j=h.searchCat(k);if(j){h.focusCat(j,"click");h.colorMatch()}})};SearchboxKeyboard.prototype.focusArrow=function(d,c,b){if(this.search.length){return this.focusArrowWithSearch(b)}var a=this.arrayCat[d][c];if(a){return a}if(c<0){d--;if(d<0){d=(this.arrayCat.length)-1}a=this.arrayCat[d][(this.arrayCat[d].length)-1]}else{d++;if(d==this.arrayCat.length){d=0}a=this.arrayCat[d][0]}return a};SearchboxKeyboard.prototype.focusArrowWithSearch=function(c){var a=this.activeCat.val(),d=this.match.begin.concat(this.match.contains),b=$.inArray(a,d);if(b==-1){return a}b=b+c;if(b==d.length){b=0}else{if(b<0){b=d.length-1}}a=d[b];return a};SearchboxKeyboard.prototype.searchCat=function(g){var k=-1,b=false,a=-1,c={begin:[],contains:[]},h=this.inputCat.val();if(!g.length){b=this.currentCat}else{for(var d=0,j=(this.catSort).length;d<j;d++){var k=this.catSort[d]["cat"].indexOf(g);if(k==0){c.begin.push(this.catSort[d]["id"]);a=0}else{if(k>0){c.contains.push(this.catSort[d]["id"]);a=(a<0)?k:a}}}if(c.begin.length){b=c.begin[0]}else{if(c.contains.length){b=c.contains[0]}}}if(b){this.match=c}if(a>=0||!g.length){this.search=g}else{this.inputCat.val(h.slice(0,-1))}return b};SearchboxKeyboard.prototype.colorMatch=function(){var b=$.trim(this.toggleCat.text()),c=removeDiacritics(b,this.allow).indexOf(this.search),a=this.search.length;if(!a){return false}b=b.substring(0,c)+"<span>"+b.substring(c,(c+a))+"</span>"+b.substring(c+a);this.toggleCat.html(b)};SearchboxKeyboard.prototype.focusCat=function(a,b){$('.customSelect_categories a[data-category="'+a+'"]').trigger(b)};SearchboxKeyboard.prototype.validCat=function(){$(document.activeElement).trigger("click");this.inputCat.focus()};SearchboxKeyboard.prototype.openSelectCat=function(a){this.toggleCat.trigger("click");this.focusCat(a,"focus")};SearchboxKeyboard.prototype.closeSelectCat=function(){this.toggleCat.trigger("click");this.inputCat.focus()};SearchboxKeyboard.prototype.cleanSearch=function(a){this.inputCat.val("");this.search="";this.toggleCat.text(this.toggleCat.text().replace(/_/g," "));if(a){this.focusCat(this.currentCat,"click")}};SearchboxKeyboard.prototype.focusInputCat=function(){this.inputCat.focus()};SearchboxKeyboard.prototype.getCloserCategory=function(c){var b=$(document.activeElement).offset().top,d=1000,a=0;$.each(c,function(g,j){var h=Math.abs(($('.customSelect_categories a[data-category="'+j+'"]').offset().top)-b);if(h<d){d=h;a=j}if(d==0){return a}});return a};var SaveAd=function(a){var g=this;this.cookieName="watch_ads";this.cookieDomain=a;this.cookieExist=(cookieDefault.getCookie(this.cookieName)===null)?false:true;this.saveAdId=-1;this.displayedIds=[];this.toolTipSaved=false;this.timeOutFadeOut=null;var d=document.querySelectorAll(".saveAd");for(var c=0;c<d.length;c++){this.displayedIds.push(d[c].getAttribute("data-savead-id"))}this.verifyCookie();$(".saveAd").on("click touchstart",function(h){if(!$(this).hasClass("disabled")){g.saveAdId=$(this).attr("data-savead-id");if(!$(this).hasClass("saved")){g.saveAd()}else{g.unsaveAd()}}h.stopPropagation();return false});var b=(getDevice()!="desktop")?"click touchstart":"mouseover click touchstart";$(".saveAd .showTip").on(b,function(h){if(!g.toolTipSaved){mainTooltip.remove();mainTooltip.show($(this))}if((h.type=="click"||h.type=="touchstart")&&$(this).hasClass("disabled")){g.fadeOutTooltip()}}).on("mouseout",function(){if(!g.toolTipSaved){mainTooltip.remove()}})};SaveAd.prototype.saveAd=function(){if(utag_data.pagetype=="recherche"){xt_med("C","8","ad_search::sauvegarder::on","N")}var a=($("#adview").length)?false:true;this.showActiveLink(true,a);this.saveCookie()};SaveAd.prototype.unsaveAd=function(){if(utag_data.pagetype=="recherche"){xt_med("C","8","ad_search::sauvegarder::off","N")}clearTimeout(this.timeOutFadeOut);this.hideActiveLink(true);this.removeIdCookie(this.saveAdId);mainTooltip.remove();this.toolTipSaved=false};SaveAd.prototype.fadeOutTooltip=function(){var a=this;this.timeOutFadeOut=setTimeout(function(){$(".tooltip").fadeOut("slow",function(){mainTooltip.remove();a.toolTipSaved=false})},1000)};SaveAd.prototype.showActiveLink=function(h,g){var c=$(".saveAd[data-savead-id='"+this.saveAdId+"']"),b=(h)?"saved displayFlag":"saved",j=this;if(g){var a=c.find(".saveMsg .showTip"),d=c.find(".savedMsg .showTip").data("text");this.toolTipSaved=true;mainTooltip.show(a,d);this.fadeOutTooltip()}c.addClass(b)};SaveAd.prototype.hideActiveLink=function(){var a=$(".saveAd[data-savead-id='"+this.saveAdId+"']");a.removeClass("saved flagMyAds");if($("#saveAd_error").length&&document.getElementById("saveAd_error").offsetParent!==null){$("#saveAd_error").addClass("hidden")}};SaveAd.prototype.saveCookie=function(){if(!this.cookieExist){this.setCookie(this.saveAdId)}else{this.addIdCookie(this.saveAdId)}};SaveAd.prototype.setCookie=function(a){cookieDefault.addCookie(this.cookieName,a,"180",this.cookieDomain);this.cookieExist=true};SaveAd.prototype.addIdCookie=function(a){var c=cookieDefault.getCookie(this.cookieName),b=c.split(",");if(b.indexOf(a)==-1){if(b.length<max_watch_ads){c+=","+a;cookieDefault.removeCookie(this.cookieName,this.cookieDomain);this.setCookie(c);if(b.length+1>=max_watch_ads){this.disableLinks(true)}}else{return false}}return true};SaveAd.prototype.disableLinks=function(a){$(".saveAd").not(".saved").addClass("disabled");if(a){$("#saveAd_error").removeClass("hidden")}};SaveAd.prototype.removeIdCookie=function(a){if(!this.cookieExist){return false}var d=cookieDefault.getCookie(this.cookieName),b=d.split(","),c=b.indexOf(a);if(b.indexOf(a)!=-1){b.splice(c,1);cookieDefault.removeCookie(this.cookieName,this.cookieDomain);if(b.length>0){d=b.join(",");this.setCookie(d)}else{this.cookieExist=false}$(".saveAd").removeClass("disabled")}};SaveAd.prototype.verifyCookie=function(){if(this.cookieExist){var a=this.displayedIds,b=(cookieDefault.getCookie(this.cookieName)).split(","),d=b.filter(function(g){return a.indexOf(g)!=-1});for(var c in d){this.saveAdId=d[c];this.showActiveLink(false,false)}if(b.length>=max_watch_ads){this.disableLinks(false)}}};var Slideshow=function(b,a){this.id=b;this.autoPlay=a;this.width=0;this.currentItem=0;this.maximumItem=0;this.positionsInArray=[];this.speed=null;this.timerAutoPlay=null;this.init()};Slideshow.prototype.init=function(){var b=this;var a=0;this.calculate();$("body").on("touchstart",b.id,function(c){c.preventDefault();c.stopImmediatePropagation();if($(c.target).parent().hasClass("slideshow-control")){return false}a=c.originalEvent.touches[0].pageX});$("body").on("touchend",b.id,function(c){c.preventDefault();c.stopImmediatePropagation();if($(c.target).parent().hasClass("slideshow-control")){$(c.target).parent().click();return false}if(a-c.originalEvent.changedTouches[0].pageX<=0){b.prev(b.currentItem)}else{b.next(b.currentItem)}});$("body").on("click",b.id+" .slideshow-thumbnails .bullet",function(c){b.goTo($(this).data("slide"))});$("body").on("click",b.id+" .next",function(c){c.preventDefault();b.next()});$("body").on("click",b.id+" .prev",function(c){c.preventDefault();b.prev()});$(b.id+" .slide").show();if(this.autoPlay){this.startAutoPlay();$("body").on("mouseenter",b.id,function(c){clearTimeout(b.timerAutoPlay)});$("body").on("mouseleave",b.id,function(c){b.startAutoPlay()})}};Slideshow.prototype.startAutoPlay=function(){var a=this;this.timerAutoPlay=setInterval(function(){a.next()},6000)};Slideshow.prototype.calculate=function(){var b=this;var a=this.width=$(b.id).outerWidth();b.maximumItem=$(b.id+" .slide").length-1;b.positionsInArray=[];$(b.id+" .slideshow-wrapper").css("width",parseInt($(b.id+" .slide").length*b.width)+"px");$(b.id+" .slideshow-wrapper").css("left","-"+(b.width*b.currentItem)+"px");$(b.id+" .slide").each(function(c){b.positionsInArray.push(-1*(c*a));$(this).css("width",a+"px")})};Slideshow.prototype.prev=function(c,b,a){var d=this;d.currentItem--;if(d.currentItem<0){d.currentItem=d.maximumItem}d.goTo(d.currentItem)};Slideshow.prototype.next=function(c,b,a){var d=this;d.currentItem++;if(d.currentItem>d.maximumItem){d.currentItem=0}d.goTo(d.currentItem)};Slideshow.prototype.goTo=function(a){var b=this;if(a>=b.maximumItem){a=b.maximumItem}else{if(a<=0){a=0}}b.currentItem=a;if($(b.id+" .slideshow-thumbnails").length){$(b.id+" .slideshow-thumbnails .bullet.selected").removeClass("selected");$(b.id+" .slideshow-thumbnails .bullet[data-slide="+a+"]").addClass("selected")}$(b.id+" .slideshow-wrapper").animate({left:b.positionsInArray[a]},{duration:b.speed||500,})};jQuery(document).ready(function(){var b=null;var a=[];$(".slideshow").each(function(){var c=($(this).data("autoplay")!=undefined)?$(this).data("autoplay"):false;a.push(new Slideshow("#"+$(this).attr("id"),c))});$(window).resize(function(){window.clearTimeout(b);b=window.setTimeout(function(){a.forEach(function(c){c.calculate()})},200)})});var SiretFormat=function(){var a=this;$("body").on("change paste keyup",'input[type="tel"].siret',function(b){if(b.type=="keyup"&&b.keyCode>=37&&b.keyCode<=40){return}a.format($(this))})};SiretFormat.prototype.format=function(a){a.val(function(b,d){var c=d.replace(/[^\d]/g,"").match(/.{1,3}/g);if(c){if(c.length>3){return c.slice(0,4).join(" ")+c.slice(4,c.length).join("")}else{return c.join(" ")}}else{return""}})};jQuery(document).ready(function(){if(document.getElementsByClassName("siret").length){var a=new SiretFormat()}});var Searchbox=function(){this.searchbox=".searchbox";this.searchboxParams=".searchbox_params"};Searchbox.prototype.submitCheck=function(){if($(this.searchbox).attr("data-searchbox")=="myads"){var a=new Cookies();a.setCookie("c","0")}window.location.href=this.cleanURL()};Searchbox.prototype.eventTrackers=function(){var a,b;if(utag_data.pagename=="listing"){evt='{"event_name": "ad_search::recherche_titre_uniquement::on", "event_type": "click", "event_s2": "8", "click_type": "N"}';urg=evt.replace("titre","urgent")}if(utag_data.pagename=="watchlist"){evt='{"event_name": "mes_annonces::recherches_automatiques::recherche_titre_uniquement::on", "event_type": "click", "event_s2": "7", "click_type": "N"}';urg=evt.replace("titre","urgent")}$("#ctitle").on("click",function(c){if(this===c.target){onoffEvents($(this),evt,evt.replace(":on",":off"))}});$("#curgent").on("click",function(c){if(this===c.target){onoffEvents($(this),urg,urg.replace(":on",":off"))}});$(".searchbar").on("click",function(){var c='{"event_name": "ad_search::searchbar::close_searchbox", "event_type": "click", "event_s2": "8", "click_type": "N"}';if($(".searchbox").hasClass("visible")){$(this).attr("data-info",c)}else{$(this).attr("data-info",c.replace("close","open"))}})};Searchbox.prototype.getFieldValue=function(d,c,a,h){var b=0;for(var g=0;g<a;g++){var j=$(c[g]).attr("name");if((($(c[g]).val()!="")&&((d!="input:checkbox")&&(d!="input:radio")))||(((d=="input:checkbox")||(d=="input:radio"))&&($(c[g]).is(":checked")))){if(typeof(h[j])==="undefined"){h[j]={}}if(typeof(h[j]["value"])!=="undefined"){b=Object.size(h[j]["value"])}else{h[j]["value"]={}}h[j]["value"][b]=$(c[g]).val()}}return h};Searchbox.prototype.findFieldValue=function(b){var j={},g=b.length;for(var d=0;d<g;d++){if($("input:checkbox",b[d]).length){var a=$("input:checkbox",b[d]),c=a.length;j=this.getFieldValue("input:checkbox",a,c,j)}if($("input:radio",b[d]).length){var a=$("input:radio",b[d]),c=a.length;j=this.getFieldValue("input:radio",a,c,j)}if($("input:not(:checkbox):not(:radio)",b[d]).length){var a=$("input:not(:checkbox)",b[d]),c=a.length;j=this.getFieldValue("input:not(:checkbox)",a,c,j)}if($("select",b[d]).length){var h=$("select",b[d]),k=h.length;j=this.getFieldValue("select",h,k,j)}}return j};Searchbox.prototype.getExtraParamURL=function(){$extraFields=$("#searchboxCategories .searchbox_row.visible");var b=this.findFieldValue($extraFields),a="&";for(key in b){for(keykey in b[key]){for(keykeykey in b[key][keykey]){a+=key+"="+b[key][keykey][keykeykey]+"&"}}}return a.substr(0,(a.length-1))};Searchbox.prototype.getDefaultParamURL=function(){if($(this.searchbox).attr("data-friendly-enabled")=="1"&&$(this.searchbox).attr("data-searchbox")!="myads"&&$(this.searchbox).attr("data-searchbox")!="store-view"){var a=""}else{var a="ca="+$('input[name="ca"]').val()+"&";if($('input[name="l"]').length){a+="l="+$('input[name="l"]').val()+"&"}if($('input[name="dn"]').length){a+="dn="+$('input[name="dn"]').val()+"&"}if($('select[name="as"]').length){a+="as="+$('select[name="as"]').val()+"&"}if(typeof($('input[name="c"]').val())!="undefined"){a+="c="+$('input[name="c"]').val()+"&"}else{if(typeof($('select[name="c"]').val())!="undefined"){a+="c="+$('select[name="c"]').val()+"&"}else{a+="c=0&"}}a+="w="+$('select[name="w"]').val()+"&"}if($('input[name="cmd"]').length){a+="cmd="+$('input[name="cmd"]').val()+"&"}if($('input[name="wid"]').length){a+="wid="+$('input[name="wid"]').val()+"&"}if($('input[name="th"]').length){a+="th="+$('input[name="th"]').val()+"&"}if($('input[name="f"]').length){a+="f="+$('input[name="f"]').val()+"&"}if($('input[name="fk"]').length){a+="fk="+$('input[name="fk"]').val()+"&"}if($('input[name="sp"]').length){a+="sp="+$('input[name="sp"]').val()+"&"}if($('input[name="q"]').val()!=""){a+="q="+escape($('input[name="q"]').val())+"&"}if($('input[name="ur"]').is(":checked")){a+="ur="+$('input[name="ur"]').val()+"&"}if($('input[name="it"]').is(":checked")){a+="it="+$('input[name="it"]').val()+"&"}if($('input[name="ti"]').is(":checked")){a+="ti="+$('input[name="ti"]').val()+"&"}if($('select[name="w"]').val()==4){a+="w="+$('select[name="w"]').val()+"&";if(($('input[name="latitude"]').length)&&($('input[name="latitude"]').val()=="")){var b=new Geoloc("","user");b.checkNavigatorLocation();return}else{if(($('input[name="latitude"]').length)&&($('input[name="latitude"]').val()!="")){a+="latitude="+$('input[name="latitude"]').val()+"&"}if(($('input[name="longitude"]').length)&&($('input[name="longitude"]').val()!="")){a+="longitude="+$('input[name="longitude"]').val()+"&"}}if($('select[name="radius"]').length){a+="radius="+$('select[name="radius"]').val()+"&"}}else{if(($('input[name="location"]').length)&&($('input[name="location"]').val()!="")){a+="location="+$('input[name="location"]').val()+"&"}}if($('input[name="parrot"]').length){a+="parrot="+$('input[name="parrot"]').val()+"&"}return a.substr(0,(a.length-1))};Searchbox.prototype.cleanURL=function(){var b=this.getExtraParamURL();var a=this.getDefaultParamURL();if($(this.searchbox).attr("data-friendly-enabled")=="1"&&$(this.searchbox).attr("data-searchbox")!="myads"&&$(this.searchbox).attr("data-searchbox")!="store-view"){var c=this.defineBaseUrl($(this.searchbox).attr("data-searchbox"),$(this.searchbox).attr("data-type"),$(this.searchbox).attr("data-region"),$(this.searchbox).attr("data-regionname"));if(a.length||b.length){return c+"?"+a+b}else{return c}}else{return this.formAction+"?"+a+b}};Searchbox.prototype.resetExtraParam=function(){$extraFields=$("#searchboxCategories .searchbox_row.visible");var a=this.findFieldValue($extraFields);for(key in a){for(keykey in a[key]){for(keykeykey in a[key][keykey]){if($('input[name="'+key+'"][value="'+a[key][keykey][keykeykey]+'"]').attr("type")=="radio"){if(key=="st"){$('input[name="st"][value="'+a[key][keykey][keykeykey]+'"]').val("a")}}else{if($('input[name="'+key+'"][value="'+a[key][keykey][keykeykey]+'"]').attr("type")=="checkbox"){$('input[name="'+key+'"][value="'+a[key][keykey][keykeykey]+'"]').attr("checked",false)}else{if($('select[name="'+key+'"]').length){$('select[name="'+key+'"]').val("")}else{$('input[name="'+key+'"]').val("")}}}}}}};Searchbox.prototype.behaveHeader=function(){var a=$(window).scrollTop();if(a>150&&$("body").height()>($(window).height()+$("#search_box").outerHeight())){this.toggleFixHeader(false)}else{if(a<150){if($(window).width()>970){this.toggleFixHeader(true)}}}};Searchbox.prototype.toggleFixHeader=function(a){(a==true)?$("#header").addClass("no-fix"):$("#header").removeClass("no-fix")};Searchbox.prototype.resetAllError=function(){if($(this.searchboxParams).find(".error").length){$(this.searchboxParams).find(".error").removeClass("error");$(this.searchboxParams).find(".label-error").removeClass("visible")}};Searchbox.prototype.resetSelect=function(a,b){return $("#"+a).empty().append('<option value="">'+b+"</option>")};Searchbox.prototype.defineBaseUrl=function(o,p,m,b){if(o=="listing"){var k="/",c=$('select[name="c"]').is(":visible")?removeDiacritics($('select[name="c"] option:selected').text()):removeDiacritics($("#searchboxToggleCategory").text()),d=document.getElementById("searcharea"),j=document.getElementById("dn"),n=d.value,h=(/^[^a-z]*$/).test($("#searchboxToggleCategory").text());if("toutes_categories"==c){k+="annonces/"}else{if(c.charAt(0)=="_"){c=c.slice(1,-1)}k+=h?"_"+c+"_/":c+"/"}if(p.charAt(0)=="k"){k+="demandes/"}else{k+="offres/"}}else{if(o=="store"){var k="/boutiques/",c=removeDiacritics($('select[name="c"]').find("option:selected")[0].text),g=removeDiacritics($('select[name="as"]').find("option:selected")[0].text),d=document.getElementById("searcharea"),j=document.getElementById("dn"),n=d.value;if("secteur_d_activite"==g){g="tout_secteur_d_activite"}k+=g+"/"+c+"/"}}if(n!=3){k+=removeDiacritics(b)+"/"}if(n!=1){if(n==2){if(j!=undefined&&j.value!=""){var a=this.regionsDepartments[m][j.value-100];var l=(j.value-100)+"";if(l.length==1){l="0"+l}k+=removeDiacritics(a)+"/"+l+"/"}else{k+="bonnes_affaires/"}}else{if(n>100){var a=removeDiacritics(d.options[d.selectedIndex].text);k+=a+"/"}}}return k};var SearchboxAds=function(a){this.formAction=a;var b=this;$("body").on("submit","#search_box",function(d){d.preventDefault();if($(".location-list").hasClass("visible")){return false}if(searchboxForm.check()==false){return false}if($("#availability").hasClass("visible")){$("#availability_ds_datepicker, #availability_de_datepicker").val("")}if($(".location-container").length){b.setLocation()}if($(this).hasClass("searchlisting")){var c=window.location.href.split("/");if("/"+c[c.length-3]+"/"+c[c.length-2]+"/"+c[c.length-1]==b.cleanURL()+"#store-listingAds"){window.location.reload(true);return false}window.location.href=b.cleanURL()+"#store-listingAds";return false}b.submitCheck();return false});$("body").on("click",".customSelect_categories a",function(c){c.preventDefault();b.resetExtraParam();b.showParams($(this),true)});$("select#search_category").on("change",function(){var c=$(this).val();$(this).attr("data-category",c);b.showParams($(this),true)});$("#brand_select").on("change",function(){var c=$(this).find("option:selected")[0].value;if(c==""||c==undefined){b.resetSelect("model_select","Mod&egrave;le");$("#model").children(".selectWrapper").addClass("disabled").children("#model_select").prop("disabled","disabled");return}c=c.replace(/ /g,"_");$.ajax({type:"GET",url:"/beta/ajax/brand_model_list.html",data:{brand:c},success:function(d){b.resetSelect("model_select","Mod&egrave;le").append(d);$("#model").children(".selectWrapper").removeClass("disabled").children("#model_select").prop("disabled",false)}})});$("#searcharea").on("change",function(){var c=$(this).find("option:selected")[0].value;if(c=="4"){b.toggleGeoSearch(true)}else{b.toggleGeoSearch(false)}});$("#animal_typed").on("change",function(){var c=$(this).find("option:selected")[0].value;if(c=="1"){$("#animal_offer_nature").addClass("visible")}else{$("#animal_offer_nature").removeClass("visible")}});if($("#animal_typed").val()=="1"){setTimeout(function(){$("#animal_offer_nature").addClass("visible")},200)}if(localStorage.getItem("latitude")&&localStorage.getItem("latitude")!=""){$('input[name="latitude"]').val(localStorage.getItem("latitude"));$('input[name="longitude"]').val(localStorage.getItem("longitude"))}};SearchboxAds.prototype=new Searchbox();SearchboxAds.prototype.showParams=function(d,a){this.resetAllError();var c=d.attr("data-category"),h=d.is("#search_category")?d.children(":selected").text():d.text(),g=$(this.searchbox).attr("data-region"),b=$(this.searchbox).attr("data-type");$("input#search_category").attr("value",c);if($("#availability").hasClass("visible")){$("#availability").datepicker_list("clean")}if(typeof(a)!=="undefined"){this.searchCrit(false,get_radio_value(f.st),g,b)}else{this.searchCrit(false,get_radio_value(f.st),g,b,c)}$(".customSelect_categories a.active").removeClass("active");d.addClass("active");$(".customSelect_categories").removeClass("visible");$(".selectCategory span.select").text(h)};SearchboxAds.prototype.searchCrit=function(E,I,v,B,g){var H;var z=this;var a=0;var d=false;var o=document.getElementById("cmd")!=null?true:false;var m=navigator.userAgent.toLowerCase();var n=parseInt(navigator.appVersion);var b=((m.indexOf("msie")!=-1)&&(m.indexOf("opera")==-1));var h=get_settings("search_box",key_lookup);var r=false;var D;if(queryString("ca")!=-1){var x=queryString("ca").split("_")}else{if(typeof(v)!="undefined"&&typeof(B)!="undefined"){var x=new Array();x[0]=v;x[1]=B}else{var x=new Array();x[0]=v;x[1]=(window.location.href.indexOf("/offres/")!=-1)?"s":(window.location.href.indexOf("/demandes/")!=-1)?"k":"s"}}if(typeof(g)!="undefined"){D=g}else{D=queryString("c")}H=(E||D==g)?true:false;if(!E){var y=g?g:D;setTimeout("document.cookie='c="+y+"'",0);setTimeout("document.cookie='features=0'",0);a=1}else{var y=(E>0||D<0)?E:D;g=y}if(categoryHasNonDefaultTypes(y)&&categoryList[y]["def_type"]=="a"&&x[1]!="k"){d=true}else{if(!I){I=getAdTypeFromCaller()}}if(!I||!d){if(categoryList[y]){I=categoryList[y]["def_type"]?categoryList[y]["def_type"]:getAdTypeFromCaller()}else{I=getAdTypeFromCaller()}}$(this.searchboxParams).children().removeClass("visible");if(h){if(h=="zipcode"){$(this.searchbox).removeClass("paramsDeployed");$(this.searchboxParams).removeClass("visible");return}h=h.split(",");for(var C=0;C<h.length;C++){if(h[C].indexOf("pricelist")>=0){showField("pricelist","block");var l=h[C].split(":");if($('select[name="ps"]').val()==""){fillList(l[1],"priceList",H,"ps","pe")}enable_field("ps");enable_field("pe")}else{if(h[C].indexOf("squarelist")>=0){showField("squarelist","block");var k=h[C].split(":");if($('select[name="sqs"]').val()==""){fillList(k[1],"squareList",H,"sqs","sqe")}enable_field("sqs");enable_field("sqe")}else{if(h[C].indexOf("regdatelist")>=0){showField("regdatelist","block");var G=h[C].split(":");if($('select[name="rs"]').val()==""){fillRegDateList(G[1],"regdateListKey","regdateList",H,"rs","re")}enable_field("rs");enable_field("re")}else{if(h[C].indexOf("mileagelist")>=0){showField("mileagelist","block");var s=h[C].split(":");if($('select[name="ms"]').val()==""){fillMileAgeList(s[1],"mileageListKey","mileageList",H,"ms","me")}enable_field("ms");enable_field("me")}else{if(h[C].indexOf("availability")>=0){showField("availability","block");var q=h[C].split(":");fillAvailability(q[1],"availabilityKey","availability",H,"ds","de");enable_field("availability_ds_datepicker");enable_field("availability_ds");enable_field("availability_de_datepicker");enable_field("availability_de")}else{showField(h[C],"block");var F=document.getElementById(h[C]);if(F!=null){var w=F.getElementsByTagName("select");for(var A=0;A<w.length;A++){if(!a){setFeatureVal(w[A].name,w[A])}enable_field(w[A])}}}}}}}}r=true;$(this.searchbox).addClass("paramsDeployed");$(this.searchboxParams).addClass("visible")}if($("#search_category").val()=="13"){showField("subtypes","block")}else{showField("subtypes","none")}if($("#search_category").val()=="22"){showField("clothing_st","block")}if($("#search_category").val()=="2"){var p=$("#brand_select").val();if(p==0||p==undefined){$.ajax({type:"GET",url:"/beta/ajax/brand_model_list.html",success:function(c){z.resetSelect("brand_select","Marque").append(c);z.resetSelect("model_select","Mod&egrave;le");$("#model").children(".selectWrapper").addClass("disabled").children("#model_select").prop("disabled","disabled")}})}}};SearchboxAds.prototype.setLocation=function(){var a="";$(".location-container .inputWrapper .location_city").each(function(){if($(this).text().indexOf("arrondissements")!=-1||$(this).text().indexOf("ville")!=-1){a+=$.trim($(this).text().split("(",2)[0])+","}else{a+=$.trim($(this).text())+","}});$('input[name="location"]').val(escape(a.substr(0,(a.length-1))))};SearchboxAds.prototype.toggleGeoSearch=function(a){if(a){$(".searchbox .location-container").addClass("hidden");$(".searchbox .radiusContainer").removeClass("hidden");$("#searcharea").addClass("around_me")}else{$(".searchbox .location-container").removeClass("hidden");$(".searchbox .radiusContainer").addClass("hidden");$("#searcharea").removeClass("around_me")}};var SearchboxStores=function(a){this.formAction=a;var b=this;$("body").on("submit","#search_box",function(c){c.preventDefault();b.submitCheck();return false});$("body").on("change",'select[name="as"]',function(){b.toggleCategories()})};SearchboxStores.prototype=new Searchbox();SearchboxStores.prototype.toggleCategories=function(){this.loadCategories($('select[name="as"]').val());if($('select[name="as"]').val()!=0){$('select[name="c"]').removeAttr("disabled");$('select[name="c"]').parent().removeClass("disabled")}else{$('select[name="c"]').attr("disabled","disabled");$('select[name="c"]').parent().addClass("disabled")}};SearchboxStores.prototype.loadCategories=function(a){var c="";if(a=="0"){c+='<option value="0" selected="selected">Toutes cat&eacute;gories</option>'}else{c+='<option value="0">Toutes cat&eacute;gories</option>';for(var b in this.categories[a]){c+='<option value="'+b+'">'+this.categories[a][b]+"</option>"}}$('select[name="c"]').html(c)};var SearchboxDashboard=function(a){this.url=a;var b=this;$("#search_box").submit(function(c){c.preventDefault();if(searchboxForm.check()==false){return false}if($("#availability").hasClass("visible")){$("#availability_ds_datepicker, #availability_de_datepicker").val("")}b.submitCheck();return false});$("body").on("click",".customSelect_categories a",function(c){c.preventDefault();b.resetExtraParam();b.showParams($(this),true)});$("select#search_category").on("change",function(){var c=$(this).val();$(this).attr("data-category",c);b.showParams($(this),true)});$("#brand_select").on("change",function(){var c=$(this).find("option:selected")[0].value;if(c==""||c==undefined){b.resetSelect("model_select","Mod&egrave;le");$("#model").children(".selectWrapper").addClass("disabled").children("#model_select").prop("disabled","disabled");return}c=c.replace(/ /g,"_");$.ajax({type:"GET",url:"/beta/ajax/brand_model_list.html",data:{brand:c},success:function(d){b.resetSelect("model_select","Mod&egrave;le").append(d);$("#model").children(".selectWrapper").removeClass("disabled").children("#model_select").prop("disabled",false)}})});$("#animal_typed").on("change",function(){var c=$(this).find("option:selected")[0].value;if(c=="1"){$("#animal_offer_nature").addClass("visible")}else{$("#animal_offer_nature").removeClass("visible")}});if($("#animal_typed").val()=="1"){setTimeout(function(){$("#animal_offer_nature").addClass("visible")},200)}};SearchboxDashboard.prototype=new Searchbox();SearchboxDashboard.prototype.submitCheck=function(){window.location.href=this.cleanURL()};SearchboxDashboard.prototype.getDefaultParamURL=function(){var a="search=1&";if(typeof($('input[name="c"]').val())!="undefined"){a+="c="+$('input[name="c"]').val()+"&"}else{if(typeof($('select[name="c"]').val())!="undefined"){a+="c="+$('select[name="c"]').val()+"&"}else{a+="c=0&"}}if($('input[name="q"]').val()!=""){a+="q="+escape($('input[name="q"]').val())+"&"}return a.substr(0,(a.length-1))};SearchboxDashboard.prototype.cleanURL=function(){var b=this.getExtraParamURL();var a=this.getDefaultParamURL();return this.url+"?"+a+b};SearchboxDashboard.prototype.showParams=function(d,a){this.resetAllError();var c=d.attr("data-category"),h=d.is("#search_category")?d.children(":selected").text():d.text(),g=$(this.searchbox).attr("data-region"),b=$(this.searchbox).attr("data-type");$("input#search_category").attr("value",c);if($("#availability").hasClass("visible")){$("#availability").datepicker_list("clean")}if(typeof(a)!=="undefined"){this.searchCrit(false,get_radio_value(f.st),g,b)}else{this.searchCrit(false,get_radio_value(f.st),g,b,c)}$(".customSelect_categories a.active").removeClass("active");d.addClass("active");$(".customSelect_categories").removeClass("visible");$(".selectCategory span.select").text(h)};SearchboxDashboard.prototype.searchCrit=function(E,I,v,B,g){var H;var z=this;var a=0;var d=false;var o=document.getElementById("cmd")!=null?true:false;var m=navigator.userAgent.toLowerCase();var n=parseInt(navigator.appVersion);var b=((m.indexOf("msie")!=-1)&&(m.indexOf("opera")==-1));var h=get_settings("search_box",key_lookup);var r=false;var D;if(queryString("ca")!=-1){var x=queryString("ca").split("_")}else{if(typeof(v)!="undefined"&&typeof(B)!="undefined"){var x=new Array();x[0]=v;x[1]=B}else{var x=new Array();x[0]=v;x[1]=(window.location.href.indexOf("/offres/")!=-1)?"s":(window.location.href.indexOf("/demandes/")!=-1)?"k":"s"}}if(typeof(g)!="undefined"){D=g}else{D=queryString("c")}H=(E||D==g)?true:false;if(!E){var y=g?g:D;setTimeout("document.cookie='c="+y+"'",0);setTimeout("document.cookie='features=0'",0);a=1}else{var y=(E>0||D<0)?E:D;g=y}if(categoryHasNonDefaultTypes(y)&&categoryList[y]["def_type"]=="a"&&x[1]!="k"){d=true}else{if(!I){I=getAdTypeFromCaller()}}if(!I||!d){if(categoryList[y]){I=categoryList[y]["def_type"]?categoryList[y]["def_type"]:getAdTypeFromCaller()}else{I=getAdTypeFromCaller()}}$(this.searchboxParams).children().removeClass("visible");if(h){if(h=="zipcode"){$(this.searchbox).removeClass("paramsDeployed");$(this.searchboxParams).removeClass("visible");return}h=h.split(",");for(var C=0;C<h.length;C++){if(h[C].indexOf("pricelist")>=0){showField("pricelist","block");var l=h[C].split(":");if($('select[name="ps"]').val()==""){fillList(l[1],"priceList",H,"ps","pe")}enable_field("ps");enable_field("pe")}else{if(h[C].indexOf("squarelist")>=0){showField("squarelist","block");var k=h[C].split(":");if($('select[name="sqs"]').val()==""){fillList(k[1],"squareList",H,"sqs","sqe")}enable_field("sqs");enable_field("sqe")}else{if(h[C].indexOf("regdatelist")>=0){showField("regdatelist","block");var G=h[C].split(":");if($('select[name="rs"]').val()==""){fillRegDateList(G[1],"regdateListKey","regdateList",H,"rs","re")}enable_field("rs");enable_field("re")}else{if(h[C].indexOf("mileagelist")>=0){showField("mileagelist","block");var s=h[C].split(":");if($('select[name="ms"]').val()==""){fillMileAgeList(s[1],"mileageListKey","mileageList",H,"ms","me")}enable_field("ms");enable_field("me")}else{if(h[C].indexOf("availability")>=0){showField("availability","block");var q=h[C].split(":");fillAvailability(q[1],"availabilityKey","availability",H,"ds","de");enable_field("availability_ds_datepicker");enable_field("availability_ds");enable_field("availability_de_datepicker");enable_field("availability_de")}else{showField(h[C],"block");var F=document.getElementById(h[C]);if(F!=null){var w=F.getElementsByTagName("select");for(var A=0;A<w.length;A++){if(!a){setFeatureVal(w[A].name,w[A])}enable_field(w[A])}}}}}}}}r=true;$(this.searchbox).addClass("paramsDeployed");$(this.searchboxParams).addClass("visible")}if($("#search_category").val()=="13"){showField("subtypes","block")}else{showField("subtypes","none")}if($("#search_category").val()=="22"){showField("clothing_st","block")}if($("#search_category").val()=="2"){var p=$("#brand_select").val();if(p==0||p==undefined){$.ajax({type:"GET",url:"/beta/ajax/brand_model_list.html",success:function(c){z.resetSelect("brand_select","Marque").append(c);z.resetSelect("model_select","Mod&egrave;le");$("#model").children(".selectWrapper").addClass("disabled").children("#model_select").prop("disabled","disabled")}})}}};function showField(b,a){if(a=="block"){$(".searchbox_params #"+b).addClass("visible")}else{$(".searchbox_params #"+b).removeClass("visible")}}function isInArray(b,c){for(var a in c){if(c[a].split(":")[0]==b){return true}}return false}function fillList(_listno,_listname,_selected,_list_start,_list_end){if(!document.getElementById(_list_start)||!document.getElementById(_list_end)){return}var list_s=document.getElementById(_list_start);var list_e=document.getElementById(_list_end);var list=eval(_listname);if(_selected){list_s_selected=parseInt(queryString(_list_start));list_e_selected=parseInt(queryString(_list_end))}else{list_s_selected=list_e_selected=""}list_s.options.length=1;list_e.options.length=1;for(var i=0;i<list[_listno].length;i++){if(i+1<list[_listno].length){list_s.options[i+1]=new Option(list[_listno][i],i);if(list_s_selected==i&&list_s_selected!=""){list_s.options[i+1].selected=true}else{list_s.options[i+1].selected=false}}if(i>0){list_e.options[i]=new Option(list[_listno][i],i,list_e_selected==i?true:false);if(list_e_selected==i){list_e.options[i].selected=true}else{list_e.options[i].selected=false}}}}function fillListWithValues(_listno,_listname,_selected,_list_start,_list_end){if(!document.getElementById(_list_start)||!document.getElementById(_list_end)){return}var list_s=document.getElementById(_list_start);var list_e=document.getElementById(_list_end);var list=eval(_listname);if(_selected){list_s_selected=parseInt(queryString(_list_start));list_e_selected=parseInt(queryString(_list_end))}else{list_s_selected=list_e_selected=""}list_s.options.length=1;list_e.options.length=1;for(var i=0;i<list[_listno].length;i++){if(i+1<list[_listno].length){list_s.options[i+1]=new Option(list[_listno][i],list[_listno][i].replace(/ /g,""));if(list_s_selected==i&&list_s_selected!=""){list_s.options[i+1].selected=true}else{list_s.options[i+1].selected=false}}if(i>0){var value=list[_listno][i].indexOf("Plus de")!==-1?"":list[_listno][i].replace(/ /g,"");list_e.options[i]=new Option(list[_listno][i],value,list_e_selected==i?true:false);if(list_e_selected==i){list_e.options[i].selected=true}else{list_e.options[i].selected=false}}}}function fillRegDateList(_listno,_listnameKey,_listname,_selected,_list_start,_list_end){if(!document.getElementById(_list_start)||!document.getElementById(_list_end)){return}var list_s=document.getElementById(_list_start);var list_e=document.getElementById(_list_end);var list=eval(_listname);var listkey=eval(_listnameKey);if(_selected){list_s_selected=parseInt(queryString(_list_start));list_e_selected=parseInt(queryString(_list_end))}else{list_s_selected=list_e_selected=""}list_s.options.length=1;list_e.options.length=1;for(var i=list[_listno].length-1,j=1;i>=0;--i,++j){var listval=list[_listno][i];if(i==0){listval+=" ou avant"}list_s.options[j]=new Option(listval,listkey[_listno][i]);if(list_s_selected==listkey[_listno][i]&&list_s_selected!=""){list_s.options[j].selected=true}else{list_s.options[j].selected=false}list_e.options[j]=new Option(list[_listno][i],listkey[_listno][i]);if(list_e_selected==listkey[_listno][i]&&list_e_selected!=""){list_e.options[j].selected=true}else{list_e.options[j].selected=false}}}function fillMileAgeList(_listno,_listnameKey,_listname,_selected,_list_start,_list_end){if(!document.getElementById(_list_start)||!document.getElementById(_list_end)){return}var list_s=document.getElementById(_list_start);var list_e=document.getElementById(_list_end);var list=eval(_listname);var listkey=eval(_listnameKey);if(_selected){list_s_selected=parseInt(queryString(_list_start));list_e_selected=parseInt(queryString(_list_end))}else{list_s_selected=list_e_selected=""}list_s.options.length=1;list_e.options.length=1;i_last=list[_listno].length-1;for(var i=0,i_min=1,i_max=1;i<list[_listno].length;++i){if(i!=i_last){list_s.options[i_min]=new Option(list[_listno][i],listkey[_listno][i]);if((list_s_selected!="")&&(list_s_selected==listkey[_listno][i])){list_s.options[i_min].selected=true}else{list_s.options[i_min].selected=false}++i_min}if(0<i){list_e.options[i_max]=new Option(list[_listno][i],listkey[_listno][i]);if((list_e_selected!="")&&(list_e_selected==listkey[_listno][i])){list_e.options[i_max].selected=true}else{list_e.options[i_max].selected=false}++i_max}}}function fillAvailability(a,b,h,g,c,d){if(!document.getElementById("availability_"+c)||!document.getElementById("availability_"+d)){return}else{$("#availability").datepicker_list(datepicker_conf,davailability_conf)}}function enable_field(a){var b=typeof(a)=="string"?document.getElementById(a):a;if(b==null){return}if(b.disabled){b.disabled=false}}function genSubTypes(g,k,j,c){if(!document.getElementById(k)){return}var a=document.getElementById(k);var b="";if(!categoryList[g]||!categoryList[g]["type"]){return}if(c){adtype_selected=c}else{adtype_selected=queryString("st")}a.innerHTML="";if(j){if(adtype_selected=="a"||(adtype_selected==-1&&categoryList[g]["def_type"]=="a")){var b='<label class="radio"><input type="radio" name="st" value="a" checked="checked"> '+typeList.a+"</label> "}else{var b='<label class="radio"><input type="radio" name="st" value="a"> '+typeList.a+"</label> "}}else{if(adtype_selected==-1){adtype_selected="s"}}var h=categoryList[g]["type"].split(",");for(var d in h){if(h[d]!="k"){if(h[d]=="s"){type_name="Ventes"}else{type_name=typeList[h[d]]}b+='<label class="radio"><input type="radio" name="st" value="'+h[d]+'" '+(h[d]==adtype_selected?"checked":"")+" > "+type_name+"</label> "}}a.innerHTML=b}function get_radio_value(b){if(!b){return}for(var a=0;a<b.length;a++){if(b[a].checked){return b[a].value}}return null}function getAdTypeFromCaller(){var c;if(queryString("ca")<0){c=(window.location.href.indexOf("/offres/")!=-1)?"s":(window.location.href.indexOf("/demandes/")!=-1)?"k":defaultTypes[0]}else{var a=queryString("ca");var b=a.split("_");c=b[b.length-1]}return c}function categoryHasNonDefaultTypes(b){var a=false;if(!categoryList[b]||!categoryList[b]["type"]){return false}var d=categoryList[b]["type"].split(",");for(var c in d){if(!isInArray(d[c],defaultTypes)){a=true}}return a}function key_lookup(a){if(a=="search_type"){return getAdTypeFromCaller()}else{if(document.getElementById(a)){return document.getElementById(a).value}else{return null}}}function PageQuery(b){if(b.length>1){this.q=b.substring(1,b.length)}else{this.q=null}this.keyValuePairs=new Array();if(b){for(var a=0;a<this.q.split("&").length;a++){this.keyValuePairs[a]=this.q.split("&")[a]}}this.getKeyValuePairs=function(){return this.keyValuePairs};this.getValue=function(d){for(var c=0;c<this.keyValuePairs.length;c++){if(this.keyValuePairs[c].split("=")[0]==d){return this.keyValuePairs[c].split("=")[1]}}return -1};this.getParameters=function(){var c=new Array(this.getLength());for(var d=0;d<this.keyValuePairs.length;d++){c[d]=this.keyValuePairs[d].split("=")[0]}return c};this.getLength=function(){return this.keyValuePairs.length}}function queryString(a){var b=new PageQuery(window.location.search);return unescape(b.getValue(a))}function get_settings(g,a){var h;for(var d in settings[g]){var m=settings[g][d];var b=null;if(settings[g][d]["keys"]){for(var c in settings[g][d]["keys"]){var k=settings[g][d]["keys"][c];var l=a(k);if(m[l]){m=m[l]}else{break}}if(m.value){b=m.value}}else{if(settings[g][d]["default"]){b=settings[g][d]["default"]}}if(b){if(h){h+=","+b}else{h=b}if(!settings[g][d]["continue"]){break}}}return h}function showClothingSize(j,g,a){var m=document.getElementById(g);var k=document.getElementById("clothing_std");$clothing_st=jQuery("#clothing_st .selectWrapper");var h=document.getElementById("search_category");var n=0;var l=j;if(h.value!=22||l.charAt(0)=="k"){showField("clothes_search_label","none");showField("clothing_st","none");return}showField("clothing_st","block");showField("clothes_search_label","block");if(a!="null"&&a!="null2"){n=k.value}k.options.length=1;if(typeof(clothing_size_type[m.value])=="undefined"){k.disabled=true;$clothing_st.addClass("disabled");return}else{$clothing_st.removeClass("disabled")}var d=1;for(var b in clothing_size_type[m.value]){k.options[d]=new Option(clothing_size_type[m.value][b],b);d++}k.disabled=false;k.options[n].selected=true}function onoffEvents(c,a,b){if($(c).is(":checked")){$(c).attr("data-info",a)}else{$(c).attr("data-info",b)}}runningInstanceOfFileUploadNewad=null;var FileUpload=function(){};FileUpload.prototype.uploadStart=function(a,c,b){runningInstanceOfFileUploadNewad=this;this.showLoader();this.modifyForm(a);this.injectIframe();if(typeof(b)==="undefined"){var b=0}var d=this;setTimeout(function(){$(d.formular.identifier).submit();d.modifyForm(c,true)},b)};FileUpload.prototype.modifyForm=function(b,a){if(typeof a==="undefined"){$(this.formular.identifier).attr("target","upload_file_iframe");if(this.formular.enctypeChange==true){$(this.formular.identifier).attr("enctype","multipart/form-data")}}else{$(this.formular.identifier).attr("target","");if(this.formular.enctypeChange==true){$(this.formular.identifier).attr("enctype","")}}var c=this.formular.action.split("/");$(this.formular.identifier).attr("action","/"+c[1]+"/"+b+"/"+c[3])};FileUpload.prototype.suppressionStart=function(a){this.state="suppression_running";runningInstanceOfFileUploadNewad=this;this.showLoader();this.injectIframe();this.suppressionRequest(a)};FileUpload.prototype.suppressionRequest=function(b){var c=this.formular.action.split("/");var a="/"+c[1]+"/"+b+"/"+c[3];var d=this;$.ajax({url:a,type:"POST",data:{image:d.id},success:function(g){$('iframe[name="upload_file_iframe"]').html(g)}})};FileUpload.prototype.injectIframe=function(){$('<iframe name="upload_file_iframe" class="hidden"></iframe>').insertAfter(this.formular.identifier)};FileUpload.prototype.removeIframe=function(){$('iframe[name="upload_file_iframe"]').remove()};FileUpload.prototype.showLoader=function(){if(typeof(this.loader)==="undefined"){this.loader=new Loader(this.container)}this.loader.show()};FileUpload.prototype.hideLoader=function(){if(typeof(this.loader)==="undefined"){this.loader=new Loader(this.container)}this.loader.hide()};var FileUploadAdReply=function(b,h,d,c,a){this.container=b;this.formular={};this.formular.identifier=h;this.formular.action=$(this.formular.identifier).attr("action");this.formular.submitted=false;this.inputFile={};this.inputFile.object=$('input[name="'+d+'"]');this.inputFile.value=this.inputFile.object.val();this.ptext=$(this.container+" p");this.icon=$(this.container+" i");this.formular.enctypeChange=true;this.delay={};this.delay.value=c;this.delay.message=a;var g=this.formular.action.split("/");this.formular.defaultAction=g[2];this.init()};FileUploadAdReply.prototype=new FileUpload();FileUploadAdReply.prototype.init=function(){var a=this;$("body").on("change",".upload_file_input",function(){var b=a.inputFile.object.val();$('span[data-for="attachment"]').removeClass("visible");if((b!="")&&(b!=a.inputFile.value)){a.inputFile.value=b;a.uploadStart("attachment_send",a.formular.defaultAction,300);setTimeout(function(){if(a.formular.submitted==false){a.toggleElements("uploaded");a.hideLoader();a.toggleMobileLoader(false);$('span[data-for="attachment"]').html(a.delay.message);$('span[data-for="attachment"]').addClass("visible")}},a.delay.value)}});$("body").on("click","#deleteCv",function(){a.suppressionStart("attachment_delete",a.formular.defaultAction)})};FileUploadAdReply.prototype.readServer=function(a){this.removeIframe();this.formular.submitted=true;if(a.data.action!="delete"){if(a.state==1){this.uploadSuccess(a.data.attachmentThumbnail,a.data.attachmentLink)}else{this.uploadFail(a.data.error)}}else{this.suppressionSuccess()}};FileUploadAdReply.prototype.uploadSuccess=function(a,b){this.toggleElements("uploaded");$linkAttachment=$("<a>",{href:b,target:"_blank"});$imageCv=$("<img>",{src:a,width:"74px",height:"104px"}).appendTo($linkAttachment);$(this.container).append($linkAttachment);$(".cvValid .button-blue").attr("href",b);this.hideLoader();this.toggleMobileLoader(false)};FileUploadAdReply.prototype.uploadFail=function(a){this.hideLoader();$('span.label-error[data-for="attachment"]').html(a).addClass("visible")};FileUploadAdReply.prototype.suppressionSuccess=function(){this.hideLoader();this.toggleElements("not_uploaded")};FileUploadAdReply.prototype.toggleElements=function(a){if(a!="uploaded"){this.inputFile.object.removeClass("hidden");this.ptext.removeClass("hidden");this.icon.removeClass("hidden");$(this.container+" a").remove();$(".cvContainer").removeClass("hidden");$(".cvValid").addClass("hidden")}else{this.inputFile.object.addClass("hidden");this.ptext.addClass("hidden");this.icon.addClass("hidden");$(".cvContainer").addClass("hidden");$(".cvValid").removeClass("hidden")}};FileUploadAdReply.prototype.toggleMobileLoader=function(a){(a==true)?$(".mobileLoader").removeClass("hidden"):$(".mobileLoader").addClass("hidden")};var FileUploadNewad=function(c,g,a,d,b){this.parent=c;this.id=g;this.container=a;this.formular={};this.formular.identifier=d;this.formular.action=$(this.formular.identifier).attr("action");this.errorObject=b;this.state=null;this.image=null;this.init()};FileUploadNewad.prototype=new FileUpload();FileUploadNewad.prototype.init=function(){var a=this;$("body").on("change",this.container+' input[type="file"].picture',function(){a.hideError();var b=$(a.container).find(".layout.loader");if(!b.length||b.hasClass("hidden")){a.uploadStart("photo_upload_ajax","verify",300)}});$("body").on("click",this.container+" .icon-close-circle-outline-grey",function(){a.hideError();a.suppressionStart("photo_remove_ajax","verify",300)})};FileUploadNewad.prototype.getStructure=function(c,d){var b,g=this;if(c.state=="uploaded"){b=$("<div>",{"class":c.classString,id:"uploadPhoto-"+g.id,"data-state":c.state});$image=$("<img>",{src:c.image}).appendTo(b);$closeCross=$("<i>",{"class":"icon-close-circle-outline-grey icon-3x"}).appendTo(b);$path1=$("<span>",{"class":"path1"}).appendTo($closeCross);$path2=$("<span>",{"class":"path2"}).appendTo($closeCross)}else{if(c.hidden==true){b=$("<div>",{"class":c.classString+" hidden",id:"uploadPhoto-"+g.id,"data-state":"not_uploaded"})}else{if(c.state=="not_uploaded"){b=$("<div>",{"class":c.classString,id:"uploadPhoto-"+g.id,"data-state":"not_uploaded"})}}$input=$("<input />",{type:"file","class":"picture",accept:"image/bmp,image/gif,image/jpeg,image/png,image/x-ms-bmp",name:"image"+g.id,id:"image"+g.id}).appendTo(b);var a=g.id;(g.id==0)?a="principale":a=g.id+1;$p=$("<p>",{text:"Photo "+a,"class":"uppercase"}).appendTo(b);$i=$("<i>",{"class":"icon-camera-plus icon-7x"}).appendTo(b)}if(typeof this.loader!="undefined"){delete this.loader}if(typeof d!="undefined"){return b}else{$(this.container).html(b.html())}};FileUploadNewad.prototype.updateState=function(a,b){var c=this;this.state=a.state;$(this.container).attr("data-state",a.state);(typeof a.option==="undefined")?a.classString="file_container mrm mts":a.classString="file_container option mrm mts";if(a.state=="uploaded"){$(this.container).empty();this.image=a.image}else{this.image=null}return this.getStructure(a,b)};FileUploadNewad.prototype.readServer=function(a){this.removeIframe();if(a.data.action!="remove"){if(a.state==1){this.uploadSuccess(a.data.image)}else{this.uploadFail(a.data.error)}}else{this.suppressionSuccess()}runningInstanceOfFileUploadNewad.hideLoader()};FileUploadNewad.prototype.uploadSuccess=function(a){this.updateState({state:"uploaded",image:a})};FileUploadNewad.prototype.uploadFail=function(a){this.hideLoader();$('span.label-error[data-for="pictures"]').html(this.errorObject[a]).addClass("visible");$('input[type="file"].picture').val("")};FileUploadNewad.prototype.suppressionSuccess=function(){this.hideLoader();this.parent.orderAndCleanPictures()};FileUploadNewad.prototype.hideError=function(){$('span.label-error[data-for="pictures"]').html("").removeClass("visible")};var Pagination=function(b,a,c){this.identifier=b;this.numberOfStaticElements=$("."+this.identifier+" .element.static").length;this.numberOfDynamicElements=$("."+this.identifier+" .element").not(".static").length-1;this.numberBeforeSelected=$("."+this.identifier+" .element.selected").prevAll().size()-(this.numberOfStaticElements/2);this.numberAfterSelected=$("."+this.identifier+" .element.selected").nextAll().size()-(this.numberOfStaticElements/2);this.widthStaticElement=Math.ceil($("."+this.identifier+" .element.static").innerWidth());this.widthDynamicElement=Math.ceil($("."+this.identifier+" .element.selected").innerWidth()+8);this.numberOfElementToShow=0;this.maxNumberOfElementToShow=a;this.minNumberOfElementToShow=c;var d=this;$(window).on("resize",function(){d.howMany()})};Pagination.prototype.howMany=function(){this.numberOfElementToShow=Math.floor((($("."+this.identifier).innerWidth()-this.widthDynamicElement-(this.widthStaticElement*this.numberOfStaticElements))/this.widthDynamicElement)/2);if(this.numberOfElementToShow>this.maxNumberOfElementToShow){this.numberOfElementToShow=this.maxNumberOfElementToShow}else{if(this.numberOfElementToShow<this.minNumberOfElementToShow){this.numberOfElementToShow=this.minNumberOfElementToShow}}if((this.numberOfElementToShow<=this.numberBeforeSelected)&&(this.numberOfElementToShow<=this.numberAfterSelected)){this.numberOfElementToShowRight=this.numberOfElementToShowLeft=this.numberOfElementToShow}else{if(this.numberBeforeSelected<(this.numberOfDynamicElements/2)){this.numberOfElementToShowRight=(this.numberOfElementToShow*2)-this.numberBeforeSelected;this.numberOfElementToShowLeft=(this.numberOfElementToShow*2)-this.numberOfElementToShowRight}else{this.numberOfElementToShowLeft=(this.numberOfElementToShow*2)-this.numberAfterSelected;this.numberOfElementToShowRight=(this.numberOfElementToShow*2)-this.numberOfElementToShowLeft}}this.hideElement()};Pagination.prototype.hideElement=function(){$("."+this.identifier+" .element.hidden").removeClass("hidden");var b=$("."+this.identifier+" .element.selected").prevUntil().eq(this.numberOfElementToShowLeft-1);var a=$("."+this.identifier+" .element.selected").nextUntil().eq(this.numberOfElementToShowRight-1);b.prevAll().not("."+this.identifier+" .static").addClass("hidden");a.nextAll().not("."+this.identifier+" .static").addClass("hidden")};var geolocFailed=false;var Geoloc=function(a,b){this.button=$(a);this.mode=b!="undefined"?b:"user";this.latitude=0;this.longitude=0;_this=this;_this.storageEnable();if(a!=""){$("body").on("click",a,function(c){c.preventDefault();var d=$(this).attr("data-radius");_this.button=$(a);_this.url=$(this).attr("data-url");_this.radius=d!=undefined?d:"30000";_this.checkNavigatorLocation()});_this.storageCheck("geolocation")}if(!navigator.geolocation){this.notSupported()}};Geoloc.prototype.checkNavigatorLocation=function(){if(navigator.geolocation){_this.getPosition()}else{if(this.button.hasClass("allowRedirect")){_this.redirect(_this.url)}}};Geoloc.prototype.getCurrentPositionFailed=function(a){_this.storageSet("geolocation","disabled");_this.storageRemove("latitude");_this.storageRemove("longitude");_this.isDisabled()};Geoloc.prototype.getPosition=function(){if((document.body.className.indexOf("ua_IE")>-1||document.body.className.indexOf("ua_EDGE")>-1)&&!geolocFailed){geolocFailed=true}else{if(geolocFailed){_this.getCurrentPositionFailed();return}}navigator.geolocation.getCurrentPosition(function(a){_this.latitude=a.coords.latitude.toString().substr(0,6);_this.longitude=a.coords.longitude.toString().substr(0,6);_this.storageSet("geolocation","enabled");_this.storageSet("latitude",_this.latitude);_this.storageSet("longitude",_this.longitude);if($('input[name="latitude"]').length){_this.setInputs()}if(_this.mode=="user"&&_this.url!=undefined){var b=(_this.url.indexOf("?")!=-1)?"&":"?";_this.redirect(_this.url,b+"w=4&latitude="+_this.latitude+"&longitude="+_this.longitude+"&radius="+_this.radius)}else{if(_this.mode=="pinpoint"){_this.loadMap()}}},_this.getCurrentPositionFailed,{enableHighAccuracy:true,maximumAge:10080})};Geoloc.prototype.setInputs=function(){$('input[name="latitude"]').val(_this.latitude);$('input[name="longitude"]').val(_this.longitude)};Geoloc.prototype.loadMap=function(){var b=$("<div>",{id:"geolocContainer"});b.prependTo(".geoloc");var c=new Map("geolocContainer","web","homepage",_this);c.controlLayers=true;c.controlScale=true;c.controlAttribution=true;c.wheelZoom=true;c.attribution.position="bottomleft";$(".geoloc").addClass("visible");c.load(_this.latitude,_this.longitude);var a=c.addMarker(_this.latitude,_this.longitude);c.clicker(function(d){_this.markerLatitude=d.latlng.lat;_this.markerLongitude=d.latlng.lng;a.setLatLng(d.latlng)});$("body").on("click",".pinpointCancel",function(){$(".geoloc").removeClass("visible").find("#geolocContainer").remove()});$("body").on("click",".pinpointSubmit",function(){_this.redirect(_this.markerLatitude,_this.markerLongitude)})};Geoloc.prototype.redirect=function(a,b){b=(typeof b!=="undefined")?b:"";if(this.button.hasClass("blank")){window.open(a+b)}else{window.location=a+b}};Geoloc.prototype.storageEnable=function(){if(typeof localStorage==="object"){try{localStorage.setItem("localStorage",1);localStorage.removeItem("localStorage")}catch(a){Storage.prototype._setItem=Storage.prototype.setItem;Storage.prototype.setItem=function(){}}}};Geoloc.prototype.storageSet=function(a,b){localStorage.setItem(a,b)};Geoloc.prototype.storageGet=function(a){return localStorage.getItem(a)};Geoloc.prototype.storageRemove=function(a){localStorage.removeItem(a)};Geoloc.prototype.storageCheck=function(a){if(_this.storageGet(a)&&_this.storageGet(a)=="disabled"){_this.isDisabled()}};Geoloc.prototype.isDisabled=function(){if(this.button.hasClass("allowRedirect")&&_this.url!=""&&_this.url!=undefined){_this.redirect(_this.url)}else{if(!this.button.hasClass("allowRedirect")){this.button.addClass("disabled showTips").attr("data-text","Veuillez autoriser la g&eacute;olocalisation sur votre navigateur.").attr("data-position","bottom");mainTooltip.addEvent(this.button,"hover");mainTooltip.show(this.button)}}};Geoloc.prototype.notSupported=function(){if(!this.button.hasClass("allowRedirect")){this.button.remove()}};var Notif=function(c,b,d,a){this.title=c!=undefined?c:"Default title";this.message=b!=undefined?b:"Default message";this.timer=d!=undefined?d:3;this.icon=a!=undefined?a:baseUrlImgs+"/img/favicon-beta.png";this.requestPermission()};Notif.prototype.checkAPI=function(){var a=window.Notification||window.mozNotification||window.webkitNotification;if(typeof a==="undefined"){this.isDisabled();return false}return true};Notif.prototype.requestPermission=function(){var a=this;if(!a.checkAPI()){return false}Notification.requestPermission(function(b){if(b=="granted"){a.showNotif()}else{if(b=="default"||b=="denied"){a.isNotAuthorized()}}})};Notif.prototype.showNotif=function(){var a=this;setTimeout(function(){var b=new Notification(a.title,{body:a.message,icon:a.icon});b.onclick=function(){a.isClicked()};b.onerror=function(){a.isError()};b.onshow=function(){a.isOpened()};b.onclose=function(){a.isClosed()}},a.timer*1000)};Notif.prototype.isClicked=function(){};Notif.prototype.isError=function(){};Notif.prototype.isOpened=function(){};Notif.prototype.isClosed=function(){};Notif.prototype.isNotAuthorized=function(){};Notif.prototype.isDisabled=function(){};var Visibility=function(){var a=this;document.addEventListener("visibilitychange",function(){a.onChange()})};Visibility.prototype.checkAPI=function(){var c=["webkit","moz","ms","o"],a=c.length;if("hidden" in document){return"hidden"}for(var b=0;b<a;b++){if((c[b]+"Hidden") in document){return c[b]+"Hidden"}}return false};Visibility.prototype.isHidden=function(){var a=this.checkAPI();if(!a){return false}return document[a]};Visibility.prototype.onChange=function(){if(this.isHidden()){var a=new Notif("OMG","PLZ come back to LEBONCOIN !!",10)}};var Ldv=function(){this.cmd_ldv=$("#cmd_ldv");this.photosup_ad_option_box=$("#photosup_ad_option_box");this.cmd_photosup=$("#cmd_photosup");this.msg_achat_photosup=$("#msg_achat_photosup");this.msg_achat_ldv=$("#msg_achat_ldv");this.ldv_active=0;this.photosup_active=0;var a=this;$("body").on("change","input[name='type']",function(b){if($(this).val()=="h"){a.disableAll()}});$("body").on("change","#cmd_ldv",function(){if(action!="deleted"){a.ldv_active=ldv_active}else{a.ldv_active=0}if(photosup_active!="undefined"){a.photosup_active=photosup_active}else{a.photosup_active=0}a.updateBox()})};Ldv.prototype.showPhotosup=function(){this.cmd_photosup.prop("checked",true);$(".file_container.option, #pictures .checkbox").removeClass("hidden");$('label[for="cmd_photosup"]').addClass("hidden");this.msg_achat_photosup.hide();this.msg_achat_ldv.hide();this.photosup_ad_option_box.addClass("hidden")};Ldv.prototype.disableAll=function(){this.cmd_ldv.prop("checked",false);this.msg_achat_ldv.hide();this.cmd_photosup.prop("checked",false);this.msg_achat_photosup.hide();newadForm.hideOptionsPictures()};Ldv.prototype.updateBox=function(){if(is_admin=="undefined"&&ldv_active=="undefined"&&photosup_active=="undefined"){return false}if(is_admin==1&&ldv_active==1&&!this.cmd_ldv.prop("checked")){if(photosup_active!=1){this.showPhotosup()}}else{if(is_admin==1&&ldv_active==1&&this.cmd_ldv.prop("checked")){if(photosup_active!=1){if(this.cmd_photosup&&!this.cmd_photosup.prop("checked")){newadForm.hideOptionsPictures();if(this.msg_achat_photosup){this.msg_achat_photosup.show()}}}if(this.msg_achat_ldv){this.msg_achat_ldv.hide()}}else{if(this.cmd_ldv.prop("checked")){this.cmd_photosup.prop("checked",true);this.showPhotosup();if(ldv_active!=1){if(this.msg_achat_ldv){this.msg_achat_ldv.show()}}else{if(this.msg_achat_ldv){this.msg_achat_ldv.hide()}}}else{if(photosup_active!=1){if(this.cmd_photosup){this.cmd_photosup.prop("checked",false)}newadForm.hideOptionsPictures();if(this.msg_achat_photosup){this.msg_achat_photosup.show()}}if(this.msg_achat_ldv){this.msg_achat_ldv.hide()}}}}};var Availability=function(a){this.selectIndex=null;this.htmlStruct="";this.datesList=[];this.errorLabel=$('.label-error[data-for="datespickers"]');this.configuration=a;this.dateLineCounter=0;this.editRunning=false;var b=this;$("body").on("click","#availability_add",function(c){c.preventDefault();if(b.dateLineCounter<b.configuration.numberLimit){if(b.validDates()){b.generateHtmlDatesList();b.dateLineCounter++;b.resetInputs()}}else{b.hideInputs()}b.editRunning=false});$("body").on("click",'a[data-action="edit"]',function(c){c.preventDefault();if(b.editRunning==true){b.dateLineCounter--}if(b.editRunning==false||b.validDates()==true){b.editRunning=true;b.selectIndex=parseInt($(this).attr("data-index"));b.injectDatas();b.deleteLine();b.generateHtmlDatesList();b.dateLineCounter++}});$("body").on("click",'a[data-action="delete"]',function(c){c.preventDefault();b.selectIndex=parseInt($(this).attr("data-index"));b.deleteLine();b.resetInputs();b.dateLineCounter--;if($("#datespicker").hasClass("hidden")){$("#datespicker").removeClass("hidden")}});this.init()};Availability.prototype.init=function(){var b=this;$("#davailability .isDatepicker input").each(function(){confDatepicker={minDate:b.configuration.dateMin,maxDate:b.configuration.dateMax,monthNames:["Janvier","F&eacute;vrier","Mars","Avril","Mai","Juin","Juillet","Ao&ucirc;t","Septembre","Octobre","Novembre","D&eacute;cembre"],monthNamesShort:["Janv.","Févr.","Mars","Avril","Mai","Juin","Juil.","Août","Sept.","Oct.","Nov.","Déc."],dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim.","Lun.","Mar.","Mer.","Jeu.","Ven.","Sam."],dayNamesMin:["Di","Lu","Ma","Me","Je","Ve","Sa"],dateFormat:"dd/mm/yy",altField:$(this).next(),altFormat:"yy-mm-dd",firstDay:6,prevText:"",prevStatus:"Voir le mois pr&eacute;c&eacute;dent",nextText:"",nextStatus:"Voir le mois suivant",currentText:"Courant",showOtherMonths:true,selectOtherMonths:true};if($(this).attr("name").match(/begin_date/g)){confDatepicker.beforeShow=function(c){var d=$("#datepicker_end_date").datepicker("getDate");if(d!=null){d.setDate(d.getDate()-b.configuration.dateDelta);$("#datepicker_begin_date").datepicker("option","maxDate",d)}else{$("#datepicker_begin_date").datepicker("option","maxDate",b.configuration.dateMax)}}}else{confDatepicker.beforeShow=function(c){var d=$("#datepicker_begin_date").datepicker("getDate");if(d!=null){d.setDate(d.getDate()+b.configuration.dateDelta);$("#datepicker_end_date").datepicker("option","minDate",d)}else{$("#datepicker_end_date").datepicker("option","minDate",b.configuration.dateMin)}}}$(this).datepicker(confDatepicker)});if(typeof(newadForm)!=="undefined"){if(typeof(newadForm.category_settings[newadForm.category.id].labels.price_type)!=="undefined"){var a=newadForm.category_settings[newadForm.category.id].labels.price_type;$(".price_type_label").html(a)}}};Availability.prototype.injectDatas=function(){$("#datepicker_begin_date").val($("#datepicker_begin_date_"+this.selectIndex).val());$("#availability_begin_date").val($("#availability_begin_date_"+this.selectIndex).val());$("#datepicker_end_date").val($("#datepicker_end_date_"+this.selectIndex).val());$("#availability_end_date").val($("#availability_end_date_"+this.selectIndex).val());$("#availability_price").val($("#availability_price_"+this.selectIndex).val())};Availability.prototype.validDates=function(){var j=$("input[name='availability_begin_date']").val(),a=$("input[name='datepicker_begin_date']").val(),c=$("input[name='availability_end_date']").val(),g=$("input[name='datepicker_end_date']").val(),b=$("label[for='availability_price']").text(),d=$("input[name='availability_price']").val(),h=new RegExp(/^([0-9]*)$/i);if(j!=""&&c!=""){if(b!=""&&d!=""&&h.test(d)){if($(".davailability_list .line:not(.edited)").length==0){$("#availability-header").addClass("hidden")}this.datesList.push({date_start:j,date_start_formatted:a,date_end:c,date_end_formatted:g,price_label:b,price:d});this.errorLabel.removeClass("visible");return true}else{this.errorLabel.html("Le prix contient des caract&egrave;res non autoris&eacute;s").addClass("visible");return false}}else{this.errorLabel.html("Les p&eacute;riodes et ou tarifs que vous avez remplis ne sont pas valides.").addClass("visible");return false}};Availability.prototype.generateHtmlDatesList=function(){if(this.htmlStruct==""){var a=this;$.ajax({url:"/beta/ajax/availability_struct.html",type:"POST",success:function(b){a.htmlStruct=b;a.insertValidDatesLines()}})}else{this.insertValidDatesLines()}};Availability.prototype.insertValidDatesLines=function(){if(this.htmlStruct!=""&&this.datesList.length>0){$(".davailability_list-valid").remove();var c=this.datesList.length;for(var b=0;b<c;b++){var a=this.htmlStruct;a=a.replace(/#index/g,b);a=a.replace(/#du_formatted/g,this.datesList[b].date_start_formatted);a=a.replace(/#au_formatted/g,this.datesList[b].date_end_formatted);a=a.replace(/#du/g,this.datesList[b].date_start);a=a.replace(/#au/g,this.datesList[b].date_end);a=a.replace(/#price_label/g,this.datesList[b].price_label);a=a.replace(/#price/g,this.datesList[b].price);$(a).insertBefore("#datespicker")}}};Availability.prototype.resetInputs=function(){$("#datepicker_begin_date, #availability_begin_date, #datepicker_end_date, #availability_end_date, #availability_price").val("")};Availability.prototype.deleteLine=function(){$('.davailability_list-valid[data-index="'+this.selectIndex+'"]').remove();this.datesList.splice(this.selectIndex,1)};Availability.prototype.showInputs=function(){$("#datespicker").removeClass("hidden")};Availability.prototype.hideInputs=function(){$("#datespicker").addClass("hidden")};Availability.prototype.injectDate=function(h,a,c,g,d){var b=$("label[for='availability_price']").text();this.datesList.push({date_start:h,date_start_formatted:a,date_end:c,date_end_formatted:g,price_label:b,price:d})};var Account=function(c,b,d,h){this.apiUrl=c;this.form=b;this.inputs=this.form.getElementsByTagName("input");this.formSpy=d;this.redirect=h;var g=this;for(var a=0;a<this.inputs.length;a++){this.inputs[a].onblur=function(){var j='input[name="'+this.name+'"]';return g.formSpy.check(j)}}this.form.onsubmit=function(){$("span.label-error.visible").removeClass("visible");if(g.formSpy.check()){g.createAccount()}return false}};Account.prototype.createAccount=function(){var a=this.getDatasForm();this.createRequest(a)};Account.prototype.getDatasForm=function(){var a={accountType:1,password:this.inputs.password.value,optin:(this.inputs.optin.checked)?true:false,personalData:{pseudo:this.inputs.pseudo.value,email:this.inputs.email.value}};return JSON.stringify(a)};Account.prototype.createRequest=function(a){var c=this;var b=new XMLHttpRequest();b.open("POST",this.apiUrl);b.setRequestHeader("Accept","application/json");b.setRequestHeader("Content-Type","application/json");b.onreadystatechange=function(){if(b.readyState===XMLHttpRequest.DONE){switch(b.status){case 201:window.location.href=c.redirect;break;case 400:case 503:var g={system_error:{wording:document.getElementById("system_error").textContent}};c.handleErrors(g);break;case 409:var g={email:{wording:document.getElementById("email").getAttribute("already_exists")}};c.handleErrors(g);break;case 422:var d=JSON.parse(b.responseText);if("errors" in d){c.handleErrors(d.errors)}break}}};b.send(a)};Account.prototype.handleErrors=function(g){for(var c in g){var a='input[name="'+c+'"]',b=g[c].wording,d=document.querySelector('.label-error[data-for="'+c+'"]');d.innerHTML=b;d.className+=" visible"}};jQuery(document).ready(function(){if($("#adview").length){var a=new Adview()}});var Adview=function(){var b=this;SidebarResize();if($("#availability").length){this.calendar();this.calendar_resize()}$("body").on("click",".sharer_title",function(c){c.preventDefault();$(".sharer_social").toggleClass("visible")});$(window).on("resize",function(){if($("#availability").length){b.calendar_resize()}SidebarResize()});$(".flat-vertical.link-like").on("click",function(){b.followUrl($(this).attr("data-follow-url"))});$(".share.mail").on("click",function(c){c.preventDefault();$(".sendMail").toggleClass("visible")});if($("#description_truncated").length>0){$("body").on("click","#description_truncated",function(){$(this).hide();$("#description").attr("style","display: block !important")})}var a={'input[name="tip_sender"]':{required:{value:true,errorMessage:"Veuillez indiquer une adresse email."},regexp:{value:/(^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$)/g,errorMessage:"V&eacute;rifiez l'adresse email, son format n'est pas valide."}},'input[name="tip_email"]':{required:{value:true,errorMessage:"Veuillez indiquer une adresse email."},regexp:{value:/(^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}$)/g,errorMessage:"V&eacute;rifiez l'adresse email, son format n'est pas valide."}}};new Form(".sendMail form",".sendMail form .input",a)};Adview.prototype.followUrl=function(a){cookieDefault.addCookie("log_from",a,1,cookieDomain)};Adview.prototype.calendar=function(){this.calendar={};this.calendar.availabilityPages=$("#availability-pages");this.calendar.numberOfPages=$(".page").length;this.calendar.currentPage=1;this.calendar.margin=20;this.calendar.size=$("#availability").outerWidth()+this.calendar.margin;this.calendar.maxPosition=-this.calendar.size*this.calendar.numberOfPages;this.calendar.minPosition=0;this.calendar.nextPosition=0;var a=this;$(".cal .icon-chevron-right").on("click",function(b){b.preventDefault();a.calendar_changePage("next")});$(".cal .icon-chevron-left").on("click",function(b){b.preventDefault();a.calendar_changePage("previous")});$(window).on("resize",function(){a.calendar.size=$("#availability").outerWidth()+a.calendar.margin})};Adview.prototype.calendar_changePage=function(a){this.calendar.position=this.calendar.availabilityPages.position().left;if(a=="next"){this.calendar_nextPage()}else{this.calendar_previousPage()}if(this.calendar.nextPosition<=this.calendar.minPosition&&this.calendar.nextPosition>this.calendar.maxPosition){this.calendar.availabilityPages.css("left",this.calendar.nextPosition+"px");this.calendar.position=this.calendar.availabilityPages.position().left;this.calendar_displayButton()}};Adview.prototype.calendar_nextPage=function(){this.calendar.nextPosition=parseInt(Math.floor(this.calendar.position))-this.calendar.size;this.calendar.currentPage=this.calendar.currentPage+1};Adview.prototype.calendar_previousPage=function(){this.calendar.nextPosition=parseInt(Math.floor(this.calendar.position))+this.calendar.size;this.calendar.currentPage=this.calendar.currentPage-1};Adview.prototype.calendar_displayButton=function(){if(this.calendar.currentPage==this.calendar.numberOfPages){$(".icon-chevron-right").addClass("hidden")}else{$(".icon-chevron-right").removeClass("hidden")}if(this.calendar.currentPage==1){$(".icon-chevron-left").addClass("hidden")}else{$(".icon-chevron-left").removeClass("hidden")}};Adview.prototype.calendar_resize=function(){var b=$("#availability .page").width();var a=Math.floor(Math.abs($("#availability-pages").position().left)/b);$("#availability .page").width($("#availability").width());if(this.calendar.availabilityPages.position().left!=0){if(Math.abs($("#availability-pages").position().left)>=b){this.calendar.availabilityPages.css("left",-($("#availability").width()+this.calendar.margin)*a)}else{this.calendar.availabilityPages.css("left",-($("#availability").width()+this.calendar.margin)*(a+1))}}};var SidebarResize=function(){if($("#adview").length&&$(window).width()<=768){if($("aside.sidebar + .adview_footer").length<1){$(".sidebar").insertBefore(".adview_footer")}}else{if($(".adview-wrapper + aside.sidebar").length<1){$(".sidebar").insertAfter(".adview-wrapper")}}};var SimilarAds=function(a){this.url=a};SimilarAds.prototype.getSimilarAds=function(b,c,a){var g=this;var d=new XMLHttpRequest();d.onreadystatechange=function(){if(d.readyState===XMLHttpRequest.DONE&&d.status===200){var m=JSON.parse(d.responseText),j=m.length>4?4:m.length;if(j>0){var p='<h2 class="similarAdsTitle">Ces annonces peuvent vous int&eacute;resser :</h2>';p+='<ul class="similarAdsList">';for(i=0;i<j;i++){var n=m[i],l=n.img?n.img:baseUrlImgs+"/img/no-picture.png",h="",k=n.location?'<p class="ellipsis similarAdLocation">'+n.location+"</p>":"",o=n.price?'<h3 class="similarAdPrice">'+n.price+"&euro;</h3>":"";if(n.nb_images){h='<figcaption class="similarAdImgCount">';h+='  <i class="icon-camera icon-2x nomargin"></i>';h+='  <div class="similarAdCountValue">'+n.nb_images+"</div>";h+="</figcaption>"}p+='<li class="similarAd">';p+='  <a href="'+n.url+'" class="similarAdWrapper trackable" data-info=\'{"event_name" : "adview::annonce_similaire", "event_type" : "click", "event_s2" : "2", "click_type" : "N"}\'>';p+='    <figure class="similarAdImg">';p+='      <img src="'+l+'" alt="'+n.title+'" />';p+=h;p+="    </figure>";p+='    <div class="similarAdDescr">';p+='      <h3 class="similarAdTitle">'+n.title+"</h3>";p+=k;p+=o;p+="    </div>";p+="  </a>";p+="</li>"}p+="</ul>";$("#"+a).addClass("similarAds").html(p)}}};d.open("POST",g.url);d.setRequestHeader("Accept","application/json");d.setRequestHeader("Content-type","application/json");d.send(JSON.stringify({list_id:b,category:c}))};var Home=function(){};Home.prototype.editoResize=function(){if($(window).width()<=768){if(!$("#home").next(".edito").length){$(".edito").insertAfter("#home")}}else{if(!($(".mapFrance_header .edito").length)){$(".edito").insertAfter(".mapFrance_header .homeColLeft .button-secondary")}}};Home.prototype.adviceResize=function(){if(($(window).width()<=480)&&(this.adviceMoved==false)){$(".fr .button-orange").insertBefore(".backToTheFuture");$(".backToTheFuture").html("Retour &agrave; l'ancienne version");this.adviceMoved=true}else{if(($(window).width()>480)&&(this.adviceMoved==true)){$("#backToTheFuture .fr .button-orange").insertAfter(".backToTheFuture");$(".backToTheFuture").html("Revenir &agrave; l'ancienne version");this.adviceMoved=false}}};jQuery(document).ready(function(){if($("#home").length){var a=new Home();a.editoResize();a.adviceResize();$(window).on("resize",function(){a.editoResize();a.adviceResize()})}});var MyAds=function(c,h,b,d,a){this.storeId=c;this.lbcToken=h;this.url=d.replace("__STORE_ID__",c);this.cookieDomain=a;this.cookieName="my_ads";this.resyncTime=b*1000;this.ads=this.getMyActiveAds();this.displayedAds=0;this.localStorageKey="cache:"+this.url;this.localStorageEnabled=(typeof localStorage!=="undefined"?true:false);this.heart={};this.heart.elements={};this.heart.elements.object=document.getElementsByClassName("saveAd");this.limit_ads=false;var k=this;if(this.heart.elements.object.length>0){this.heart.elements.id=[];var j=this.heart.elements.object.length;for(var g=0;g<j;g++){this.heart.elements.id.push(this.heart.elements.object[g].getAttribute("data-savead-id"))}$(".saveAd").on("click touchstart",function(l){if(!$(this).hasClass("disabled")){k.saveAdId=$(this).attr("data-savead-id");if(!$(this).hasClass("saved")){k.saveAd()}else{k.unsaveAd()}}l.stopPropagation();return false});this.eventsShowtips=(getDevice()!="desktop")?"click touchstart":"mouseover click touchstart";$(".saveAd .showTip").on(this.eventsShowtips,function(l){if(!k.toolTipSaved){mainTooltip.remove();mainTooltip.show($(this))}if((l.type=="click"||l.type=="touchstart")&&$(this).hasClass("disabled")){k.fadeOutTooltip()}}).on("mouseout",function(){if(!k.toolTipSaved){mainTooltip.remove()}});this.verifyCookie()}this.getRequest(true,true);if($("#myads_notconnected.hidden").length>0){this.displayedAds=$(".list_item").length;this.interval=setInterval(function(){k.getRequest(false,false)},300000)}};MyAds.prototype.unsetEvents=function(){$(".saveAd").off("click touchstart");$(".saveAd .showTip").off(this.eventsShowtips)};MyAds.prototype.getMyActiveAds=function(){var a=cookieDefault.getCookie(this.cookieName);return(a!=null)?a.split("."):[]};MyAds.prototype.updateAds=function(a,d,b){if(this.localStorageEnabled&&localStorage.getItem(this.localStorageKey)!==null){localStorage.setItem(this.localStorageKey,"["+a+"]")}var c=a.filter(function(g){return this.ads.indexOf(g)<0}.bind(this));cookieDefault.addCookie(this.cookieName,a.join("."),false,this.cookieDomain);if(b){this.ads=a}if(d){this.getAds()}else{if(c.length>0){this.toggleBanner(c.length)}}if(a.length>0){$("#myads_hasads").removeClass("hidden");$("#myads_hasnoads").addClass("hidden")}else{$("#myads_hasnoads").removeClass("hidden");$("#myads_hasads").addClass("hidden")}};MyAds.prototype.toggleBanner=function(a){if(a>0&&$("#myads_connected").length>0){$("#new_ads_alert").removeClass("hidden")}else{$("#new_ads_alert").addClass("hidden")}};MyAds.prototype.showForm=function(){if($("#myads_connected").length>0){$("#myads_connected").addClass("hidden");$("#myads_notconnected").removeClass("hidden");clearInterval(this.interval)}};MyAds.prototype.getRequest=function(boolUpdateAds,boolUpdateLayout){if(this.isResyncPossible()){this.toggleLoader();var _this=this;var xhr=new XMLHttpRequest();xhr.onreadystatechange=function(){if(xhr.readyState===XMLHttpRequest.DONE){if(xhr.status===200){_this.updateResyncTime();_this.updateAds(eval(xhr.responseText),boolUpdateAds,boolUpdateLayout);_this.toggleLoader()}else{if(xhr.status===401||xhr.status===400){_this.showForm();_this.toggleLoader()}}}};xhr.open("GET",this.url,true);xhr.setRequestHeader("Authorization","Bearer "+this.lbcToken);xhr.setRequestHeader("Accept","application/json");xhr.send()}};MyAds.prototype.patchRequest=function(adToPatch,successCallback,failCallback){var _this=this;var xhr=new XMLHttpRequest();xhr.onreadystatechange=function(){if(xhr.readyState===XMLHttpRequest.DONE){if(xhr.status===200){_this.updateAds(eval(xhr.responseText),false,true);successCallback(_this)}else{if(xhr.status===286){_this.disableLinks()}else{if(xhr.status===400||xhr.status===401){_this.unsetEvents();_this.saveAdOffline=new SaveAd(_this.cookieDomain);_this.saveAdOffline.saveAdId=adToPatch;_this.saveAdOffline.saveAd()}else{if(xhr.status===503){failCallback(_this)}}}}}};xhr.open("PATCH",this.url,true);xhr.setRequestHeader("Authorization","Bearer "+this.lbcToken);xhr.setRequestHeader("Accept","application/json");xhr.send("["+adToPatch+"]")};MyAds.prototype.deleteRequest=function(adToRemove,successCallback,failCallback){this.toggleLoader();this.adToRemove=adToRemove;var _this=this;var xhr=new XMLHttpRequest();xhr.onreadystatechange=function(){if(xhr.readyState===XMLHttpRequest.DONE){if(xhr.status===200){_this.updateAds(eval(xhr.responseText),false,true);if(successCallback){successCallback(_this);_this.toggleLoader()}}else{if(xhr.status===400||xhr.status===401){if(successCallback){_this.showForm();_this.toggleLoader()}else{_this.unsetEvents();_this.saveAdOffline=new SaveAd(_this.cookieDomain);_this.saveAdOffline.saveAdId=adToRemove;_this.saveAdOffline.unsaveAd();_this.toggleLoader()}}else{if(xhr.status===503){failCallback(_this);_this.toggleLoader()}}}}};xhr.open("DELETE",this.url,true);xhr.setRequestHeader("Authorization","Bearer "+this.lbcToken);xhr.setRequestHeader("Accept","application/json");xhr.send("["+adToRemove+"]")};MyAds.prototype.verifyCookie=function(){var a=this.heart.elements.id,b=this.getMyActiveAds(),d=b.filter(function(g){return a.indexOf(g)!=-1});for(var c in d){this.saveAdId=d[c];this.showActiveLink(false,false)}if(this.limit_ads==true){this.disableLinks()}};MyAds.prototype.showActiveLink=function(h,g){var c=$(".saveAd[data-savead-id='"+this.saveAdId+"']"),b=(h)?"saved displayFlag":"saved";if(g){var a=c.find(".saveMsg .showTip"),d=c.find(".savedMsg .showTip").data("text");this.toolTipSaved=true;mainTooltip.show(a,d);this.fadeOutTooltip()}c.addClass(b)};MyAds.prototype.hideActiveLink=function(){var a=$(".saveAd[data-savead-id='"+this.saveAdId+"']");a.removeClass("saved flagMyAds");if($("#saveAd_error").length&&document.getElementById("saveAd_error").offsetParent!==null){$("#saveAd_error").addClass("hidden")}};MyAds.prototype.fadeOutTooltip=function(){var a=this;this.timeOutFadeOut=setTimeout(function(){$(".tooltip").fadeOut("slow",function(){mainTooltip.remove();a.toolTipSaved=false})},1000)};MyAds.prototype.saveAd=function(){if(utag_data.pagetype=="recherche"){xt_med("C","8","ad_search::sauvegarder::on","N")}this.patchRequest(this.saveAdId,this.saveAdSuccess,this.saveAdFail)};MyAds.prototype.saveAdSuccess=function(h){var c=$(".saveAd[data-savead-id='"+h.saveAdId+"']"),b="saved displayFlag",g=($("#adview").length)?false:true;if(g){var a=c.find(".saveMsg .showTip"),d=c.find(".savedMsg .showTip").data("text");h.toolTipSaved=true;mainTooltip.show(a,d);h.fadeOutTooltip()}c.addClass(b)};MyAds.prototype.unsaveAd=function(){if(utag_data.pagetype=="recherche"){xt_med("C","8","ad_search::sauvegarder::off","N")}this.deleteRequest(this.saveAdId,this.unsaveAdSuccess,this.saveAdFail)};MyAds.prototype.unsaveAdSuccess=function(a){clearTimeout(a.timeOutFadeOut);a.hideActiveLink(true);mainTooltip.remove();a.toolTipSaved=false;$(".saveAd").removeClass("disabled")};MyAds.prototype.saveAdFail=function(h){var c=$(".saveAd[data-savead-id='"+h.saveAdId+"']"),b="failed displayFlag",g=($("#adview").length)?false:true;if(g){var a=c.find(".saveMsg .showTip"),d=c.find(".failedMsg .showTip").data("text");h.toolTipSaved=true;mainTooltip.show(a,d);h.fadeOutTooltip()}c.addClass(b)};MyAds.prototype.disableLinks=function(){this.limit_ads=true;showError=($("#adview").length)?false:true;$(".saveAd").not(".saved").addClass("disabled");if(showError){$("#saveAd_error").removeClass("hidden")}};MyAds.prototype.removeAds=function(a){$('li[data-list-id="'+a.adToRemove+'"]').remove();delete this.adToRemove};MyAds.prototype.isResyncPossible=function(){var b=Date.now();var a=(cookieDefault.getCookie("last_resync")!==null)?parseInt(cookieDefault.getCookie("last_resync")):0;var c=/\/(aw)/g;return(c.test(window.location.pathname)||b>(a+this.resyncTime))};MyAds.prototype.updateResyncTime=function(){this.resyncTime=Date.now();cookieDefault.addCookie("last_resync",this.resyncTime,false,this.cookieDomain)};MyAds.prototype.getAds=function(){var b=this;var a=new XMLHttpRequest();a.onreadystatechange=function(){if(a.readyState===XMLHttpRequest.DONE){if(a.status===200){if(a.response=="ERROR_SEARCH"){b.showForm()}else{if($("#myads_list").length>0){$("#myads_list").html(a.responseText)}}}else{b.showForm()}}};a.open("POST","/beta/ajax/myads_list.html",true);a.send()};MyAds.prototype.toggleLoader=function(){if($("#myads_loader").hasClass("hidden")){$("#myads_loader").removeClass("hidden")}else{$("#myads_loader").addClass("hidden")}};arrayOfFileUploadNewad=[];var NewAd=function(){this.price={};this.price.defaultTags={daily_bump:{price:"daily_bump_price",type:"daily_bump_type"},daily_bump30:{price:"daily_bump30_price",type:"daily_bump30_type"},edit:{price:"edit_price",type:"edit_type"},gallery:{price:"gallery_price",type:"gallery_type"},gallery30:{price:"gallery30_price",type:"gallery30_type"},ldv:{price:"ldv_price",type:"ldv_type"},newad:{price:"newad_price",type:"newad_type"},photosup:{price:"photosup_price",type:"photosup_type"},sub_toplist:{price:"sub_toplist_price",type:"sub_toplist_type"},top_list:{price:"top_list_price",type:"top_list_type"},toplist_sms:{price:"toplist_sms_price",type:"toplist_sms_type"},urgent:{price:"urgent_price",type:"urgent_type"}}};NewAd.prototype.updatePrices=function(b,a){a.prices=b;if(action=="edit"){a.updateLayoutPrices("edit",newadForm.account=="pro"?true:false)}if(ldv_visible=="1"){a.updateLdv()}a.updatePictures()};NewAd.prototype.updateLayoutPrices=function(a,g){var d=this.account;if(d=="nolog"){d="perso"}if((typeof this.prices=="undefined")||(typeof this.prices[d]["cat_"+this.category.id]=="undefined")){return}var b=0,c="TTC";if(g==true){b=this.prices[d]["cat_"+this.category.id][a].HT;c="HT"}else{b=this.prices[d]["cat_"+this.category.id][a].TTC}b=b/100;priceValueText=b.toFixed(2).replace(".",",");$("#"+this.price.defaultTags[a].price).text(priceValueText);$("#"+this.price.defaultTags[a].type).text(c);return{priceValue:b,priceValueText:priceValueText,priceType:c}};NewAd.prototype.updateServicePrice=function(x,c){var q=this,k=$("#amount"),o=$("#amountWithTax"),d=$("#creditsLeft"),a=$("#previewCheckout"),r=parseInt($("#accountCredits").val()),j=(a[0].hasAttribute("data-packscoins"))?true:false,v=parseInt(o.html().replace(/,/,"")),w=a.attr("data-connected"),n=r>0?true:false,c=c!=undefined?c:true;var b=(a.length)?v+x:x;var g=r-b;var h=new String((Math.round(b/1.2)/100).toFixed(2));var m=new String(((b)/100).toFixed(2));var s=g<0?"0.00":new String((g/100).toFixed(2));var p=(g/100).toFixed(2);if(w==2){var y=parseInt(a.attr("data-adprice")),l=b/1.2-y,l=new String((Math.round(l)/100).toFixed(2).replace(/\./,","));$("#amountOptions").html(l)}h=h.replace(/\./,",");m=m.replace(/\./,",");s=s.replace(/\./,",");k.html(h);o.html(m);d.html(s);if(b<=0&&!j){a.addClass("hidden")}else{a.removeClass("hidden")}if(j){$("#stillGotCoins").removeClass("hidden")}if(n&&!j){if(p<0){q.updatePaiementType("0");$("#stillToPay").html(((b-r)/100).toFixed(2).replace(/\./,","));$(".confirm input[type=submit]").val("Valider mon annonce");if(c){$(".confirm input[type=submit]").prop("name","create");$("#submitName").prop("name","create2")}$("#stillGotCredits").addClass("hidden");if(w!=0&&n){$("#noMoreCredits").removeClass("hidden")}}else{q.updatePaiementType("1");if(b>0){$(".confirm input[type=submit]").val($("<div>").html("Payer par cr&eacute;dits").text());if(c){$(".confirm input[type=submit]").prop("name","pay_by_credits");$("#submitName").prop("name","pay_by_credits2")}}else{$(".confirm input[type=submit]").val($("<div>").html("Valider mon annonce").text());if(c){$(".confirm input[type=submit]").prop("name","create")}}$("#stillGotCredits").removeClass("hidden");$("#noMoreCredits").addClass("hidden")}}};NewAd.prototype.updatePaiementType=function(a){var b=$(".priceUpdater #paiementType");if(b.length){b.val(a)}else{if(a){$(".priceUpdater").append('<input type="hidden" id="paiementType" name="continue" value="'+a+'">')}}};var NewAdForm=function(b,a){this.account=b;this.address_is_mandatory=a;this.category={};this.category.previous_id=0;this.category.id=$("[name='category']").val();this.category.name=null;this.categories={proOnly:[69]};this.region={};this.region.id=null;this.map={};this.map.id="map_newad";this.map.container="map_newad_container";this.map.object=new Map(this.map.container,"web","newad",this);this.price.tag=["ldv","photosup"];this.zipcode=null;this.city=null;this.address=null;this.firstShowMap=true;this.labelInfo={};this.labelInfo.animal_race=($('span.label-info[data-for="animal_race"]').length>0)?$('span.label-info[data-for="animal_race"]').text():"";this.labelInfo.animal_age=($('span.label-info[data-for="animal_age"]').length>0)?$('span.label-info[data-for="animal_age"]').text():"";this.polygonRunning=false;this.apiCarto=new ApiCarto(baseUrlApi,php_id,php_key);var c=this;this.defaultLabels={price:"Prix",subject:"Titre de l'annonce",body:"Texte de l'annonce"};this.updateField={subject:function(){c.updateFieldSubject()},price:function(){c.updateFieldPrice()},regdate:function(){c.updateFieldRegdate()},cmd_ldv:function(){c.updateLdv()},fai_included:function(){c.updateFaiIncluded()},charges_included:function(){c.updateChargesIncluded()},price_min_max:function(){c.updatePriceMinMax()},pictures:function(){c.updatePictures()}};this.toggleDisable=function(d,h,g,j){if(g&&d){g.toggleClass("disabled");g.children().find("input").prop("checked",false);return}if(d){$(".toDisable").not(h).addClass("disabled");if(j){j.removeClass("disabled")}$(".toDisable").not(h).children().find("input").prop("checked",false)}else{$(".toDisable").not(".dontRemoveDisabled").removeClass("disabled")}};this.isOnlyForPro=function(){return(0===$.inArray(parseInt(c.category.id,10),c.categories.proOnly))};$('input[name="check_type_diff"]').val(0);$("body").on("keypress","#formular",function(g){var d=g.which?g.which:g.keyCode;if((g.target.name=="location_p"||g.target.name=="address")&&d===13){g.preventDefault()}});$("body").on("change","#category",function(g){var d=$(this).children("option:selected").text();var h=$(this).val();c.category.previous_id=c.category.id;c.category.id=h;c.category.name=d;c.resetFields();c.selectCategory();c.changeAdTypes();c.updateAnimal();c.updatePictures();c.showUrlFieldJob();c.updateSoyouzIframe();if(c.category_settings[h].location.reset_fields){c.resetLocationAndMap(false)}});$(document).ready(function(){if(window.location.search.indexOf("?c=")>=0||window.location.search.indexOf("&c=")>=0){$("#category").trigger("change")}});$("body").on("change","input[name='type']",function(d){c.displayParams()});$("body").on("change","input[name='company_ad']",function(d){c.switchPartPro($(this));c.updatePictures()});$("body").on("change","#category, input[name='company_ad']",function(d){companyAd=parseInt($('input[name="company_ad"]:checked').prop("value"),10);if(c.account!=="pro"&&$("input[name='company_ad']:checked").val()=="0"&&c.category.id==69){$("#hotel-alert").addClass("visible");$("#hotel-alert").removeClass("hidden")}else{$("#hotel-alert").addClass("hidden");$("#hotel-alert").removeClass("visible")}if(c.account!=="pro"&&(companyAd===1||c.isOnlyForPro())){c.toggleDisable($(".disabler"))}else{c.toggleDisable(false)}});$("body").on("change","input[name='cmd_photosup']",function(d){if($(this).prop("checked")){c.showOptionsPictures()}else{c.hideOptionsPictures()}});$("body").on("change","select[name='brand']",function(d){c.updateFieldModel()});$("body").on("change","select[name='clothing_type']",function(){c.showInfoClothingSize(this,true)});$("body").on("change","select[name='shoe_type']",function(){c.showInfoShoeType(this,true)});$("body").on("change","select[name='animal_type']",function(d){c.showAnimalFields()});$("body").on("change","input[name='adreply_type']",function(){c.showUrlFieldJob()});$("body").on("click","#showMap",function(d){d.stopPropagation();c.displayMap("click");xt_med("C","3","ad_depot::D1_depot::voir_sur_la_carte","N")});$("body").on("click","#browserGeoloc",function(){browserGeoloc()});$("body").on("keyup",'input[name="address"]',function(g){var d=g.which?g.which:g.keyCode;switch(d){case 13:c.displayMap("click");xt_med("C","3","ad_depot::D1_depot::voir_sur_la_carte","N");break;default:if($(this).val()!=c.address){if($(this).val()==""){c.toggleShowmapButton("hide");c.resetMapInputs()}else{if($('input[name="zipcode"]').val()!=""){c.toggleShowmapButton("show")}}if((c.map.object.polygons==null||(typeof(c.map.object.polygons._map)!="undefined"&&c.map.object.polygons._map==null))&&(c.zipcode!=null&&c.city!=null&&c.polygonRunning==false)){c.polygonRunning=true;c.apiCarto.polygons(c.zipcode,c.city,c.source,c.application,c.polygonsSuccess,c.polygonsError,c)}}break}c.toggleAddressCross()});$("body").on("change",'input[name="address"]',function(d){if($(this).val()!=c.address){if($(this).val()==""){c.toggleShowmapButton("hide");c.resetMapInputs()}else{if($('input[name="zipcode"]').val()!=""){c.toggleShowmapButton("show")}}if((c.map.object.polygons==null||(typeof(c.map.object.polygons._map)!="undefined"&&c.map.object.polygons._map==null))&&(c.zipcode!=null&&c.city!=null&&c.polygonRunning==false)){c.polygonRunning=true;c.apiCarto.polygons(c.zipcode,c.city,c.source,c.application,c.polygonsSuccess,c.polygonsError,c)}}});$("body").on("click",".location-container .icon-close-circle-outline",function(){c.resetLocationAndMap(true);$(cityNewadMultipleLocation.inputTarget).focus()});$("body").on("click","#address-container .icon-close-circle-outline",function(){$('input[name="address"]').val("");$("#showMap").attr("disabled","disabled");$(this).addClass("hidden");c.resetMapInputs();if((c.zipcode!=null&&c.city!=null)&&(typeof(c.map.object.polygons)=="undefined"||c.map.object.polygons==null)){c.polygonRunning=true;c.apiCarto.polygons(c.zipcode,c.city,c.source,c.application,c.polygonsSuccess,c.polygonsError,c)}});this.showInfoClothingSize($("select[name='clothing_type']").get(0));this.showInfoShoeType($("select[name='shoe_type']").get(0));this.updateAnimal();this.instanciateAnimalTriggers();this.toggleAddressCross();this.updateSoyouzIframe()};NewAdForm.prototype=new NewAd();NewAdForm.prototype.resetFields=function(){$(".label-error.visible, .label-info.visible:not(.static)").removeClass("visible");$("select[name='animal_type']").val(0);$(".animal_field").addClass("hidden");$("select[name='clothing_type']").val("");this.toggleHiddenPhone("show")};NewAdForm.prototype.showUrlFieldJob=function(){var b=$("input[name='adreply_type']:checked").val(),a=$('input[name="type"]:checked').val();if(b=="2"&&this.category.id==33&&a=="s"){$("#param_url_job").removeClass("hidden");$("#field_email").addClass("hidden")}else{$("#param_url_job").addClass("hidden");$("#field_email").removeClass("hidden")}};NewAdForm.prototype.updateSoyouzIframe=function(){category=this.category.id;$iframeCont=$("#soyouz_iframe");if(category==12||category==67||category==68||category==70){$iframeCont.removeClass("hidden");var a=$iframeCont.data("src");if($iframeCont.find("iframe").length===0){$iframeCont.append('<iframe class="wide-iframe"></iframe>');$iframeCont.find("iframe").attr("src",a)}}else{$iframeCont.addClass("hidden")}};NewAdForm.prototype.toggleHiddenPhone=function(a){if(a=="show"){$("#phone_hidden").parent(".label").removeClass("hidden");$("#phone_hidden").parents(".line").children(".information-alert").addClass("hidden")}else{$("#phone_hidden").prop("checked",false);$("#phone_hidden").parent(".label").addClass("hidden");$("#phone_hidden").parents(".line").children(".information-alert").removeClass("hidden")}};NewAdForm.prototype.switchPartPro=function(a){if(this.account=="pro"){return false}if($("input[name='company_ad']:checked").val()=="1"){if($("#cmd_photosup").prop("checked")){$("#photosup_ad_option_box").trigger("click")}$("#store-alert").addClass("visible")}else{$("#store-alert").removeClass("visible")}if(this.account=="nolog"&&$("input[name='company_ad']:checked").val()=="1"){$("#pro-alert").hide()}else{if(this.account=="nolog"){$("#pro-alert").show()}}};NewAdForm.prototype.selectCategory=function(){$("select#category").val(this.category.id)};NewAdForm.prototype.showAnimalFields=function(){this.hideAnimalsFieldsError();var a=$("select[name='animal_type']").val();if(a==1){$(".animal_field").removeClass("hidden");$("select[name='animal_type']").parents(".line:first").find(".label-info").addClass("visible")}else{$(".animal_field").addClass("hidden");$("select[name='animal_type']").parents(".line:first").find(".label-info").removeClass("visible")}};NewAdForm.prototype.hideAnimalsFieldsError=function(){$(".animal_field").find(".error").removeClass("error");$(".animal_field .label-error").removeClass("visible")};NewAdForm.prototype.changeAdTypes=function(){var c=[],d=$('input[name="type"]:checked').val(),g=this;var b=this.category_settings[this.category.id].optionnalParams;for(var a in b){c.push(a)}c.reverse();if($.inArray(d,c)<0){d=c[0]}if($.inArray("u",c)>=0&&$.inArray("s",c)<0){d="u"}if(g.category.previous_id==33&&this.account!="pro"){d="s"}if(c!=""&&this.category.id!=""){c=c.join();$.ajax({url:"/beta/ajax/request_template.html",type:"GET",data:{template:"fields/field_ad_type",types:c,category:this.category.id,type:d},success:function(h){$("#newad_types").html(h);if($('input[name="type"]:checked').length==0){$("input#rs, input#ru").prop("checked",true)}if(g.category.id==33){if(g.account!="pro"){$("input#rs").parent(".radio").addClass("hidden");$("input#rk").prop("checked",true)}else{if(g.account=="pro"){$("input#rk").parent(".radio").addClass("hidden");$("input#rs").parent(".radio").removeClass("hidden");$("input#rs, input#ru").prop("checked",true)}}}g.displayParams();g.changeSubject()}})}else{g.changeSubject()}};NewAdForm.prototype.changeSubject=function(){(this.category.id==33&&$('input[name="type"]:checked').val()=="s")?$("#subject").next(".unit").text("(H/F)"):$("#subject").next(".unit").text("")};NewAdForm.prototype.displayParams=function(){var b=$('input[name="type"]:checked').val(),d=this.category_settings[this.category.id].optionnalParams[b],c=[];$(".required_symbol").addClass("hidden");$(".optionnal_params .field").addClass("hidden");d=d.split(",");for(field in d){var a="[name='"+d[field]+"']";c.push(a);if(d[field]!="clothing_st"){$(a).parents(".field").not(".animal_field").removeClass("hidden")}if(typeof this.updateField[d[field]]=="function"){this.updateField[d[field]]()}if(this.isRequired(d[field])){$(a).parents(".line:first").find(".required_symbol").removeClass("hidden")}else{$(a).parents(".line:first").find(".required_symbol").addClass("hidden")}this.changeLabels(d[field]);this.changeTips(d[field])}if(this.account=="pro"){$("[name='custom_ref']").parents(".field").addClass("visible");$("[name='siren']").parents(".field").addClass("visible");if(this.category.id==13){if($('input[name="type"]:checked').val()=="u"){$('label[for="fai_included"]').parents(".field").removeClass("hidden");$('label[for="price"]').text("Loyer mensuel")}else{$('label[for="fai_included"]').parents(".field").addClass("hidden");$('label[for="price"]').text("Prix")}}}else{$("[name='custom_ref']").parents(".field").removeClass("visible");$("[name='siren']").parents(".field").removeClass("visible");if(this.category.id==13){if($('input[name="type"]:checked').val()=="u"){$(".including_charges").removeClass("hidden");$('label[for="price"]').text("Loyer mensuel")}else{$(".including_charges").addClass("hidden");$('label[for="price"]').text("Prix")}}else{if(this.category.id==10){$(".including_charges").removeClass("hidden")}else{if(this.category.id==33){$("#price").parents(".field").addClass("hidden")}else{$(".including_charges").addClass("hidden")}}}}this.switchPartPro()};NewAdForm.prototype.toggleAddressCross=function(){var a=$('input[name="address"]').val();if(a==""&&!$("#address-container .icon-close-circle-outline").hasClass("hidden")){$("#address-container .icon-close-circle-outline").addClass("hidden")}else{if(a!=""&&$("#address-container .icon-close-circle-outline").hasClass("hidden")){$("#address-container .icon-close-circle-outline").removeClass("hidden")}}};NewAdForm.prototype.updatePictures=function(){var n=this.getNumberOfPictures();var k=0;var j=parseInt(n.base);var b=parseInt(n.option)+j;$("#nb_photo_supp").text(parseInt(n.option));for(var g=0;g<j;g++){if(typeof arrayOfFileUploadNewad[g]==="undefined"||$("#uploadPhoto-"+g).hasClass("option")){if($("#uploadPhoto-"+g).hasClass("option")){$("#uploadPhoto-"+g).removeClass("option hidden").insertBefore($('label[for="cmd_photosup"]'))}else{arrayOfFileUploadNewad[g]=new FileUploadNewad(this,g,"#uploadPhoto-"+g,"#formular",errorFileUploadNewad);if(typeof loadedFileUploadNewad[g]!=="undefined"){var m={state:"uploaded",hidden:false,image:loadedFileUploadNewad[g]};$("#pictures .pictures-list").append(arrayOfFileUploadNewad[g].updateState(m,true))}else{var m={state:"not_uploaded",hidden:false};$("#pictures .pictures-list").append(arrayOfFileUploadNewad[g].updateState(m,true))}}}k=g}k+=1;var h=b-k;var a=this.getMorePictureStructure(h);if(h>0){if($('label[for="cmd_photosup"]').length==0){if(ldv_active!=1||ldv_active==1&&action=="deleted"){a.appendTo("#pictures .pictures-list")}if(ldv_active==1&&action=="deleted"){this.showOptionsPictures();$("#photosup_ad_option_box").addClass("hidden")}}else{if(!$("#cmd_photosup").prop("checked")){$('label[for="cmd_photosup"]').replaceWith(a)}}}else{$('label[for="cmd_photosup"]').remove();$(".file_container.option").remove();$("#photosup_ad_option_box").addClass("hidden");$("#cmd_photosup").prop("checked",false)}var c={};if(this.category.id!=0){(this.account=="perso"||this.account=="nolog")?c=this.updateLayoutPrices("photosup"):c=this.updateLayoutPrices("photosup",true);if(typeof c!=="undefined"){$("#photosup_ad_option_box span.orange").html(c.priceValueText+" &euro; "+c.priceType);$(".photosup_package").removeClass("hidden")}else{$(".photosup_package").addClass("hidden")}}else{$(".photosup_package").addClass("hidden")}var l=null;if(ldv_active==1){l=false}else{if((typeof loadedFileUploadNewad[k]!=="undefined")&&(!$('label[for="cmd_photosup"]').hasClass("hidden"))){$('label[for="cmd_photosup"]').trigger("click");l=false}else{l=true}}for(var g=k;g<b;g++){var d=ldv_active?"option":"option hidden";if(typeof arrayOfFileUploadNewad[g]==="undefined"||!($("#uploadPhoto-"+g).hasClass("option"))){if($("#uploadPhoto-"+g).length&&!($("#uploadPhoto-"+g).hasClass("option"))){$("#uploadPhoto-"+g).addClass(d).insertAfter($('label[for="cmd_photosup"]'))}else{arrayOfFileUploadNewad[g]=new FileUploadNewad(this,g,"#uploadPhoto-"+g,"#formular",errorFileUploadNewad);if(typeof loadedFileUploadNewad[g]!=="undefined"){var m={state:"uploaded",hidden:l,image:loadedFileUploadNewad[g],option:true};$("#pictures .pictures-list").append(arrayOfFileUploadNewad[g].updateState(m,true))}else{var m={state:"not_uploaded",hidden:l,option:true};$("#pictures .pictures-list").append(arrayOfFileUploadNewad[g].updateState(m,true))}}}}if(is_ldv_checked=="1"){ldv.showPhotosup()}};NewAdForm.prototype.hideOptionsPictures=function(){$(".file_container.option, #pictures .checkbox").addClass("hidden");$('label[for="cmd_photosup"]').removeClass("hidden")};NewAdForm.prototype.showOptionsPictures=function(){$(".file_container.option, #pictures .checkbox").removeClass("hidden");$('label[for="cmd_photosup"]').addClass("hidden")};NewAdForm.prototype.getNumberOfPictures=function(){var b=[];var a=($('input[name="company_ad"]:checked').val()==1||this.account=="pro");if(a){if(pam_datas.coins_left>0){b=this.confTreatment(this.category_settings.pictures.def.pro_pam)}else{b=this.confTreatment(this.category_settings.pictures.def.pro)}}else{b=this.confTreatment(this.category_settings.pictures.def.perso)}if($('input[name="category"]').val()!=0){if(typeof this.category_settings[this.category.id].pictures!=="undefined"){if(a){if(pam_datas.coins_left>0&&typeof this.category_settings[this.category.id].pictures.pro_pam!=="undefined"){b=this.confTreatment(this.category_settings[this.category.id].pictures.pro_pam)}else{if(typeof this.category_settings[this.category.id].pictures.pro!=="undefined"){b=this.confTreatment(this.category_settings[this.category.id].pictures.pro)}}}else{if(this.category_settings[this.category.id].is_free.perso==false){b=this.confTreatment(this.category_settings[this.category.id].pictures.perso)}}}}return b};NewAdForm.prototype.getMorePictureStructure=function(a){$file_container_orange=$("<label>",{"class":"file_container-orange mrs mts","for":"cmd_photosup"});$p=$("<p>",{"class":"uppercase"}).html(a+" photos suppl&eacute;mentaires").appendTo($file_container_orange);$i=$("<i>",{"class":"icon-camera-plus icon-7x"}).appendTo($file_container_orange);$p=$("<p>",{"class":"photosup_package"}).html('<span id="photosup_price"></span> &euro; <span id="photosup_type"></span>').appendTo($file_container_orange);return $file_container_orange};NewAdForm.prototype.confTreatment=function(b){var g=b.split(",");var d=[];for(var c=0;c<g.length;c++){var a=g[c].split(":");d[a[0]]=a[1]}return d};NewAdForm.prototype.orderAndCleanPictures=function(){var d=arrayOfFileUploadNewad.length,c=null;for(var b=0;b<d;b++){if(typeof arrayOfFileUploadNewad[b]==="undefined"){arrayOfFileUploadNewad[b].updateState({state:"not_uploaded"});return}else{if(arrayOfFileUploadNewad[b].state=="suppression_running"&&((b+1)==d||arrayOfFileUploadNewad[b+1].state=="uploaded")){c=b;break}else{if(arrayOfFileUploadNewad[b].state=="suppression_running"&&arrayOfFileUploadNewad[b+1].state=="not_uploaded"){arrayOfFileUploadNewad[b].updateState({state:"not_uploaded"});return}}}}for(var b=c;b<d;b++){var a;if(typeof arrayOfFileUploadNewad[b+1]!=="undefined"){a={state:arrayOfFileUploadNewad[b+1].state};if(arrayOfFileUploadNewad[b+1].state=="not_uploaded"){arrayOfFileUploadNewad[b].updateState(a);break}if(typeof arrayOfFileUploadNewad[b+1].image!=null){a.image=arrayOfFileUploadNewad[b+1].image}}else{a={state:"not_uploaded"}}arrayOfFileUploadNewad[b].updateState(a)}};NewAdForm.prototype.changeLabels=function(b){if(typeof this.category_settings[this.category.id].labels[b]!="undefined"){var a=this.category_settings[this.category.id].labels[b];if(typeof this.category_settings[this.category.id].required!=="undefined"&&this.category_settings[this.category.id].required.indexOf(b)!=-1){a+=" *"}$("label[for='"+b+"']").html(a)}else{if(typeof this.defaultLabels[b]!="undefined"){if(typeof this.category_settings[this.category.id].required!=="undefined"&&this.category_settings[this.category.id].required.indexOf(b)!=-1){if($("label[for='"+b+"'] .required_symbol").length>0){$("label[for='"+b+"'] span:first").html(this.defaultLabels[b]);$("label[for='"+b+"'] .required_symbol").removeClass("hidden")}else{$("label[for='"+b+"']").html(this.defaultLabels[b]+" *")}}else{if($("label[for='"+b+"'] .required_symbol").length>0){$("label[for='"+b+"'] span:first").html(this.defaultLabels[b]);$("label[for='"+b+"'] .required_symbol").addClass("hidden")}else{$("label[for='"+b+"']").html(this.defaultLabels[b])}}}}};NewAdForm.prototype.changeTips=function(b){var a=$("[name='"+b+"']").parents(".line:first").find(".label-info");if(typeof this.category_settings[this.category.id]["tips_"+this.account][b]!="undefined"){a.html(this.category_settings[this.category.id]["tips_"+this.account][b])}else{if(typeof this.category_settings[this.category.id].tips[b]!="undefined"){a.html(this.category_settings[this.category.id].tips[b])}else{if(typeof this.def.tips[b]!="undefined"){a.html(this.def.tips[b])}}}};NewAdForm.prototype.isRequired=function(a){if(typeof this.category_settings[this.category.id].required!="undefined"){fields_required=this.category_settings[this.category.id].required.split(",");if(fields_required!=""&&$.inArray(a,fields_required)>=0){return true}else{return false}}};NewAdForm.prototype.fieldHasValue=function(g,c){var d='#formular *[name="'+g+'"]',b=document.querySelector(d).type;switch(b){case"select-one":d+=":selected";break;case"radio":d+=":checked";break;default:break}var a=$(d).val();if(a==c){return true}else{return false}};NewAdForm.prototype.updateFieldPrice=function(){if(this.category.id==65){$("#carpool_price_help_link").addClass("visible")}else{$("#carpool_price_help_link").removeClass("visible")}};NewAdForm.prototype.updateFieldRegdate=function(){if(this.category.id!=null){var c=$("select[name='regdate']");var b=this.category_settings.regdateList[this.category.id].slice(0);b=b.reverse();b[b.length-1]=b[b.length-1]+" ou avant";c.html('<option value="">&#171;Choisissez&#187;</option>');for(var a=0;a<b.length;++a){c.append('<option value="'+b[a]+'">'+b[a]+"</option>")}}};NewAdForm.prototype.updateFieldModel=function(){var a=$("select[name='brand']").val();a=a.replace(/ /g,"_");$.ajax({url:"/beta/ajax/request_template.html",type:"GET",data:{template:"fields/field_model",brand:a},success:function(b){$("#field_model").html(b)}})};NewAdForm.prototype.updateFieldDepartment=function(){if(this.region.id!=null){var c=$("select[name='dpt_code']");if(c.parents(".line").hasClass("hidden")){c.parents(".line").addClass("visible")}c.html('<option value="0">Choisissez le d&eacute;partement</option>');var b=region_departments[this.region.id];for(var a in b){c.append('<option value="'+b[a]+'">'+b[a]+"</option>")}}};NewAdForm.prototype.showInfoClothingSize=function(a,b){if(typeof a!="undefined"){var d=a.options[a.selectedIndex].text;var c=$("a.guideSizeLink");if(typeof(b)!="undefined"){$('span.label-info[data-for="clothing_type"]').addClass("visible");$('span.label-info[data-for="clothing_type"] .sub_message').addClass("hidden");if(d.indexOf("Choisissez")!=-1){this.updateFieldClothingSize(false)}else{if(d=="Femme"||d=="Femme enceinte"){$("#clothing_special_advertiser_woman").removeClass("hidden")}else{if(d=="Homme"){$("#clothing_special_advertiser_man").removeClass("hidden")}else{if(d=="Enfant"){$("#clothing_special_advertiser_child").removeClass("hidden")}}}this.updateFieldClothingSize(true)}}else{if(d.indexOf("Choisissez")!=-1){$("select[name='clothing_st']").parents(".field").addClass("hidden")}else{if(d=="Femme"||d=="Femme enceinte"){$("#clothing_special_advertiser_woman").removeClass("hidden")}else{if(d=="Homme"){$("#clothing_special_advertiser_man").removeClass("hidden")}else{if(d=="Enfant"){$("#clothing_special_advertiser_child").removeClass("hidden")}}}$("select[name='clothing_st']").parents(".field").removeClass("hidden")}}($(a).val()!="0")?c.removeClass("hidden"):c.addClass("hidden")}};NewAdForm.prototype.updateFieldClothingSize=function(d){var a=$("select[name='clothing_st']");var c=$("select[name='clothing_type']").val();a.html('<option value="0">&#171;Choisissez&#187;</option>');for(var b in clothing_size_type[c]){a.append('<option value="'+b+'">'+clothing_size_type[c][b]+"</option>")}(d)?a.parents(".field").removeClass("hidden"):a.parents(".field").addClass("hidden")};NewAdForm.prototype.showInfoShoeType=function(a,b){if(typeof a!="undefined"&&typeof b!="undefined"){var c=a.options[a.selectedIndex].text;if(c=="Enfant"){$("#shoe_special_advertiser").addClass("visible")}else{$("#shoe_special_advertiser").removeClass("visible")}}};NewAdForm.prototype.updateLdv=function(){this.toggleHiddenPhone("hide");(this.category.id=="12")?$("#ldv .specific").addClass("hidden"):$("#ldv .specific").removeClass("hidden");if(!(this.category.id=="12"||this.category.id=="67"||this.category.id=="68"||this.category.id=="69"||this.category.id=="70")&&$("#cmd_ldv")&&$("#cmd_ldv").checked){$("#cmd_ldv").checked=false}var a={};if(this.category.id!=0){(this.account=="perso"||this.account=="nolog")?a=this.updateLayoutPrices("ldv"):a=this.updateLayoutPrices("ldv",true)}if(typeof a!=="undefined"){if(a.priceValue<=1){$(".ldv-text label.checkbox, .ldv-text .ldv_special").removeClass("hidden");$(".ldv-text .ldv_period").addClass("hidden")}else{var b=a.priceValue/6;$("#ldv_price_monthly").text(b.toFixed(2).replace(".",","));$(".ldv-text .ldv_special").addClass("hidden");$(".ldv-text label.checkbox, .ldv-text .ldv_period").removeClass("hidden")}}};NewAdForm.prototype.updateFaiIncluded=function(){if(this.account!="pro"){$("[name='fai_included']").parents(".field").addClass("hidden")}};NewAdForm.prototype.updateChargesIncluded=function(){if(this.account!="pro"){$("[name='charges_included']").parents(".field").addClass("hidden")}};NewAdForm.prototype.updateAvailability=function(){this.availability=new Availability(this.datepicker.vacation)};NewAdForm.prototype.updatePriceMinMax=function(){$("#price_min_max").removeClass("hidden")};NewAdForm.prototype.updateFieldSubject=function(){var a=$("input[name='subject']");var b=a.parents(".line:first");if(typeof this.category_settings[this.category.id].labels.subject!="undefined"){b.find("label span:first").text(this.category_settings[this.category.id].labels.subject)}else{b.find("label span:first").text(this.defaultLabels.subject)}};NewAdForm.prototype.toggleShowmapButton=function(a){(a=="show")?$("#showMap").removeAttr("disabled"):$("#showMap").attr("disabled","disabled")};NewAdForm.prototype.toggleMapLoader=function(a){(a=="show")?$(".map_placeholder .loader").removeClass("hidden"):$(".map_placeholder .loader").addClass("hidden")};NewAdForm.prototype.toggleMapLayout=function(a){if(a=="show"){$("#"+this.map.id+" .map_init").addClass("hidden");$("#"+this.map.id+" #"+this.map.container).removeClass("hidden")}else{$("#"+this.map.id+" .map_init").removeClass("hidden");$("#"+this.map.id+" #"+this.map.container).addClass("hidden")}};NewAdForm.prototype.toggleGeolocLoader=function(a){if(a=="show"){$("#browserGeoloc").addClass("hidden");$("#browserGeoloc + .loaderGif-small").removeClass("hidden")}else{$("#browserGeoloc").removeClass("hidden");$("#browserGeoloc + .loaderGif-small").addClass("hidden")}};NewAdForm.prototype.addMapRoutine=function(){$(".leaflet-control-attribution > a").attr("target","_blank");$('input[name="accept_localisation"]').prop("checked",true)};NewAdForm.prototype.setLocationInputs=function(a,d,b,c,g){(a==null)?$('input[name="address"]').val(""):$('input[name="address"]').val(a);(d==null)?$('input[name="region"]').val(""):$('input[name="region"]').val(d);(b==null)?$('input[name="dpt_code"]').val(""):$('input[name="dpt_code"]').val(b);if(c==null){$('input[name="zipcode"]').val("")}else{$('input[name="zipcode"]').val(c)}if(g==null){$('input[name="city"]').val("");$('input[name="location_p"]').val("")}else{$('input[name="city"]').val(g)}};NewAdForm.prototype.retrieveLocationInputs=function(){var a={};a.region=$('input[name="region"]').val();a.department=$('input[name="dpt_code"]').val();a.zipcode=$('input[name="zipcode"]').val();a.city=$('input[name="city"]').val();a.address=$('input[name="address"]').val();return a};NewAdForm.prototype.setMapInputs=function(d,c,a,b){if(d!=null){$('input[name="latitude"]').val(d)}if(c!=null){$('input[name="longitude"]').val(c)}if(a!=null){$('input[name="geo_provider"]').val(a)}if(b!=null){$('input[name="geo_source"]').val(b)}};NewAdForm.prototype.resetMapInputs=function(){$('input[name="latitude"]').val("");$('input[name="longitude"]').val("");$('input[name="geo_provider"]').val("");$('input[name="geo_source"]').val("")};NewAdForm.prototype.retrieveMapInputs=function(){var a={};a.latitude=$('input[name="latitude"]').val();a.longitude=$('input[name="longitude"]').val();a.geo_provider=$('input[name="geo_provider"]').val();a.geo_source=$('input[name="geo_source"]').val();return a};NewAdForm.prototype.showMapError=function(a,b){if(typeof b=="undefined"){$("#"+this.map.container).addClass("map_error");this.toggleMapLayout("hide");this.toggleMapLoader("hide");this.setMapInputs("","","","");this.zipcode=null;this.address=null}if(a=="NO_RESULTS"){$('.label-error[data-for="map"]').html("Cette adresse n'a pas &eacute;t&eacute; trouv&eacute;e, veuillez r&eacute;essayer avec une autre adresse.")}else{if($("body").hasClass("ua_IE7")){$('.label-error[data-for="map"]').html("Votre navigateur ne permet pas cette action. Vous pouvez poursuivre votre d&eacute;p&ocirc;t sans visualiser l'affichage de votre bien sur une carte ou changer de navigateur pour b&eacute;n&eacute;ficier de cette fonctionnalit&eacute;.")}else{$('.label-error[data-for="map"]').html("Nous sommes d&eacute;sol&eacute;s, nous ne pouvons afficher la carte pour le moment. Vous pouvez toutefois poursuivre votre d&eacute;p&ocirc;t.")}}if(!($('.label-error[data-for="map"]').hasClass("visible"))){$('.label-error[data-for="map"]').addClass("visible")}};NewAdForm.prototype.hideMapError=function(){$('.label-error[data-for="map"]').removeClass("visible")};NewAdForm.prototype.showLocationError=function(a){if(typeof(a)=="undefined"){if($(".location-container .icon-close-circle-outline").length!=1){if(!($('input[name="location_p"]').hasClass("hidden"))){$('.label-error[data-for="location_p"]').html("La ville ou le code postal que vous avez renseign&eacute; n'est pas valide. S&eacute;lectionnez votre Ville - CP parmi les propositions.").addClass("visible");if($('input[name="address"]').val()==""&&this.address_is_mandatory==true){$('.label-error[data-for="address"]').html("Veuillez entrer l'adresse o&ugrave; se situe le bien.").addClass("visible")}return false}}else{$('.label-error[data-for="location_p"]').removeClass("visible");$('.label-error[data-for="address"]').html("Veuillez entrer l'adresse o&ugrave; se situe le bien.").addClass("visible");return false}}else{if(a=="address"){if($('input[name="address"]').val()==""&&this.address_is_mandatory==true){$('.label-error[data-for="address"]').html("Veuillez entrer l'adresse o&ugrave; se situe le bien.").addClass("visible");return false}}else{if(($(".location-container .icon-close-circle-outline").length!=1)&&(!($('input[name="location_p"]').hasClass("hidden")))){$('.label-error[data-for="location_p"]').html("La ville ou le code postal que vous avez renseign&eacute; n'est pas valide. S&eacute;lectionnez votre Ville - CP parmi les propositions.").addClass("visible");return false}}}return true};NewAdForm.prototype.hideLocationError=function(){$('.label-error[data-for="location_p"]').removeClass("visible");if(($('input[name="address"]').val()!=""&&this.address_is_mandatory==true)||this.address_is_mandatory==false){$('.label-error[data-for="address"]').removeClass("visible")}};NewAdForm.prototype.resetLocationAndMap=function(a){this.map.object.reset();cityNewadMultipleLocation.removeLocation(a);this.setLocationInputs(null,null,null,null,null);this.toggleMapLayout("hide")};NewAdForm.prototype.initializeMap=function(a,d,b){var c=this;this.firstShowMap=false;setTimeout(function(){if(a=="pinpoint"){if(c.map.object.map!=null){c.map.object.viewAddress(d,b,c)}else{c.map.object.initMap(d,b,16,new Layer("normal.day","maptile"),c)}c.map.object.addLocationLayoutChoice("pinpoint");c.setMapInputs(null,null,"lbc","user")}else{if(a=="polygon"){c.getPolygons(c.zipcode,c.city);c.map.object.addLocationLayoutChoice("polygon");c.setMapInputs(null,null,"lbc","city")}}if($("#form_part_localisation .map #information_deleted")&&$("#form_part_localisation .map #information_deleted").hasClass("hidden")){$("#form_part_localisation .map #information_deleted").removeClass("hidden")}else{$("#form_part_localisation .map #information_deleted").addClass("hidden")}if(c.address!=null&&c.address!=""){c.map.object.showPolygonTutorial()}c.addMapRoutine();c.toggleMapLayout("show");c.toggleMapLoader("hide")},c.map.delay)};NewAdForm.prototype.getPolygons=function(a,b){var c=this;if(this.polygonRunning==false){if(typeof(this.map.object.polygons)!="undefined"&&this.map.object.polygons!=null){this.map.object.map.removeLayer(this.map.object.polygons)}this.polygonRunning=true;this.apiCarto.polygons(a,b,c.source,c.application,c.polygonsSuccess,c.polygonsError,c)}};NewAdForm.prototype.polygonsSuccess=function(b,a){a.polygonRunning=false;a.map.object.addPolygons(b);a.map.object.addLocationLayoutChoice("polygon")};NewAdForm.prototype.polygonsError=function(a){a.showMapError("MAP_ERROR")};NewAdForm.prototype.setLocationLayout=function(b){if(b.status=="OK"){var a="";if(typeof b.houseNumber!="undefined"){a=b.houseNumber+" "}if(typeof b.street!="undefined"){a+=b.street}this.zipcode=b.zipcode;(a!="")?this.address=a:this.address=null;if($(".location-container .icon-close-circle-outline").length){cityNewadMultipleLocation.removeLocation(false)}this.setLocationInputs(a,b.region,b.department,b.zipcode,b.city);cityNewadMultipleLocation.addLocation(null,b.zipcode,b.city,true)}else{this.showMapError()}this.toggleMapLoader("hide")};NewAdForm.prototype.displayMap=function(b,h,d){this.origin=b;this.toggleShowmapButton("hide");this.toggleMapLayout("show");this.toggleMapLoader("show");this.hideLocationError();this.hideMapError();var a=this.retrieveLocationInputs();if(typeof h!=="undefined"){var c=this.retrieveLocationInputs();if(typeof(this.map.object.polygons)!="undefined"&&this.map.object.polygons!=null){this.map.object.map.removeLayer(this.map.object.polygons)}this.initializeMap("pinpoint",h,d);if(c.geo_provider=="lbc"&&c.geo_source=="city"&&a.address!=""){this.showMapError("NO_RESULTS",true)}this.address=a.address}else{if($(".location-container .icon-close-circle-outline").length!=0){if(this.address_is_mandatory==true&&a.address==""){if((this.firstShowMap==false)&&(!($(".map_container").hasClass("map_active")))){this.toggleMapLayout("hide")}this.showLocationError();this.toggleMapLoader("hide");this.toggleMapLayout("hide")}else{if(this.address!=a.address||this.zipcode!=a.zipcode){var g=this;setTimeout(function(){if(typeof(g.map.object.polygons)!="undefined"&&g.map.object.polygons!=null){g.map.object.map.removeLayer(g.map.object.polygons)}if(a.address==""){g.address=a.address;g.zipcode=a.zipcode;g.city=a.city;g.apiCarto.geocode(a.address,a.zipcode,a.city,g.source,g.application,g.geocodeHiddenSuccess,g.geocodeError,g);g.initializeMap("polygon")}else{g.apiCarto.geocode(a.address,a.zipcode,a.city,g.source,g.application,g.geocodeSuccess,g.geocodeError,g);g.map.object.addLocationLayoutChoice("pinpoint");return}},g.map.delay)}else{if(typeof(this.map.object.polygons)!="undefined"&&this.map.object.polygons!=null){this.map.object.map.removeLayer(this.map.object.polygons);var h=$('input[name="latitude"]').val(),d=$('input[name="longitude"]').val();this.map.object.viewAddress(h,d,this)}this.toggleMapLoader("hide")}}}else{this.showLocationError();this.toggleMapLoader("hide");this.toggleMapLayout("hide")}}};NewAdForm.prototype.displayMapFromBrowser=function(a){var b=this;$("#"+this.map.container).removeClass("map_reinit");$("#"+this.map.container).addClass("map_active");this.toggleGeolocLoader("show");this.hideMapError();if(this.firstShowMap==true){setTimeout(function(){b.setMapInputs(a.coords.latitude,a.coords.longitude,"lbc","browser");b.apiCarto.reverse(a.coords.latitude,a.coords.longitude,b.reverseSuccess,b.reverseError,b)},b.map.delay)}else{$("#"+this.map.container).removeClass("map_reinit");if(this.map.object.polygons!=null){this.map.object.map.removeLayer(this.map.object.polygons);this.map.object.polygons=null}var b=this;setTimeout(function(){b.map.object.viewAddress(a.coords.latitude,a.coords.longitude,b);b.map.object.addLocationLayoutChoice("pinpoint");if(($("#form_part_localisation .map #information_deleted"))&&(!($("#form_part_localisation .map #information_deleted").hasClass("hidden")))){$("#form_part_localisation .map #information_deleted").addClass("hidden")}b.setMapInputs(a.coords.latitude,a.coords.longitude,"lbc","browser");b.apiCarto.reverse(a.coords.latitude,a.coords.longitude,b.reverseSuccess,b.reverseError,b)},b.map.delay)}};NewAdForm.prototype.geocodeSuccess=function(c,g,d,b,l){l.address=g;l.zipcode=d;l.city=b;var j=c.geocode.ERROR,h=c.geocode.latitude,m=c.geocode.longitude,a=c.geocode.geo_provider,k=c.geocode.geo_source;if(j==undefined){if($(".map_placeholder .map_default").length==1){$(".map_placeholder .map_default").remove()}$("#"+l.map.container).removeClass("map_error map_reinit").addClass("map_active");l.addMapRoutine();l.setMapInputs(h,m,a,k);l.toggleMapLayout("show");if(a=="lbc"&&k=="city"){if(typeof(l.map.object.polygons)!="undefined"&&l.map.object.polygons!=null){l.map.object.map.removeLayer(l.map.object.polygons)}l.showMapError("NO_RESULTS",true);l.initializeMap("polygon")}else{if(l.firstShowMap==true){l.initializeMap("pinpoint",h,m)}else{if(tileOnError){l.showMapError();l.toggleMapLayout("hide");return}else{if(l.map.object.polygons!=null){l.map.object.map.removeLayer(l.map.object.polygons);l.map.object.polygons=null}l.map.object.viewAddress(h,m,l);if(($("#form_part_localisation .map #information_deleted"))&&(!($("#form_part_localisation .map #information_deleted").hasClass("hidden")))){$("#form_part_localisation .map #information_deleted").addClass("hidden")}}l.toggleMapLoader("hide")}}}else{if(l.firstShowMap==false&&($(".location-container .icon-close-circle-outline").length==0)){if(!($(".map_container").hasClass("map_active"))){l.toggleMapLayout("hide")}l.showLocationError()}else{l.showMapError(j)}l.toggleMapLayout("hide");l.toggleMapLoader("hide")}};NewAdForm.prototype.geocodeError=function(a){a.toggleMapLoader("hide");a.showMapError()};NewAdForm.prototype.geocodeHiddenSuccess=function(c,b,d,j,h){var a=c.geocode.latitude,g=c.geocode.longitude;h.setMapInputs(a,g,null,null)};NewAdForm.prototype.reverseSuccess=function(g,c,d,b){if(d.status=="OK"){var a="";if(typeof d.houseNumber!="undefined"){a=d.houseNumber+" "}if(typeof d.street!="undefined"){a+=d.street}b.city=d.city;b.zipcode=d.zipcode;if(a!=""){b.address=a;b.initializeMap("pinpoint",g,c)}else{b.address=null}b.setLocationInputs(a,d.region,d.department,d.zipcode,d.city);cityNewadMultipleLocation.addLocation(null,d.zipcode,d.city,true)}else{b.showMapError();b.toggleMapLoader("hide")}b.toggleGeolocLoader("hide");b.toggleAddressCross()};NewAdForm.prototype.reverseError=function(a){a.toggleGeolocLoader("hide");a.showMapError()};NewAdForm.prototype.checkAnimal=function(r,x,y,j,z,q,h,k,m,s,w,p,C,a,c){var A=true;var n=$('input[name="animal_identification"]').val(),b=new RegExp(/^([a-z]{3}[0-9]{3})$|^([0-9]{3}[a-z]{3})$|^([0-9]{1}[a-z]{3}[0-9]{3})$|^([0-9]{15})$/i);var l=$('input[name="price"]').val(),g=new RegExp(/^([0-9 ]*)$/i);var B=$('input[name="animal_litter"]').val(),o=new RegExp(/^([0-9]*)$/i);var d=$('input[name="animal_litter_number"]').val(),v=new RegExp(/(^(LOF|LOOF|SCC)-[0-9]{1,13}-20[0-9]{2}-[0-9]{1}$)|(^(LOF|LOOF|SCC)[0-9]{1,13}20[0-9]{2}[0-9]{1}$)/i);if((this.category.id==28)&&($("#rs").is(":checked"))){if($('select[name="animal_type"]').val()==1){if($('select[name="animal_offer_nature"]').val()==1){if(l.length>8||((!(g.test(l)))&&l!="")){$('span.label-error[data-for="price"]').html(m).addClass("visible");A=false}if($('input[name="animal_litter"]').val()==""||$('input[name="animal_litter"]').val()=="0"){$('span.label-error[data-for="animal_litter"]').html(z).addClass("visible");A=false}else{if(!(o.test(B))){$('span.label-error[data-for="animal_litter"]').html(q).addClass("visible");A=false}}if(!$('input[name="animal_identification_type"]').is(":checked")){$('span.label-error[data-for="animal_identification_type"]').html(s).addClass("visible");A=false}if($('select[name="animal_age"]').val()==""){$('span.label-error[data-for="animal_age"]').html(h).addClass("visible");A=false}if(n==""){$('span.label-error[data-for="animal_identification"]').html(a).addClass("visible");A=false}else{if(!(b.test(n))){$('span.label-error[data-for="animal_identification"]').html(c).addClass("visible");A=false}}if(this.account!="pro"){if($('select[name="animal_race"]').val()==""){$('span.label-error[data-for="animal_race"]').html(y).addClass("visible");A=false}else{if($('select[name="animal_race"]').val()==2){$('span.label-error[data-for="animal_race"]').html(j).addClass("visible");A=false}}if($("#animal_first_litter").is(":checked")==false){$('span.label-error[data-for="animal_first_litter"]').html(k).addClass("visible");$('span.label-info[data-for="animal_special_first_litter"]').removeClass("visible");A=false}if($('select[name="animal_age"]').val()==3){$('span.label-error[data-for="animal_age"]').html(w).addClass("visible");A=false}if($('select[name="animal_race"]').val()==1&&$('select[name="animal_age"]').val()!=3){if(d==""){$('span.label-error[data-for="animal_litter_number"]').html(p).addClass("visible");A=false}else{if(!(v.test(d))){$('span.label-error[data-for="animal_litter_number"]').html(C).addClass("visible");A=false}}}}}else{if($('select[name="animal_offer_nature"]').val()==2){if(B==""||B=="0"){$('span.label-error[data-for="animal_litter"]').html(z).addClass("visible");A=false}else{if(!(o.test(B))){$('span.label-error[data-for="animal_litter"]').html(q).addClass("visible");A=false}}if(!$('input[name="animal_identification_type"]').is(":checked")){$('span.label-error[data-for="animal_identification_type"]').html(s).addClass("visible");A=false}if($('select[name="animal_age"]').val()==""){$('span.label-error[data-for="animal_age"]').html(h).addClass("visible");A=false}if(!(b.test(n))){$('span.label-error[data-for="animal_identification"]').html(a).addClass("visible");A=false}else{if(n==""){$('span.label-error[data-for="animal_identification"]').html(c).addClass("visible");A=false}}if(this.account!="pro"){if($('select[name="animal_race"]').val()==""){$('span.label-error[data-for="animal_race"]').html(y).addClass("visible");A=false}if($('select[name="animal_age"]').val()==""){$('span.label-error[data-for="animal_age"]').html(h).addClass("visible");A=false}}}else{if($('select[name="animal_offer_nature"]').val()==3){if(n!=""&&!(b.test(n))){$('span.label-error[data-for="animal_identification"]').html(c).addClass("visible");A=false}if(B!=""&&!(o.test(B))){$('span.label-error[data-for="animal_litter"]').html(q).addClass("visible");A=false}}else{if($('select[name="animal_offer_nature"]').val()==0){$('span.label-error[data-for="animal_offer_nature"]').html(x).addClass("visible");A=false}}}}}else{if($('select[name="animal_type"]').val()==""||$('select[name="animal_type"]').val()==null){$('span.label-error[data-for="animal_type"]').html(r).addClass("visible");A=false}}}if(A==false){scrollToObject($('label[for="animal_type"]'))}return A};NewAdForm.prototype.updateAnimal=function(){if(this.category.id==28){$('label[for="price"] .required_symbol').addClass("hidden");$('label[for="animal_litter_number"]').parent(".line").addClass("hidden");$('span.label-info[data-for="animal_age"]').removeClass("visible");$("body").off("focus blur",'select[name="animal_offer_nature"]');if(this.account=="pro"){$('label[for="animal_race"] .required_symbol').addClass("hidden")}if($('select[name="animal_type"]').val()==1){if(this.account=="pro"){$('label[for="animal_litter_number"]').parent(".line").addClass("hidden")}else{$("body").on("focus",'select[name="animal_offer_nature"]',function(){$("#animal_offer_nature_special").addClass("visible")});$("body").on("blur",'select[name="animal_offer_nature"]',function(){$("#animal_offer_nature_special").removeClass("visible")})}if($('select[name="animal_offer_nature"]').val()==1){if(this.account!="pro"){if(this.labelInfo.animal_race!=""){$('span.label-info[data-for="animal_race"]').html("Un particulier peut uniquement proposer des chiots LOF ou chatons LOOF &agrave; la vente. "+this.labelInfo.animal_race)}if(this.labelInfo.animal_age!=""){$('span.label-info[data-for="animal_age"]').html("Un particulier peut uniquement proposer des chiots LOF ou chatons LOOF &agrave; la vente s'il indique un num&eacute;ro de port&eacute;e. "+this.labelInfo.animal_age)}if($('select[name="animal_race"]').val()==1&&($('select[name="animal_age"]').val()!=""&&$('select[name="animal_age"]').val()!=3)){$('label[for="animal_litter_number"]').parent(".line").removeClass("hidden")}$('label[for="animal_first_litter"]').parent(".line").removeClass("hidden");$('label[for="animal_identification"] .required_symbol, label[for="animal_age"] .required_symbol, label[for="animal_race"] .required_symbol, label[for="animal_litter"] .required_symbol, #animal_identification_type_label .required_symbol').removeClass("hidden")}else{$('label[for="animal_litter_number"]').parent(".line").addClass("hidden");$('label[for="animal_identification"] .required_symbol, label[for="animal_age"] .required_symbol, label[for="animal_litter"] .required_symbol, #animal_identification_type_label .required_symbol').removeClass("hidden")}}else{if($('select[name="animal_offer_nature"]').val()!=0){if(this.labelInfo.animal_race!=""){$('span.label-info[data-for="animal_race"]').html(this.labelInfo.animal_race)}if(this.labelInfo.animal_age!=""){$('span.label-info[data-for="animal_age"]').html(this.labelInfo.animal_age)}$('label[for="animal_litter_number"], label[for="animal_first_litter"]').parent(".line").addClass("hidden");$("#animal_first_litter").prop("checked",false);if($('select[name="animal_offer_nature"]').val()==2){$('input[name="price"]').attr("disabled","disabled").addClass("disabled").val(0);$('input[name="price"]').parent(".inputWrapper").addClass("disabled");if(this.account=="pro"){$('label[for="animal_identification"] .required_symbol, label[for="animal_age"] .required_symbol, label[for="animal_litter"] .required_symbol, #animal_identification_type_label .required_symbol').removeClass("hidden")}else{$('label[for="animal_identification"] .required_symbol, label[for="animal_age"] .required_symbol, label[for="animal_race"] .required_symbol, label[for="animal_litter"] .required_symbol, #animal_identification_type_label .required_symbol').removeClass("hidden")}}else{$('label[for="animal_identification"] .required_symbol, label[for="animal_age"] .required_symbol, label[for="animal_race"] .required_symbol, label[for="animal_litter"] .required_symbol, #animal_identification_type_label .required_symbol').addClass("hidden")}}else{$('label[for="animal_litter_number"], label[for="animal_first_litter"]').parent(".line").addClass("hidden");$("#animal_first_litter").prop("checked",false)}}}else{$('input[name="price"]').removeAttr("disabled").removeClass("disabled").val("");$('input[name="price"]').parent(".inputWrapper").removeClass("disabled")}}else{$("body").off("change",'select[name="animal_type"], select[name="animal_offer_nature"]');$('input[name="price"]').removeAttr("disabled").removeClass("disabled");$('input[name="price"]').parent(".inputWrapper").removeClass("disabled");if(this.labelInfo.animal_race!=""){$('span.label-info[data-for="animal_race"]').html(this.labelInfo.animal_race)}if(this.labelInfo.animal_age!=""){$('span.label-info[data-for="animal_age"]').html(this.labelInfo.animal_age)}$('label[for="animal_first_litter"]').parent(".line").addClass("hidden");$("#animal_first_litter").prop("checked",false)}};NewAdForm.prototype.instanciateAnimalTriggers=function(){var a=this;$("body").on("change",'select[name="animal_type"], select[name="animal_offer_nature"], select[name="animal_race"], select[name="animal_age"]',function(){$('label[for="price"] .required_symbol').addClass("hidden");$('label[for="animal_litter_number"]').parent(".line").addClass("hidden");$('span.label-info[data-for="animal_age"]').removeClass("visible");$("body").off("focus blur",'select[name="animal_offer_nature"]');if(a.account=="pro"){$('label[for="animal_race"] .required_symbol').addClass("hidden")}if($('select[name="animal_type"]').val()==1){if(this.account=="pro"){$('label[for="animal_litter_number"]').parent(".line").addClass("hidden")}else{$("body").on("focus",'select[name="animal_offer_nature"]',function(){$("#animal_offer_nature_special").addClass("visible")});$("body").on("blur",'select[name="animal_offer_nature"]',function(){$("#animal_offer_nature_special").removeClass("visible")})}if($('select[name="animal_offer_nature"]').val()==1){if(a.account!="pro"){if(a.labelInfo.animal_race!=""){$('span.label-info[data-for="animal_race"]').html("Un particulier peut uniquement proposer des chiots LOF ou chatons LOOF &agrave; la vente. "+a.labelInfo.animal_race)}if(a.labelInfo.animal_age!=""){$('span.label-info[data-for="animal_age"]').html("Un particulier peut uniquement proposer des chiots LOF ou chatons LOOF &agrave; la vente s'il indique un num&eacute;ro de port&eacute;e. "+a.labelInfo.animal_age)}if($('select[name="animal_race"]').val()==1&&($('select[name="animal_age"]').val()!=""&&$('select[name="animal_age"]').val()!=3)){$('label[for="animal_litter_number"]').parent(".line").removeClass("hidden")}$('label[for="animal_first_litter"]').parent(".line").removeClass("hidden");$('label[for="animal_identification"] .required_symbol, label[for="animal_age"] .required_symbol, label[for="animal_race"] .required_symbol, label[for="animal_litter"] .required_symbol, #animal_identification_type_label .required_symbol').removeClass("hidden")}else{$('label[for="animal_litter_number"]').parent(".line").addClass("hidden");$('label[for="animal_identification"] .required_symbol, label[for="animal_age"] .required_symbol, label[for="animal_litter"] .required_symbol, #animal_identification_type_label .required_symbol').removeClass("hidden")}}else{if($('select[name="animal_offer_nature"]').val()!=0){if(a.labelInfo.animal_race!=""){$('span.label-info[data-for="animal_race"]').html(a.labelInfo.animal_race)}if(a.labelInfo.animal_age!=""){$('span.label-info[data-for="animal_age"]').html(a.labelInfo.animal_age)}$('label[for="animal_litter_number"], label[for="animal_first_litter"]').parent(".line").addClass("hidden");$("#animal_first_litter").prop("checked",false);if($('select[name="animal_offer_nature"]').val()==2){$('input[name="price"]').attr("disabled","disabled").addClass("disabled").val(0);$('input[name="price"]').parent(".inputWrapper").addClass("disabled");if(a.account=="pro"){$('label[for="animal_identification"] .required_symbol, label[for="animal_age"] .required_symbol, label[for="animal_litter"] .required_symbol, #animal_identification_type_label .required_symbol').removeClass("hidden")}else{$('label[for="animal_identification"] .required_symbol, label[for="animal_age"] .required_symbol, label[for="animal_race"] .required_symbol, label[for="animal_litter"] .required_symbol, #animal_identification_type_label .required_symbol').removeClass("hidden")}}else{$('label[for="animal_identification"] .required_symbol, label[for="animal_age"] .required_symbol, label[for="animal_race"] .required_symbol, label[for="animal_litter"] .required_symbol, #animal_identification_type_label .required_symbol').addClass("hidden")}}else{$('label[for="animal_litter_number"], label[for="animal_first_litter"]').parent(".line").addClass("hidden");$("#animal_first_litter").prop("checked",false)}}if($('select[name="animal_offer_nature"]').val()!=2){$('input[name="price"]').removeAttr("disabled").removeClass("disabled").val("");$('input[name="price"]').parent(".inputWrapper").removeClass("disabled")}}else{$('input[name="price"]').removeAttr("disabled").removeClass("disabled").val("");$('input[name="price"]').parent(".inputWrapper").removeClass("disabled")}})};var NewAdPreview=function(){this.forgotPassword=false;var c=this;$("body").on("click",".toggleSendPassword",function(d){d.preventDefault();c.togglePassword()});$("body").on("click","#sendPasswordSubmit",function(){c.sendPassword()});$("body").on("click",'.priceUpdater input[type="radio"], .priceUpdater input[type="checkbox"]',function(j){if(!$("#amountWithTax").length){return}var g=$(this).parents(".line");if($(this)[0].hasAttribute("data-pricewithtax")){var h=$(this),l=h.is(":checked")}else{if($(this).is(":checkbox")){var l=$(this).is(":checked"),h=(g.find("input[data-service-on]").length)?g.find("input[data-service-on]"):g.find('input[type="radio"]:first')}}b=parseInt(h.attr("data-pricewithtax"));b=!l?b*(-1):b;if(l&&!$(this).is(":checkbox")){var d=g.find("input[data-service-on]"),k=parseInt(d.attr("data-service-on"));if(d.length){b-=k}}g.find("input[data-service-on]").removeAttr("data-service-on");if(l){h.attr("data-service-on",h.attr("data-priceWithTax"))}if(b!=0){c.updateServicePrice(b)}});var b=0;if($("#previewCheckout")[0].hasAttribute("data-photosupprice")){b+=parseInt($("#previewCheckout").attr("data-photosupprice"))}if($("#previewCheckout")[0].hasAttribute("data-ldvPrice")&&ldv_active!="1"&&ldv_preselected!="1"){b+=parseInt($("#previewCheckout").attr("data-ldvPrice"))}if($(".priceUpdater input:checked").length>0){var a=$(".priceUpdater input[data-pricewithtax]:checked");a.each(function(){b+=parseInt($(this).attr("data-priceWithTax"));$(this).attr("data-service-on",$(this).attr("data-priceWithTax"))})}c.updateServicePrice(b)};NewAdPreview.prototype=new NewAd();NewAdPreview.prototype.togglePassword=function(){$("#putPassword, #sendPassword, #passwordText").toggleClass("hidden")};NewAdPreview.prototype.sendPassword=function(){$('input[name="submit_lost_pass"]').val("1");document.formular.submit()};var Adaction=function(){var a=this;$("body").on("change","#adaction_ad input[name=cmd]",function(){a.displayPassword($(this))});$("body").on("keyup","#checkout_form #card_number",function(){a.creditCardFormatting($(this))})};Adaction.prototype=new NewAd();Adaction.prototype.displayPassword=function(a){if(a.is("#cmd_edit")){$(".forgotPassword").addClass("visible")}else{$(".forgotPassword").removeClass("visible")}};Adaction.prototype.creditCardFormatting=function(a){a.val(function(b,d){var c=d.replace(/[^\d]/g,"").match(/.{1,4}/g);return c?c.join(" "):""})};jQuery(document).ready(function(){$("body").on("click",".tabsSwitch",function(){var d=$(this).parents("section:first").siblings("section");d.find(".tabsSwitch.active").removeClass("active");$("#contactForm").removeClass("hidden");var b=$(this).attr("data-subject");$("#subject").val(b);if($("#contactForm").length>0){var a=function(g){var h=$.trim(g).replace(/\//,"").toLowerCase();h=h.replace(/\s+/g,"_").replace(/'/g,"_");h=h.replace(/\u00e0/g,"a");h=h.replace(/\u00e2/g,"a");h=h.replace(/\u00e4/g,"a");h=h.replace(/\u00e7/g,"c");h=h.replace(/\u00e8/g,"e");h=h.replace(/\u00e9/g,"e");h=h.replace(/\u00ea/g,"e");h=h.replace(/\u00eb/g,"e");h=h.replace(/\u00ee/g,"i");h=h.replace(/\u00ef/g,"i");h=h.replace(/\u00f4/g,"o");h=h.replace(/\u00f6/g,"o");h=h.replace(/\u00f9/g,"u");h=h.replace(/\u00fb/g,"u");h=h.replace(/\u00fc/g,"u");return h};var c=a($("a",this).html());xt_med("F","7","support::contact::formulaire::"+c)}})});var Store=function(b){this.ads=b;this.adsHidden=[];this.globalSelect={};this.globalSelect.desktop=$(".ads_select_desktop");this.globalSelect.sticky=$(".ads_select_sticky");this.globalSelect.mobile=$(".ads_select_mobile");var c=document.getElementById("ads_list_desktop");var a=document.getElementById("ads_list_mobile");this.localSelect={};this.localSelect.desktop=c.getElementsByClassName("ad_select");this.localSelect.mobile=a.getElementsByClassName("ad_select");this.formAction=$('form[name="form_ads_action"]');this.searchbox=".searchbox";this.searchboxParams=".searchbox_params";var d=this;$("body").on("touchend click",".ads_select_sticky_zone",function(){var g=$(".ads_select_sticky").hasClass("checked")||$(".ads_select_sticky").hasClass("partial-checked");d.toggleAllCheckbox(g,d.localSelect.desktop);d.toggleAllCheckbox(g,d.localSelect.mobile);d.toggleCheckbox(g,d.globalSelect.desktop);d.toggleCheckbox(g,d.globalSelect.mobile);d.toggleCheckbox(g,d.globalSelect.sticky);d.toggleActionsButtons();d.updateCounterChecked();return false});$("body").on("touchend click",".ads_select_desktop_zone",function(){var g=$(".ads_select_desktop").hasClass("checked")||$(".ads_select_desktop").hasClass("partial-checked");d.toggleAllCheckbox(g,d.localSelect.desktop);d.toggleCheckbox(g,d.globalSelect.desktop);d.toggleCheckbox(g,d.globalSelect.mobile);d.toggleCheckbox(g,d.globalSelect.sticky);d.toggleActionsButtons();d.updateCounterChecked();return false});$("body").on("touchend click","#ads_list_desktop .list_checkbox",function(h){var g=$(this).children("a.ad_select");var j=g.hasClass("checked");d.toggleCheckbox(j,g);if(d.isAllCheckboxChecked(d.localSelect.desktop)){d.toggleCheckbox(false,d.globalSelect.desktop);d.togglecheckbox(false,d.globalSelect.mobile);d.togglecheckbox(false,d.globalSelect.sticky)}else{if(d.isAllCheckboxUnchecked(d.localSelect.desktop)){d.toggleCheckbox(true,d.globalSelect.desktop);d.toggleCheckbox(true,d.globalSelect.mobile);d.toggleCheckbox(true,d.globalSelect.sticky)}else{d.toggleCheckbox("partial",d.globalSelect.desktop);d.toggleCheckbox("partial",d.globalSelect.mobile);d.toggleCheckbox("partial",d.globalSelect.sticky)}}d.toggleActionsButtons();d.updateCounterChecked();return false});$("body").on("touchend click",".ads_select_mobile_zone",function(){var g=$(".ads_select_mobile").hasClass("checked")||$(".ads_select_mobile").hasClass("partial-checked");d.toggleAllCheckbox(g,d.localSelect.mobile);d.toggleCheckbox(g,d.globalSelect.mobile);d.toggleCheckbox(g,d.globalSelect.desktop);d.toggleCheckbox(g,d.globalSelect.sticky);d.toggleActionsButtons();d.updateCounterChecked();return false});$("body").on("touchend click","#ads_list_mobile .list_checkbox",function(){var g=$(this).children("a.ad_select");var h=g.hasClass("checked");d.toggleCheckbox(h,g);if(d.isAllCheckboxChecked(d.localSelect.mobile)){d.toggleCheckbox(false,d.globalSelect.mobile);d.toggleCheckbox(false,d.globalSelect.desktop);d.toggleCheckbox(false,d.globalSelect.sticky)}else{if(d.isAllCheckboxUnchecked(d.localSelect.desktop)){d.toggleCheckbox(true,d.globalSelect.desktop);d.toggleCheckbox(true,d.globalSelect.mobile);d.toggleCheckbox(true,d.globalSelect.sticky)}else{d.toggleCheckbox("partial",d.globalSelect.desktop);d.toggleCheckbox("partial",d.globalSelect.mobile);d.toggleCheckbox("partial",d.globalSelect.sticky)}}d.toggleActionsButtons();d.updateCounterChecked();return false});$("body").on("touchend click",".ads_options button:enabled",function(){d.submitActionsForm(this.value)});$(".deleteAd").click(function(){d.deleteAd($(this).data("id"));return false});this.initFixedActions()};Store.prototype.updateCounterChecked=function(){var d=this.localSelect.desktop.length;var b=0;for(var c=0;c<d;c++){if($(this.localSelect.desktop[c]).hasClass("checked")){b++}}var g=b+" s&eacute;lectionn&eacute;e";var a=" annonce s&eacute;lectionn&eacute;e";if(b>0){if(b>1){g+="s";a=" annonces s&eacute;lectionn&eacute;es"}$(".selected_ads").removeClass("grey");$(".selected_ads_mobile").removeClass("grey");$(".selected_ads").addClass("blue");$(".selected_ads_mobile").addClass("blue")}else{$(".selected_ads").removeClass("blue");$(".selected_ads_mobile").removeClass("blue");$(".selected_ads").addClass("grey");$(".selected_ads_mobile").addClass("grey")}$(".selected_ads").html(g);$(".selected_ads_mobile").html(b+a)};Store.prototype.isAllCheckboxChecked=function(c){var b=c.length;for(var a=0;a<b;a++){if(!$(c[a]).hasClass("checked")){return false}}return true};Store.prototype.isAllCheckboxUnchecked=function(c){var b=c.length;for(var a=0;a<b;a++){if($(c[a]).hasClass("checked")){return false}}return true};Store.prototype.toggleAllCheckbox=function(a,d){var c=d.length;for(var b=0;b<c;b++){if(this.adsHidden.indexOf(d[b].getAttribute("id"))===-1){(a)?this.uncheck(d[b].getAttribute("data-name")):this.check(d[b].getAttribute("data-name"))}}};Store.prototype.toggleCheckbox=function(b,a){if(typeof b==="string"&&b==="partial"){this.partialCheck(a.attr("data-name"))}else{if(b){this.uncheck(a.attr("data-name"))}else{this.check(a.attr("data-name"))}}};Store.prototype.toggleActionsButtons=function(){var g=this.localSelect.desktop.length;var c=false,d={};var h=".ads_options .button-secondary";for(var b=0;b<g;b++){if($(this.localSelect.desktop[b]).hasClass("checked")){c=true;var a=$(this.localSelect.desktop[b]).attr("data-disabledoptions").split(",");a.forEach(function(j){if(j!=""){d[j]=true}})}}if(!c){$(h).addClass("disabled");$(h).attr("disabled","disabled")}else{$(h).removeClass("disabled");$(h).removeAttr("disabled");Object.keys(d).forEach(function(j){$('.cta button[value="'+j+'"]').addClass("disabled").attr("disabled","disabled")})}};Store.prototype.uncheck=function(a){$('[data-name="'+a+'"]').toggleClass("checked partial-checked",false).addClass("unchecked").parent().removeClass("selected")};Store.prototype.check=function(a){$('[data-name="'+a+'"]').toggleClass("unchecked partial-checked",false).addClass("checked").parent().addClass("selected")};Store.prototype.partialCheck=function(a){$('[data-name="'+a+'"]').toggleClass("checked unchecked",false).addClass("partial-checked")};Store.prototype.submitActionsForm=function(d){var c=document.getElementById("hidden_inputs");var a=document.createElement("input");a.hidden="hidden";a.name="cmd";a.value=d;c.appendChild(a);var g=this.localSelect.desktop.length;for(var b=0;b<g;b++){if($(this.localSelect.desktop[b]).hasClass("checked")){this.localSelect.desktop[b].nextSibling.value="on"}else{this.localSelect.desktop[b].nextSibling.value=""}}this.formAction.submit()};Store.prototype.findFieldValue=function(){this.fieldContainer=$("#searchboxCategories .searchbox_row.visible, .seachbox_categories, #query");var h={},d=this.fieldContainer.length;for(var c=0;c<d;c++){if($("input:checkbox",this.fieldContainer[c]).length){var a=$("input:checkbox",this.fieldContainer[c]),b=a.length;h=this.getFieldValue("input:checkbox",a,b,h)}if($("input:radio",this.fieldContainer[c]).length){var a=$("input:radio",this.fieldContainer[c]),b=a.length;h=this.getFieldValue("input:radio",a,b,h)}if($("input:not(:checkbox):not(:radio)",this.fieldContainer[c]).length){var a=$("input:not(:checkbox):not(:radio)",this.fieldContainer[c]),b=a.length;h=this.getFieldValue("input:not(:checkbox):not(:radio)",a,b,h)}if($("select",this.fieldContainer[c]).length){var g=$("select",this.fieldContainer[c]),j=g.length;h=this.getFieldValue("select",g,j,h)}}return h};Store.prototype.getFieldValue=function(c,b,a,g){for(var d=0;d<a;d++){var h=$(b[d]).attr("name");if((($(b[d]).val()!="")&&((c!="input:checkbox")&&(c!="input:radio")))||((c=="input:radio"&&$(b[d]).is(":checked")&&$(b[d]).val()!=""))){if(h=="c"){if($(b[d]).val()!="0"&&$(b[d]).val()!=""){g[h]=$(b[d]).val()}}else{g[h]=$(b[d]).val()}}else{if(c=="input:checkbox"&&$(b[d]).is(":checked")&&$(b[d]).val()!=""){if(g[h]==null){g[h]=[]}g[h].push($(b[d]).val())}}}return g};Store.prototype.initFixedActions=function(){var c=$(".ads_actions");var b=$(".cta");var a=$(".headerContent");var g=function(){return b.offset().top-($(window).scrollTop()+a.outerHeight())};var d=c.clone(true).addClass("clone hidden");d.find(".ads_info").addClass("small-hidden tiny-hidden").end().find(".ads_sort").addClass("hidden").end().find(".user_options").addClass("hidden").end().find(".pagination_sticky").removeClass("hidden").end().find(".ads_select_sticky_zone").removeClass("hidden").end().find("#ads_select_mobile").attr("id","ads_select_mobile_clone").end().find('[for="ads_select_mobile"]').attr("for","ads_select_mobile_clone").end().insertAfter(c);d.toggleClass("hidden",g()>0);$(window).on("scroll touchmove",function(){var h=g();d.toggleClass("hidden",h>0).css("top",Math.max(a.outerHeight()+h,0));a.css("top",Math.min(h,0))})};Store.prototype.deleteAd=function(a){document.getElementById("ad_delete_id").name="selected_ads["+a+"]";document.getElementById("ad_delete").submit()};var xt1=".leboncoin.fr",xtcode="",xt46="",xtdocl=false,xtud="undefined",xt2="0",xt3=3650,xt4=new Array;xt4.sec="20";xt4.rss="20";xt4.epr="20";xt4.erec="20";xt4.adi="20";xt4.adc="20";xt4.al="20";xt4.es="20";xt4.ad="20";var xt5=30,xw=window,xd=document,xtg=navigator,xtv=(xw.xtczv!=null)?"34001-"+xw.xtczv:"34001",xt1=(xw.xtdmc!=null&&xw.xtdmc!="")?";domain="+xw.xtdmc:(xt1!="")?";domain="+xw.xt1:"",xt6=(xw.xtnv!=null)?xw.xtnv:xd,xt7=(xw.xtsd!=null)?xw.xtsd:"http://log",xt8=(xw.xtsite!=null)?xw.xtsite:0,xt9=(xw.xtn2!=null)?"&s2="+xw.xtn2:"",xtp=(xw.xtpage!=null)?xw.xtpage:"",xt10=((xw.xto_force!=null)&&(xw.xto_force!=""))?xw.xto_force:null,xt11=(xt8=="redirect")?true:false,xtdi=((xw.xtdi!=null)&&(xw.xtdi!=""))?"&di="+xw.xtdi:"",xt12=((xw.xtidp!=null)&&(xw.xtidp!=""))?"&idpays="+xw.xtidp:"",xt13=((xw.xtidprov!=null)&&(xw.xtidprov!=""))?"&idprov="+xw.xtidprov:"",xtm=(xw.xtparam!=null)?xw.xtparam:"",xtclzone=(xw.scriptOnClickZone!=null)?xw.scriptOnClickZone:0,xt15=(xw.xt_orderid!=null)?xw.xt_orderid:"",xt17=(xw.xtidcart!=null)?xw.xtidcart:"",xt44=(xw.xtprod_load!=null)?"&pdtl="+xw.xtprod_load:"",xt47=(xw.xtcode!="")?"&code="+xw.xtcode:"";if(xw.addEventListener){xw.addEventListener("unload",function(){},false)}else{if(xw.attachEvent){xw.attachEvent("onunload",function(){})}}var xt18=((xw.roimt!=null)&&(xw.roimt!="")&&(xtm.indexOf("&roimt",0)<0))?"&roimt="+xw.roimt:"",xtmc=((xw.xtmc!=null)&&(xw.xtmc!="")&&(xtm.indexOf("&mc",0)<0))?"&mc="+xw.xtmc:"",xtac=((xw.xtac!=null)&&(xw.xtac!="")&&(xtm.indexOf("&ac",0)<0))?"&ac="+xw.xtac:"",xtan=((xw.xtan!=null)&&(xw.xtan!="")&&(xtm.indexOf("&an",0)<0))?"&an="+xw.xtan:"",xtnp=((xw.xtnp!=null)&&(xw.xtnp!="")&&(xtm.indexOf("&np",0)<0))?"&np="+xw.xtnp:"",xt19=((xw.xtprm!=null)&&(xtm.indexOf("&x",0)<0))?xw.xtprm:"";xtm+=xt18+xtmc+xtac+xtan+xtnp+xt19;try{var xt20=top.document.referrer}catch(e){var xt20=xt6.referrer}var xts=screen,xt21=new Date(),xt22=xt21.getTime()/(1000*3600);function xtclURL(a){return a.replace(/%3C/g,"<").replace(/%3E/g,">").replace(/[<>]/g,"")}function xtf1(c,b){b=((b!=null)&&(b!=xtud))?b:"0";var a=c+"=",g=0;while(g<xd.cookie.length){var d=g+a.length;if(xd.cookie.substring(g,d)==a){return xtf2(d,b)}g=xd.cookie.indexOf(" ",g)+1;if(g==0){break}}return null}function xtf2(b,a){var c=xd.cookie.indexOf(";",b);if(c==-1){c=xd.cookie.length}if(a!="1"){return unescape(xtclURL(xd.cookie.substring(b,c)))}else{return xtclURL(xd.cookie.substring(b,c))}}function wck(g,d,c,b,a){d=(a==0)?d:escape(d);xd.cookie=g+"="+d+";expires="+c.toGMTString()+";path=/"+b}function xtf3(k,b){try{xtdeb=xt6.location.href}catch(j){xtdeb=xw.location.href}if((b==null)||(b==xtud)){var a=xtclURL(xtdeb.toLowerCase().replace(/%3d/g,"="))}else{var a=b}var h=a.indexOf(k+"=");if(h>0){var g=a.substring(1,a.length),d=g.substring(g.indexOf(k+"="),g.length),c=d.indexOf("&");if(c==-1){c=d.indexOf("%26")}if(c==-1){c=d.length}return d.substring(d.indexOf("=")+1,c)}else{return null}}function xt_med(g,j,h,d,c,b,a,k){xt_ajout=((g=="F")&&((d==null)||(d==xtud)))?"":(g=="M")?"&a="+d+"&m1="+c+"&m2="+b+"&m3="+a+"&m4="+k:"&clic="+d;xtf4(g,"&s2="+j+"&p="+h+xt_ajout,c,b)}function xt_ad(c,b,a){xtf4("AT","&atc="+c+"&type=AT",b,a)}function xt_click(j,m,k,l,d,c,a){xt_ajout=((m=="F")&&((d==null)||(d==xtud)))?"":"&clic="+d;xtf4(m,"&s2="+k+"&p="+l+xt_ajout,c,a);var h=null,b=null;if(j.nodeName!="A"){var g=j.parentNode;while(g){if(g.nodeName=="A"){b=g.href;h=g.target||"_self";break}g=g.parentNode}}else{b=j.href;h=j.target||"_self"}if((h!=null)&&(h!="_blank")&&(h!="_search")){setTimeout("(xw.open('"+b+"','"+h+"')).focus();",500);return false}return true}function xt_rm(c,b,a,r,q,o,m,k,h,p,n,l,j,g){var d="&p="+a+"&s2="+b+"&type="+c+"&a="+r;d+=((q!=null)&&(q!="0"))?"&"+q:"";d+=(m!=null)?"&m1="+m+"&m2="+k+"&m3="+h+"&m4="+p+"&m5="+n+"&m6="+l+"&m7="+j+"&m8="+g+"&prich="+xtp+"&s2rich="+xw.xtn2:"";xtf4(c,d);if((o!=null)&&(o!="0")&&((r=="play")||(r=="refresh"))){xtrmdl=(Math.floor(o)>1500)?1500000:(Math.floor(o)<5)?5000:Math.floor(o)*1000;xtoid=xw.setTimeout("xt_rm('"+c+"','"+b+"','"+a+"','refresh','0','"+o+"')",xtrmdl)}else{if(((r=="pause")||(r=="stop"))&&(xw.xtoid!=null)){xw.clearTimeout(xtoid)}}}function xtf4(d,c,b,a){if(((xtclzone==0)||(xtclzone==3)||(d!="C"))&&(d!="P")){xt_img=new Image();var g=new Date();xt_im=xt7+".xiti.com/hit.xiti?s="+xt8+c+"&hl="+g.getHours()+"x"+g.getMinutes()+"x"+g.getSeconds();if(parseFloat(xtg.appVersion)>=4){xt_im+="&r="+xts.width+"x"+xts.height+"x"+xts.pixelDepth+"x"+xts.colorDepth}xt_img.src=xt_im}if((b!=null)&&(b!=xtud)&&(d!="M")){if((a=="")||(a==null)){xd.location=b}else{xfen=window.open(b,"xfen","");xfen.focus()}}else{return}}function f_nb(b){b=b-Math.floor(b/100)*100;if(b<10){return"0"+b}else{return b}}var xtidpg=f_nb(xt21.getHours())+""+f_nb(xt21.getMinutes())+""+f_nb(xt21.getSeconds())+""+Math.floor(Math.random()*9999999),xt23=0,xt16="",xt43=0;function xt_addProduct(b,h,c,a,d,g){xt23++;xt16+="&pdt"+xt23+"=";xt16+=((b!=null)&&(b!="")&&(b!=xtud))?b+"::":"";xt16+=((h!=null)&&(h!="")&&(h!=xtud))?h:"";xt16+=((c!=null)&&(c!="")&&(c!=xtud))?"&qte"+xt23+"="+c:"";xt16+=((a!=null)&&(a!="")&&(a!=xtud))?"&mt"+xt23+"="+a:"";xt16+=((d!=null)&&(d!="")&&(d!=xtud))?"&dsc"+xt23+"="+d:"";xt16+=((g!=null)&&(g!="")&&(g!=xtud))?"&pcode"+xt23+"="+g:""}function xt_addProduct_v2(l,j,b,d,c,h,k,a,g){xt23++;xt16+="&pdt"+xt23+"=";xt16+=((l!=null)&&(l!="")&&(l!=xtud))?l+"::":"";xt16+=((j!=null)&&(j!="")&&(j!=xtud))?j:"";xt16+=((b!=null)&&(b!="")&&(b!=xtud))?"&qte"+xt23+"="+b:"";xt16+=((d!=null)&&(d!="")&&(d!=xtud))?"&mt"+xt23+"="+d:"";xt16+=((c!=null)&&(c!="")&&(c!=xtud))?"&mtht"+xt23+"="+c:"";xt16+=((h!=null)&&(h!="")&&(h!=xtud))?"&dsc"+xt23+"="+h:"";xt16+=((k!=null)&&(k!="")&&(k!=xtud))?"&dscht"+xt23+"="+k:"";xt16+=((g!=null)&&(g!="")&&(g!=xtud))?"&roimt"+xt23+"="+g:"";xt16+=((a!=null)&&(a!="")&&(a!=xtud))?"&pcode"+xt23+"="+a:""}function xt_addProduct_load(b,c,a){if(c!=""){xt43++;xt44+=(xt43==1)?"&pdtl=":"|";xt44+=((b!=null)&&(b!="")&&(b!=xtud))?b+"::":"";xt44+=((c!=null)&&(c!="")&&(c!=xtud))?c:"";xt44+=((a!=null)&&(a!="")&&(a!=xtud))?";"+a:""}}try{xt_cart()}catch(e){xt16=""}function xt_ParseUrl(a,o,n,l){var k=new Array;if(o.length>0){var m=1600-n.length,c=0,b=0,d="",g=0;while((o.length>m)&&(d!=o)&&(g==0)){d=o;var h="&pdt";if(o.lastIndexOf(h,m)<=0){if(o.lastIndexOf("&",m)<=0){g=1}else{h="&"}}if(g==1){k[c]=o.substring(0,1600)+"&mherr=1"}else{k[c]=o.substring(0,o.lastIndexOf(h,m));o=o.substring(o.lastIndexOf(h,m),o.length);c++;m=1600}}if(g==0){k[c]=o}for(b=0;b<=c;b++){if(c>0){k[b]+=((xt15!="")||(xt17!=""))?"&idhit="+(b+1)+"-"+(c+1)+"-"+xt8+"-"+xt15+"-"+xt17:"&mh="+(b+1)+"-"+(c+1)+"-"+xtidpg}if(b>0){k[b]=((xt15!="")||(xt17!=""))?"s="+xt8+"&cmd="+xt15+"&idcart="+xt17+k[b]:"s="+xt8+k[b]}else{k[b]+=n}if((l=="")||(l==null)){xd.write('<img width="1" height="1" src="'+a+k[b]+'">')}else{xt_img=new Image();xt_img.src=a+k[b]}}}}function xt_ParseUrl2(a,k,n,l){var h=new Array;if(n.length>0){var m=1600,c=0,b=0,d="";while(n.length>m&&d!=n){d=n;var g="&p";h[c]=n.substring(0,n.lastIndexOf(g,m));n=n.substring(n.lastIndexOf(g,m),n.length);c++}h[c]=n;for(b=0;b<=c;b++){if((l=="")||(l==null)){xd.write('<img width="1" height="1" src="'+a+k+h[b]+'">')}else{xt_img=new Image();xt_img.src=a+k+h[b]}}}}if((xt8!=0)||(xt11)){var xtpm="xtor"+xt8,xtpmd="xtdate"+xt8,xtpmc="xtocl"+xt8,xtpan="xtan"+xt8,xtpant="xtant"+xt8,xt24=xtf3("xtor"),xtdtgo=xtf3("xtdt"),xt25=xtf3("xtref"),xt26=xtf3("xtan"),xt27=xtf3("an",xtm),xt28=xtf3("ac",xtm),xtocl=(xtf1(xtpmc)!=null)?xtf1(xtpmc):"$",xtord=(xtf1("xtgo")=="0")?xtf1("xtord"):null,xtgord=(xtf1("xtgo")!=null)?xtf1("xtgo"):"0",xtvrn=(xtf1("xtvrn")!=null)?xtf1("xtvrn"):"$",xtgmt=xt21.getTime()/60000,xtgo=(xtdtgo!=null)?(((xtgmt-xtdtgo)<30)&&(xtgmt-xtdtgo)>=0)?"2":"1":xtgord,xtpgt=(xtgord=="1")?"&pgt="+xtf1("xtord"):((xtgo=="1")&&(xt24!=null))?"&pgt="+xt24:"",xto=(xt10!=null)?xt10:((xt24!=null)&&(xtgo=="0"))?xt24:(!xt11)?xtord:null;xto=((xtocl.indexOf("$"+xto+"$")<0)||(xtocl=="$"))?xto:null;var xtock=(xtgo=="0")?xto:(xtgord=="2")?xtf1("xtord"):(xtgo=="2")?xt24:null;if(xtock!=null){tmpxto=xtock.substring(0,xtock.indexOf("-"));var xtdrm=xt4[tmpxto]}else{xtdrm="1"}if((xt26==null)&&(!xt11)){xt26=xtf1("xtanrd")}var xtanc=xtf1(xtpan),xtanct=xtf1(xtpant),xtxp=new Date(),xt29=new Date(),xt30=new Date();if(!xt11){xtxp.setTime(xtxp.getTime()+(xtdrm*24*3600*1000))}else{xtxp.setTime(xtxp.getTime()+(xt5*1000))}xt30.setTime(xt30.getTime()+1800000);xt29.setTime(xt29.getTime()+(xt3*24*3600*1000));var xt31=(xt26!=null)?xt26.indexOf("-"):0,xtan2=(xt27!=null)?"":((xt26!=null)&&(xt31>0))?"&ac="+xt26.substring(0,xt31)+"&ant=0&an="+xt26.substring(xt31+1,xt26.length):(xtanc!=null)?"&anc="+xtanc+"&anct="+xtanct:"",xt32=(xtvrn.indexOf("$"+xt8+"$")<0)?"&vrn=1":"",xt35=((xtf3("xtatc")!=null)&&(xtf3("atc",xtm)==null))?"&atc="+xtf3("xtatc"):"";if(xt32!=""){wck("xtvrn",xtvrn+xt8+"$",xt29,xt1,0)}xt32+=(xto==null)?"":"&xto="+xto;xt32+=xtan2+xtpgt+xt35;if(xt27!=null){wck(xtpan,xt28+"-"+xt27,xt29,xt1,1);wck(xtpant,"1",xt29,xt1,1)}else{if((xt26!=null)&&(xtanct!="1")){wck(xtpan,xt26,xt29,xt1,1);wck(xtpant,"0",xt29,xt1,1)}}var xtor=xtf1(xtpm),xtor_duree=xtf1(xtpmd),xtdate2=(xtor_duree!=null)?new Date(xtor_duree):new Date(),xt34=xtdate2.getTime()/(1000*3600),xtecart=(Math.floor(xt22-xt34)>=0)?Math.floor(xt22-xt34):0;xt32+=(xtor==null)?"":"&xtor="+xtor+"&roinbh="+xtecart;var xt33="",Xt_r=(xt25!=null)?xt25.replace(/[<>]/g,""):xtf1("xtref");if(Xt_r==null){Xt_r=xt20.replace(/[<>]/g,"")}if(!xt11){if((xtock!=null)&&((xtocl.indexOf("$"+escape(xtock)+"$")<0)||(xtocl=="$"))){wck(xtpmc,xtocl+xtock+"$",xt30,xt1,1)}xt33+=xtg.javaEnabled()?"&jv=1":"&jv=0";var xtnav=xtg.appName+" "+xtg.appVersion,xtIE=(xtnav.indexOf("MSIE"));if(xtIE>=0){var xtvers=parseInt(xtnav.substr(xtIE+5));xtIE=true}else{xtvers=parseFloat(xtg.appVersion);xtIE=false}var xtnet=(xtnav.indexOf("Netscape")>=0),xtmac=(xtnav.indexOf("Mac")>=0),xtOP=(xtg.userAgent.indexOf("Opera")>=0);if((xtIE)&&(xtvers>=5)&&(!xtmac)&&(!xtOP)&&(!xt11)){xd.body.addBehavior("#default#clientCaps");var xtconn="&cn="+xd.body.connectionType;xtconn+="&ul="+xd.body.UserLanguage;xd.body.addBehavior("#default#homePage");var xthome=(xd.body.isHomePage(location.href))?"&hm=1":"&hm=0",xtresr="&re="+xd.body.offsetWidth+"x"+xd.body.offsetHeight}else{var xtconn="",xthome="";if(xtvers>=5){xtresr="&re="+xw.innerWidth+"x"+xw.innerHeight}else{xtresr=""}}if((xtnet)&&(xtvers>=4)||(xtOP)){var xtlang="&lng="+xtg.language}else{if((xtIE)&&(xtvers>=4)&&(!xtOP)){var xtlang="&lng="+xtg.userLanguage}else{xtlang=""}}wck("xtord","",xt21,xt1,1);if(xtock!=null){if(((xtor==null)&&(xt2!="1"))||(xt2=="1")){wck(xtpm,xtock,xtxp,xt1,1);wck(xtpmd,xt21,xtxp,xt1,0)}}var xthl="&hl="+xt21.getHours()+"x"+xt21.getMinutes()+"x"+xt21.getSeconds(),xt45=(xtdocl)?"&docl="+encodeURIComponent(xt6.location.href.replace(/&/g,"#ec#")):"",Xt_param="s="+xt8+xt9+"&p="+xtp+xthl+xtdi+xt12+xt13+xt32+xt45+xt47+xtm+xtconn+xthome+xtlang+"&vtag="+xtv+"&idp="+xtidpg;var xtvalCZ=xtf1("xtvalCZ",1);if(xtvalCZ!=null){Xt_param+=xtvalCZ;var xtdateo=new Date();xtdateo.setTime(xtdateo.getTime()-3600000);wck("xtvalCZ",xtvalCZ,xtdateo,xt1,1)}var Xt_id=xt7+".xiti.com/hit.xiti?";if(xtvers>=4){xt33+="&r="+xts.width+"x"+xts.height+"x"+xts.pixelDepth+"x"+xts.colorDepth}Xt_param+=xt33+xtresr+xt16;var Xt_i=Xt_id+Xt_param+"&ref="+Xt_r.replace(/&/g,"$");xt_ParseUrl(Xt_id,Xt_param,"&ref="+Xt_r.replace(/&/g,"$"),xt46);if(xt44!=""){xt_ParseUrl2(Xt_id,"s="+xt8+"&type=PDT"+xthl,xt44)}}else{wck("xtgo",xtgo,xtxp,xt1,1);if(xt24!=null){wck("xtord",xt24,xtxp,xt1,1)}if(xt26!=null){wck("xtanrd",xt26,xtxp,xt1,1)}if(Xt_r!=""){wck("xtref",Xt_r.replace(/&/g,"$"),xtxp,xt1,0)}if(xw.xtloc!=null){xt6.location=xw.xtloc}}
/* jQuery UI - v1.11.4 - 2015-07-24
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, datepicker.js
* Copyright 2015 jQuery Foundation and other contributors; Licensed MIT */
}(function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a(jQuery)})(function(p){function x(h,l){var B,d,A,z=h.nodeName.toLowerCase();return"area"===z?(B=h.parentNode,d=B.name,h.href&&d&&"map"===B.nodeName.toLowerCase()?(A=p("img[usemap='#"+d+"']")[0],!!A&&k(A)):!1):(/^(input|select|textarea|button|object)$/.test(z)?!h.disabled:"a"===z?h.href||l:l)&&k(h)}function k(a){return p.expr.filters.visible(a)&&!p(a).parents().addBack().filter(function(){return"hidden"===p.css(this,"visibility")}).length}function y(h){for(var d,a;h.length&&h[0]!==document;){if(d=h.css("position"),("absolute"===d||"relative"===d||"fixed"===d)&&(a=parseInt(h.css("zIndex"),10),!isNaN(a)&&0!==a)){return a}h=h.parent()}return 0}function g(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},p.extend(this._defaults,this.regional[""]),this.regional.en=p.extend(!0,{},this.regional[""]),this.regional["en-US"]=p.extend(!0,{},this.regional.en),this.dpDiv=v(p("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function v(d){var a="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return d.delegate(a,"mouseout",function(){p(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&p(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&p(this).removeClass("ui-datepicker-next-hover")}).delegate(a,"mouseover",c)}function c(){p.datepicker._isDisabledDatepicker(q.inline?q.dpDiv.parent()[0]:q.input[0])||(p(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),p(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&p(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&p(this).addClass("ui-datepicker-next-hover"))}function b(d,a){p.extend(d,a);for(var h in a){null==a[h]&&(d[h]=a[h])}return d}p.ui=p.ui||{},p.extend(p.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),p.fn.extend({scrollParent:function(l){var h=this.css("position"),o="absolute"===h,r=l?/(auto|scroll|hidden)/:/(auto|scroll)/,d=this.parents().filter(function(){var a=p(this);return o&&"static"===a.css("position")?!1:r.test(a.css("overflow")+a.css("overflow-y")+a.css("overflow-x"))}).eq(0);return"fixed"!==h&&d.length?d:p(this[0].ownerDocument||document)},uniqueId:function(){var a=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++a)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&p(this).removeAttr("id")})}}),p.extend(p.expr[":"],{data:p.expr.createPseudo?p.expr.createPseudo(function(a){return function(d){return !!p.data(d,a)}}):function(d,a,h){return !!p.data(d,h[3])},focusable:function(a){return x(a,!isNaN(p.attr(a,"tabindex")))},tabbable:function(a){var d=p.attr(a,"tabindex"),h=isNaN(d);return(h||d>=0)&&x(a,!h)}}),p("<a>").outerWidth(1).jquery||p.each(["Width","Height"],function(l,h){function r(B,o,C,n){return p.each(A,function(){o-=parseFloat(p.css(B,"padding"+this))||0,C&&(o-=parseFloat(p.css(B,"border"+this+"Width"))||0),n&&(o-=parseFloat(p.css(B,"margin"+this))||0)}),o}var A="Width"===h?["Left","Right"]:["Top","Bottom"],d=h.toLowerCase(),z={innerWidth:p.fn.innerWidth,innerHeight:p.fn.innerHeight,outerWidth:p.fn.outerWidth,outerHeight:p.fn.outerHeight};p.fn["inner"+h]=function(a){return void 0===a?z["inner"+h].call(this):this.each(function(){p(this).css(d,r(this,a)+"px")})},p.fn["outer"+h]=function(a,o){return"number"!=typeof a?z["outer"+h].call(this,a):this.each(function(){p(this).css(d,r(this,a,!0,o)+"px")})}}),p.fn.addBack||(p.fn.addBack=function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}),p("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(p.fn.removeData=function(a){return function(d){return arguments.length?a.call(this,p.camelCase(d)):a.call(this)}}(p.fn.removeData)),p.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),p.fn.extend({focus:function(a){return function(d,h){return"number"==typeof d?this.each(function(){var l=this;setTimeout(function(){p(l).focus(),h&&h.call(l)},d)}):a.apply(this,arguments)}}(p.fn.focus),disableSelection:function(){var a="onselectstart" in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(a+".ui-disableSelection",function(d){d.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(d){if(void 0!==d){return this.css("zIndex",d)}if(this.length){for(var a,h,l=p(this[0]);l.length&&l[0]!==document;){if(a=l.css("position"),("absolute"===a||"relative"===a||"fixed"===a)&&(h=parseInt(l.css("zIndex"),10),!isNaN(h)&&0!==h)){return h}l=l.parent()}}return 0}}),p.ui.plugin={add:function(l,h,o){var r,d=p.ui[l].prototype;for(r in o){d.plugins[r]=d.plugins[r]||[],d.plugins[r].push([h,o[r]])}},call:function(r,l,h,o){var z,d=r.plugins[l];if(d&&(o||r.element[0].parentNode&&11!==r.element[0].parentNode.nodeType)){for(z=0;d.length>z;z++){r.options[d[z][0]]&&d[z][1].apply(r.element,h)}}}};var m=0,j=Array.prototype.slice;p.cleanData=function(a){return function(h){var l,z,d;for(d=0;null!=(z=h[d]);d++){try{l=p._data(z,"events"),l&&l.remove&&p(z).triggerHandler("remove")}catch(r){}}a(h)}}(p.cleanData),p.widget=function(F,C,G){var A,E,z,d,D={},B=F.split(".")[0];return F=F.split(".")[1],A=B+"-"+F,G||(G=C,C=p.Widget),p.expr[":"][A.toLowerCase()]=function(a){return !!p.data(a,A)},p[B]=p[B]||{},E=p[B][F],z=p[B][F]=function(h,a){return this._createWidget?(arguments.length&&this._createWidget(h,a),void 0):new z(h,a)},p.extend(z,E,{version:G.version,_proto:p.extend({},G),_childConstructors:[]}),d=new C,d.options=p.widget.extend({},d.options),p.each(G,function(a,h){return p.isFunction(h)?(D[a]=function(){var l=function(){return C.prototype[a].apply(this,arguments)},o=function(n){return C.prototype[a].apply(this,n)};return function(){var s,r=this._super,n=this._superApply;return this._super=l,this._superApply=o,s=h.apply(this,arguments),this._super=r,this._superApply=n,s}}(),void 0):(D[a]=h,void 0)}),z.prototype=p.widget.extend(d,{widgetEventPrefix:E?d.widgetEventPrefix||F:F},D,{constructor:z,namespace:B,widgetName:F,widgetFullName:A}),E?(p.each(E._childConstructors,function(h,a){var l=a.prototype;p.widget(l.namespace+"."+l.widgetName,z,a._proto)}),delete E._childConstructors):C._childConstructors.push(z),p.widget.bridge(F,z),z},p.widget.extend=function(l){for(var h,r,A=j.call(arguments,1),d=0,z=A.length;z>d;d++){for(h in A[d]){r=A[d][h],A[d].hasOwnProperty(h)&&void 0!==r&&(l[h]=p.isPlainObject(r)?p.isPlainObject(l[h])?p.widget.extend({},l[h],r):p.widget.extend({},r):r)}}return l},p.widget.bridge=function(d,a){var h=a.prototype.widgetFullName||d;p.fn[d]=function(A){var l="string"==typeof A,z=j.call(arguments,1),s=this;return l?this.each(function(){var o,n=p.data(this,h);return"instance"===A?(s=n,!1):n?p.isFunction(n[A])&&"_"!==A.charAt(0)?(o=n[A].apply(n,z),o!==n&&void 0!==o?(s=o&&o.jquery?s.pushStack(o.get()):o,!1):void 0):p.error("no such method '"+A+"' for "+d+" widget instance"):p.error("cannot call methods on "+d+" prior to initialization; attempted to call method '"+A+"'")}):(z.length&&(A=p.widget.extend.apply(null,[A].concat(z))),this.each(function(){var n=p.data(this,h);n?(n.option(A||{}),n._init&&n._init()):p.data(this,h,new a(A,this))})),s}},p.Widget=function(){},p.Widget._childConstructors=[],p.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(d,a){a=p(a||this.defaultElement||this)[0],this.element=p(a),this.uuid=m++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=p(),this.hoverable=p(),this.focusable=p(),a!==this&&(p.data(a,this.widgetFullName,this),this._on(!0,this.element,{remove:function(h){h.target===a&&this.destroy()}}),this.document=p(a.style?a.ownerDocument:a.document||a),this.window=p(this.document[0].defaultView||this.document[0].parentWindow)),this.options=p.widget.extend({},this.options,this._getCreateOptions(),d),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:p.noop,_getCreateEventData:p.noop,_create:p.noop,_init:p.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(p.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:p.noop,widget:function(){return this.element},option:function(l,h){var r,A,d,z=l;if(0===arguments.length){return p.widget.extend({},this.options)}if("string"==typeof l){if(z={},r=l.split("."),l=r.shift(),r.length){for(A=z[l]=p.widget.extend({},this.options[l]),d=0;r.length-1>d;d++){A[r[d]]=A[r[d]]||{},A=A[r[d]]}if(l=r.pop(),1===arguments.length){return void 0===A[l]?null:A[l]}A[l]=h}else{if(1===arguments.length){return void 0===this.options[l]?null:this.options[l]}z[l]=h}}return this._setOptions(z),this},_setOptions:function(d){var a;for(a in d){this._setOption(a,d[a])}return this},_setOption:function(d,a){return this.options[d]=a,"disabled"===d&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!a),a&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(l,h,o){var r,d=this;"boolean"!=typeof l&&(o=h,h=l,l=!1),o?(h=r=p(h),this.bindings=this.bindings.add(h)):(o=h,h=this.element,r=this.widget()),p.each(o,function(A,C){function B(){return l||d.options.disabled!==!0&&!p(this).hasClass("ui-state-disabled")?("string"==typeof C?d[C]:C).apply(d,arguments):void 0}"string"!=typeof C&&(B.guid=C.guid=C.guid||B.guid||p.guid++);var z=A.match(/^([\w:-]*)\s*(.*)$/),a=z[1]+d.eventNamespace,n=z[2];n?r.delegate(n,a,B):h.bind(a,B)})},_off:function(d,a){a=(a||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,d.unbind(a).undelegate(a),this.bindings=p(this.bindings.not(d).get()),this.focusable=p(this.focusable.not(d).get()),this.hoverable=p(this.hoverable.not(d).get())},_delay:function(l,d){function a(){return("string"==typeof l?h[l]:l).apply(h,arguments)}var h=this;return setTimeout(a,d||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a),this._on(a,{mouseenter:function(d){p(d.currentTarget).addClass("ui-state-hover")},mouseleave:function(d){p(d.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a),this._on(a,{focusin:function(d){p(d.currentTarget).addClass("ui-state-focus")},focusout:function(d){p(d.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(l,h,r){var A,d,z=this.options[l];if(r=r||{},h=p.Event(h),h.type=(l===this.widgetEventPrefix?l:this.widgetEventPrefix+l).toLowerCase(),h.target=this.element[0],d=h.originalEvent){for(A in d){A in h||(h[A]=d[A])}}return this.element.trigger(h,r),!(p.isFunction(z)&&z.apply(this.element[0],[h].concat(r))===!1||h.isDefaultPrevented())}},p.each({show:"fadeIn",hide:"fadeOut"},function(d,a){p.Widget.prototype["_"+d]=function(l,B,h){"string"==typeof B&&(B={effect:B});var A,z=B?B===!0||"number"==typeof B?a:B.effect||a:d;B=B||{},"number"==typeof B&&(B={duration:B}),A=!p.isEmptyObject(B),B.complete=h,B.delay&&l.delay(B.delay),A&&p.effects&&p.effects.effect[z]?l[d](B):z!==d&&l[z]?l[z](B.duration,B.easing,h):l.queue(function(n){p(this)[d](),h&&h.call(l[0]),n()})}}),p.widget;var w=!1;p(document).mouseup(function(){w=!1}),p.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(d){return a._mouseDown(d)}).bind("click."+this.widgetName,function(d){return !0===p.data(d.target,a.widgetName+".preventClickEvent")?(p.removeData(d.target,a.widgetName+".preventClickEvent"),d.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(d){if(!w){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(d),this._mouseDownEvent=d;var a=this,h=1===d.which,l="string"==typeof this.options.cancel&&d.target.nodeName?p(d.target).closest(this.options.cancel).length:!1;return h&&!l&&this._mouseCapture(d)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){a.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(d)&&this._mouseDelayMet(d)&&(this._mouseStarted=this._mouseStart(d)!==!1,!this._mouseStarted)?(d.preventDefault(),!0):(!0===p.data(d.target,this.widgetName+".preventClickEvent")&&p.removeData(d.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(n){return a._mouseMove(n)},this._mouseUpDelegate=function(n){return a._mouseUp(n)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),d.preventDefault(),w=!0,!0)):!0}},_mouseMove:function(a){if(this._mouseMoved){if(p.ui.ie&&(!document.documentMode||9>document.documentMode)&&!a.button){return this._mouseUp(a)}if(!a.which){return this._mouseUp(a)}}return(a.which||a.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(a),a.preventDefault()):(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==!1,this._mouseStarted?this._mouseDrag(a):this._mouseUp(a)),!this._mouseStarted)},_mouseUp:function(a){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,a.target===this._mouseDownEvent.target&&p.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a)),w=!1,!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return !0}}),function(){function M(h,d,a){return[parseFloat(h[0])*(A.test(h[0])?d/100:1),parseFloat(h[1])*(A.test(h[1])?a/100:1)]}function E(d,a){return parseInt(p.css(d,a),10)||0}function N(d){var a=d[0];return 9===a.nodeType?{width:d.width(),height:d.height(),offset:{top:0,left:0}}:p.isWindow(a)?{width:d.width(),height:d.height(),offset:{top:d.scrollTop(),left:d.scrollLeft()}}:a.preventDefault?{width:0,height:0,offset:{top:a.pageY,left:a.pageX}}:{width:d.outerWidth(),height:d.outerHeight(),offset:d.offset()}}p.ui=p.ui||{};var C,J,B=Math.max,z=Math.abs,F=Math.round,D=/left|center|right/,K=/top|center|bottom/,H=/[\+\-]\d+(\.[\d]+)?%?/,I=/^\w+/,A=/%$/,G=p.fn.position;p.position={scrollbarWidth:function(){if(void 0!==C){return C}var l,h,n=p("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),d=n.children()[0];return p("body").append(n),l=d.offsetWidth,n.css("overflow","scroll"),h=d.offsetWidth,l===h&&(h=n[0].clientWidth),n.remove(),C=l-h},getScrollInfo:function(l){var h=l.isWindow||l.isDocument?"":l.element.css("overflow-x"),o=l.isWindow||l.isDocument?"":l.element.css("overflow-y"),r="scroll"===h||"auto"===h&&l.width<l.element[0].scrollWidth,d="scroll"===o||"auto"===o&&l.height<l.element[0].scrollHeight;return{width:d?p.position.scrollbarWidth():0,height:r?p.position.scrollbarWidth():0}},getWithinInfo:function(d){var a=p(d||window),h=p.isWindow(a[0]),l=!!a[0]&&9===a[0].nodeType;return{element:a,isWindow:h,isDocument:l,offset:a.offset()||{left:0,top:0},scrollLeft:a.scrollLeft(),scrollTop:a.scrollTop(),width:h||l?a.width():a.outerWidth(),height:h||l?a.height():a.outerHeight()}}},p.fn.position=function(d){if(!d||!d.of){return G.apply(this,arguments)}d=p.extend({},d);var a,h,r,S,s,O,R=p(d.of),P=p.position.getWithinInfo(d.within),Q=p.position.getScrollInfo(P),o=(d.collision||"flip").split(" "),l={};return O=N(R),R[0].preventDefault&&(d.at="left top"),h=O.width,r=O.height,S=O.offset,s=p.extend({},S),p.each(["my","at"],function(){var U,T,n=(d[this]||"").split(" ");1===n.length&&(n=D.test(n[0])?n.concat(["center"]):K.test(n[0])?["center"].concat(n):["center","center"]),n[0]=D.test(n[0])?n[0]:"center",n[1]=K.test(n[1])?n[1]:"center",U=H.exec(n[0]),T=H.exec(n[1]),l[this]=[U?U[0]:0,T?T[0]:0],d[this]=[I.exec(n[0])[0],I.exec(n[1])[0]]}),1===o.length&&(o[1]=o[0]),"right"===d.at[0]?s.left+=h:"center"===d.at[0]&&(s.left+=h/2),"bottom"===d.at[1]?s.top+=r:"center"===d.at[1]&&(s.top+=r/2),a=M(l.at,h,r),s.left+=a[0],s.top+=a[1],this.each(function(){var ac,T,ab=p(this),Y=ab.outerWidth(),Z=ab.outerHeight(),V=E(this,"marginLeft"),aa=E(this,"marginTop"),n=Y+V+E(this,"marginRight")+Q.width,U=Z+aa+E(this,"marginBottom")+Q.height,W=p.extend({},s),X=M(l.my,ab.outerWidth(),ab.outerHeight());"right"===d.my[0]?W.left-=Y:"center"===d.my[0]&&(W.left-=Y/2),"bottom"===d.my[1]?W.top-=Z:"center"===d.my[1]&&(W.top-=Z/2),W.left+=X[0],W.top+=X[1],J||(W.left=F(W.left),W.top=F(W.top)),ac={marginLeft:V,marginTop:aa},p.each(["left","top"],function(ae,ad){p.ui.position[o[ae]]&&p.ui.position[o[ae]][ad](W,{targetWidth:h,targetHeight:r,elemWidth:Y,elemHeight:Z,collisionPosition:ac,collisionWidth:n,collisionHeight:U,offset:[a[0]+X[0],a[1]+X[1]],my:d.my,at:d.at,within:P,elem:ab})}),d.using&&(T=function(ai){var af=S.left-W.left,ae=af+h-Y,ah=S.top-W.top,ad=ah+r-Z,ag={target:{element:R,left:S.left,top:S.top,width:h,height:r},element:{element:ab,left:W.left,top:W.top,width:Y,height:Z},horizontal:0>ae?"left":af>0?"right":"center",vertical:0>ad?"top":ah>0?"bottom":"middle"};Y>h&&h>z(af+ae)&&(ag.horizontal="center"),Z>r&&r>z(ah+ad)&&(ag.vertical="middle"),ag.important=B(z(af),z(ae))>B(z(ah),z(ad))?"horizontal":"vertical",d.using.call(this,ai,ag)}),ab.offset(p.extend(W,{using:T}))})},p.ui.position={fit:{left:function(R,T){var P,U=T.within,o=U.isWindow?U.scrollLeft:U.offset.left,S=U.width,d=R.left-T.collisionPosition.marginLeft,Q=o-d,O=d+T.collisionWidth-S-o;T.collisionWidth>S?Q>0&&0>=O?(P=R.left+Q+T.collisionWidth-S-o,R.left+=Q-P):R.left=O>0&&0>=Q?o:Q>O?o+S-T.collisionWidth:o:Q>0?R.left+=Q:O>0?R.left-=O:R.left=B(R.left-d,R.left)},top:function(R,T){var P,U=T.within,o=U.isWindow?U.scrollTop:U.offset.top,S=T.within.height,d=R.top-T.collisionPosition.marginTop,Q=o-d,O=d+T.collisionHeight-S-o;T.collisionHeight>S?Q>0&&0>=O?(P=R.top+Q+T.collisionHeight-S-o,R.top+=Q-P):R.top=O>0&&0>=Q?o:Q>O?o+S-T.collisionHeight:o:Q>0?R.top+=Q:O>0?R.top-=O:R.top=B(R.top-d,R.top)}},flip:{left:function(U,Z){var R,aa,P=Z.within,X=P.offset.left+P.scrollLeft,O=P.width,S=P.isWindow?P.scrollLeft:P.offset.left,Q=U.left-Z.collisionPosition.marginLeft,Y=Q-S,V=Q+Z.collisionWidth-O-S,W="left"===Z.my[0]?-Z.elemWidth:"right"===Z.my[0]?Z.elemWidth:0,r="left"===Z.at[0]?Z.targetWidth:"right"===Z.at[0]?-Z.targetWidth:0,T=-2*Z.offset[0];0>Y?(R=U.left+W+r+T+Z.collisionWidth-O-X,(0>R||z(Y)>R)&&(U.left+=W+r+T)):V>0&&(aa=U.left-Z.collisionPosition.marginLeft+W+r+T-S,(aa>0||V>z(aa))&&(U.left+=W+r+T))},top:function(V,aa){var S,ab,P=aa.within,Y=P.offset.top+P.scrollTop,O=P.height,T=P.isWindow?P.scrollTop:P.offset.top,R=V.top-aa.collisionPosition.marginTop,Z=R-T,W=R+aa.collisionHeight-O-T,X="top"===aa.my[1],r=X?-aa.elemHeight:"bottom"===aa.my[1]?aa.elemHeight:0,U="top"===aa.at[1]?aa.targetHeight:"bottom"===aa.at[1]?-aa.targetHeight:0,Q=-2*aa.offset[1];0>Z?(ab=V.top+r+U+Q+aa.collisionHeight-O-Y,(0>ab||z(Z)>ab)&&(V.top+=r+U+Q)):W>0&&(S=V.top-aa.collisionPosition.marginTop+r+U+Q-T,(S>0||W>z(S))&&(V.top+=r+U+Q))}},flipfit:{left:function(){p.ui.position.flip.left.apply(this,arguments),p.ui.position.fit.left.apply(this,arguments)},top:function(){p.ui.position.flip.top.apply(this,arguments),p.ui.position.fit.top.apply(this,arguments)}}},function(){var d,a,O,R,Q,P=document.getElementsByTagName("body")[0],l=document.createElement("div");d=document.createElement(P?"div":"body"),O={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},P&&p.extend(O,{position:"absolute",left:"-1000px",top:"-1000px"});for(Q in O){d.style[Q]=O[Q]}d.appendChild(l),a=P||document.documentElement,a.insertBefore(d,a.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",R=p(l).offset().left,J=R>10&&11>R,d.innerHTML="",a.removeChild(d)}()}(),p.ui.position,p.extend(p.ui,{datepicker:{version:"1.11.4"}});var q;p.extend(g.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(a){return b(this._defaults,a||{}),this},_attachDatepicker:function(l,h){var o,r,d;o=l.nodeName.toLowerCase(),r="div"===o||"span"===o,l.id||(this.uuid+=1,l.id="dp"+this.uuid),d=this._newInst(p(l),r),d.settings=p.extend({},h||{}),"input"===o?this._connectDatepicker(l,d):r&&this._inlineDatepicker(l,d)},_newInst:function(d,a){var h=d[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:h,input:d,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:a,dpDiv:a?v(p("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(d,a){var h=p(d);a.append=p([]),a.trigger=p([]),h.hasClass(this.markerClassName)||(this._attachments(h,a),h.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(a),p.data(d,"datepicker",a),a.settings.disabled&&this._disableDatepicker(d))},_attachments:function(l,h){var z,C,d,B=this._get(h,"appendText"),A=this._get(h,"isRTL");h.append&&h.append.remove(),B&&(h.append=p("<span class='"+this._appendClass+"'>"+B+"</span>"),l[A?"before":"after"](h.append)),l.unbind("focus",this._showDatepicker),h.trigger&&h.trigger.remove(),z=this._get(h,"showOn"),("focus"===z||"both"===z)&&l.focus(this._showDatepicker),("button"===z||"both"===z)&&(C=this._get(h,"buttonText"),d=this._get(h,"buttonImage"),h.trigger=p(this._get(h,"buttonImageOnly")?p("<img/>").addClass(this._triggerClass).attr({src:d,alt:C,title:C}):p("<button type='button'></button>").addClass(this._triggerClass).html(d?p("<img/>").attr({src:d,alt:C,title:C}):C)),l[A?"before":"after"](h.trigger),h.trigger.click(function(){return p.datepicker._datepickerShowing&&p.datepicker._lastInput===l[0]?p.datepicker._hideDatepicker():p.datepicker._datepickerShowing&&p.datepicker._lastInput!==l[0]?(p.datepicker._hideDatepicker(),p.datepicker._showDatepicker(l[0])):p.datepicker._showDatepicker(l[0]),!1}))},_autoSize:function(z){if(this._get(z,"autoSize")&&!z.inline){var l,h,r,B,d=new Date(2009,11,20),A=this._get(z,"dateFormat");A.match(/[DM]/)&&(l=function(a){for(h=0,r=0,B=0;a.length>B;B++){a[B].length>h&&(h=a[B].length,r=B)}return r},d.setMonth(l(this._get(z,A.match(/MM/)?"monthNames":"monthNamesShort"))),d.setDate(l(this._get(z,A.match(/DD/)?"dayNames":"dayNamesShort"))+20-d.getDay())),z.input.attr("size",this._formatDate(z,d).length)}},_inlineDatepicker:function(d,a){var h=p(d);h.hasClass(this.markerClassName)||(h.addClass(this.markerClassName).append(a.dpDiv),p.data(d,"datepicker",a),this._setDate(a,this._getDefaultDate(a),!0),this._updateDatepicker(a),this._updateAlternate(a),a.settings.disabled&&this._disableDatepicker(d),a.dpDiv.css("display","block"))},_dialogDatepicker:function(H,B,I,z,F){var r,C,A,G,D,E=this._dialogInst;return E||(this.uuid+=1,r="dp"+this.uuid,this._dialogInput=p("<input type='text' id='"+r+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),p("body").append(this._dialogInput),E=this._dialogInst=this._newInst(this._dialogInput,!1),E.settings={},p.data(this._dialogInput[0],"datepicker",E)),b(E.settings,z||{}),B=B&&B.constructor===Date?this._formatDate(E,B):B,this._dialogInput.val(B),this._pos=F?F.length?F:[F.pageX,F.pageY]:null,this._pos||(C=document.documentElement.clientWidth,A=document.documentElement.clientHeight,G=document.documentElement.scrollLeft||document.body.scrollLeft,D=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[C/2-100+G,A/2-150+D]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),E.settings.onSelect=I,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),p.blockUI&&p.blockUI(this.dpDiv),p.data(this._dialogInput[0],"datepicker",E),this},_destroyDatepicker:function(d){var a,h=p(d),l=p.data(d,"datepicker");h.hasClass(this.markerClassName)&&(a=d.nodeName.toLowerCase(),p.removeData(d,"datepicker"),"input"===a?(l.append.remove(),l.trigger.remove(),h.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===a||"span"===a)&&h.removeClass(this.markerClassName).empty(),q===l&&(q=null))},_enableDatepicker:function(l){var h,o,r=p(l),d=p.data(l,"datepicker");r.hasClass(this.markerClassName)&&(h=l.nodeName.toLowerCase(),"input"===h?(l.disabled=!1,d.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===h||"span"===h)&&(o=r.children("."+this._inlineClass),o.children().removeClass("ui-state-disabled"),o.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=p.map(this._disabledInputs,function(a){return a===l?null:a}))},_disableDatepicker:function(l){var h,o,r=p(l),d=p.data(l,"datepicker");r.hasClass(this.markerClassName)&&(h=l.nodeName.toLowerCase(),"input"===h?(l.disabled=!0,d.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===h||"span"===h)&&(o=r.children("."+this._inlineClass),o.children().addClass("ui-state-disabled"),o.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=p.map(this._disabledInputs,function(a){return a===l?null:a}),this._disabledInputs[this._disabledInputs.length]=l)},_isDisabledDatepicker:function(d){if(!d){return !1}for(var a=0;this._disabledInputs.length>a;a++){if(this._disabledInputs[a]===d){return !0}}return !1},_getInst:function(d){try{return p.data(d,"datepicker")}catch(a){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(A,z,C){var E,r,D,B,d=this._getInst(A);return 2===arguments.length&&"string"==typeof z?"defaults"===z?p.extend({},p.datepicker._defaults):d?"all"===z?p.extend({},d.settings):this._get(d,z):null:(E=z||{},"string"==typeof z&&(E={},E[z]=C),d&&(this._curInst===d&&this._hideDatepicker(),r=this._getDateDatepicker(A,!0),D=this._getMinMaxDate(d,"min"),B=this._getMinMaxDate(d,"max"),b(d.settings,E),null!==D&&void 0!==E.dateFormat&&void 0===E.minDate&&(d.settings.minDate=this._formatDate(d,D)),null!==B&&void 0!==E.dateFormat&&void 0===E.maxDate&&(d.settings.maxDate=this._formatDate(d,B)),"disabled" in E&&(E.disabled?this._disableDatepicker(A):this._enableDatepicker(A)),this._attachments(p(A),d),this._autoSize(d),this._setDate(d,r),this._updateAlternate(d),this._updateDatepicker(d)),void 0)},_changeDatepicker:function(h,d,a){this._optionDatepicker(h,d,a)},_refreshDatepicker:function(d){var a=this._getInst(d);a&&this._updateDatepicker(a)},_setDateDatepicker:function(h,d){var a=this._getInst(h);a&&(this._setDate(a,d),this._updateDatepicker(a),this._updateAlternate(a))},_getDateDatepicker:function(h,d){var a=this._getInst(h);return a&&!a.inline&&this._setDateFromField(a,d),a?this._getDate(a):null},_doKeyDown:function(l){var h,z,C,d=p.datepicker._getInst(l.target),B=!0,A=d.dpDiv.is(".ui-datepicker-rtl");if(d._keyEvent=!0,p.datepicker._datepickerShowing){switch(l.keyCode){case 9:p.datepicker._hideDatepicker(),B=!1;break;case 13:return C=p("td."+p.datepicker._dayOverClass+":not(."+p.datepicker._currentClass+")",d.dpDiv),C[0]&&p.datepicker._selectDay(l.target,d.selectedMonth,d.selectedYear,C[0]),h=p.datepicker._get(d,"onSelect"),h?(z=p.datepicker._formatDate(d),h.apply(d.input?d.input[0]:null,[z,d])):p.datepicker._hideDatepicker(),!1;case 27:p.datepicker._hideDatepicker();break;case 33:p.datepicker._adjustDate(l.target,l.ctrlKey?-p.datepicker._get(d,"stepBigMonths"):-p.datepicker._get(d,"stepMonths"),"M");break;case 34:p.datepicker._adjustDate(l.target,l.ctrlKey?+p.datepicker._get(d,"stepBigMonths"):+p.datepicker._get(d,"stepMonths"),"M");break;case 35:(l.ctrlKey||l.metaKey)&&p.datepicker._clearDate(l.target),B=l.ctrlKey||l.metaKey;break;case 36:(l.ctrlKey||l.metaKey)&&p.datepicker._gotoToday(l.target),B=l.ctrlKey||l.metaKey;break;case 37:(l.ctrlKey||l.metaKey)&&p.datepicker._adjustDate(l.target,A?1:-1,"D"),B=l.ctrlKey||l.metaKey,l.originalEvent.altKey&&p.datepicker._adjustDate(l.target,l.ctrlKey?-p.datepicker._get(d,"stepBigMonths"):-p.datepicker._get(d,"stepMonths"),"M");break;case 38:(l.ctrlKey||l.metaKey)&&p.datepicker._adjustDate(l.target,-7,"D"),B=l.ctrlKey||l.metaKey;break;case 39:(l.ctrlKey||l.metaKey)&&p.datepicker._adjustDate(l.target,A?-1:1,"D"),B=l.ctrlKey||l.metaKey,l.originalEvent.altKey&&p.datepicker._adjustDate(l.target,l.ctrlKey?+p.datepicker._get(d,"stepBigMonths"):+p.datepicker._get(d,"stepMonths"),"M");break;case 40:(l.ctrlKey||l.metaKey)&&p.datepicker._adjustDate(l.target,7,"D"),B=l.ctrlKey||l.metaKey;break;default:B=!1}}else{36===l.keyCode&&l.ctrlKey?p.datepicker._showDatepicker(this):B=!1}B&&(l.preventDefault(),l.stopPropagation())},_doKeyPress:function(d){var a,h,l=p.datepicker._getInst(d.target);return p.datepicker._get(l,"constrainInput")?(a=p.datepicker._possibleChars(p.datepicker._get(l,"dateFormat")),h=String.fromCharCode(null==d.charCode?d.keyCode:d.charCode),d.ctrlKey||d.metaKey||" ">h||!a||a.indexOf(h)>-1):void 0},_doKeyUp:function(d){var a,h=p.datepicker._getInst(d.target);if(h.input.val()!==h.lastVal){try{a=p.datepicker.parseDate(p.datepicker._get(h,"dateFormat"),h.input?h.input.val():null,p.datepicker._getFormatConfig(h)),a&&(p.datepicker._setDateFromField(h),p.datepicker._updateAlternate(h),p.datepicker._updateDatepicker(h))}catch(l){}}return !0},_showDatepicker:function(A){if(A=A.target||A,"input"!==A.nodeName.toLowerCase()&&(A=p("input",A.parentNode)[0]),!p.datepicker._isDisabledDatepicker(A)&&p.datepicker._lastInput!==A){var z,D,r,C,B,d,s;z=p.datepicker._getInst(A),p.datepicker._curInst&&p.datepicker._curInst!==z&&(p.datepicker._curInst.dpDiv.stop(!0,!0),z&&p.datepicker._datepickerShowing&&p.datepicker._hideDatepicker(p.datepicker._curInst.input[0])),D=p.datepicker._get(z,"beforeShow"),r=D?D.apply(A,[A,z]):{},r!==!1&&(b(z.settings,r),z.lastVal=null,p.datepicker._lastInput=A,p.datepicker._setDateFromField(z),p.datepicker._inDialog&&(A.value=""),p.datepicker._pos||(p.datepicker._pos=p.datepicker._findPos(A),p.datepicker._pos[1]+=A.offsetHeight),C=!1,p(A).parents().each(function(){return C|="fixed"===p(this).css("position"),!C}),B={left:p.datepicker._pos[0],top:p.datepicker._pos[1]},p.datepicker._pos=null,z.dpDiv.empty(),z.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),p.datepicker._updateDatepicker(z),B=p.datepicker._checkOffset(z,B,C),z.dpDiv.css({position:p.datepicker._inDialog&&p.blockUI?"static":C?"fixed":"absolute",display:"none",left:B.left+"px",top:B.top+"px"}),z.inline||(d=p.datepicker._get(z,"showAnim"),s=p.datepicker._get(z,"duration"),z.dpDiv.css("z-index",y(p(A))+1),p.datepicker._datepickerShowing=!0,p.effects&&p.effects.effect[d]?z.dpDiv.show(d,p.datepicker._get(z,"showOptions"),s):z.dpDiv[d||"show"](d?s:null),p.datepicker._shouldFocusInput(z)&&z.input.focus(),p.datepicker._curInst=z))}},_updateDatepicker:function(l){this.maxRows=4,q=l,l.dpDiv.empty().append(this._generateHTML(l)),this._attachHandlers(l);var h,o=this._getNumberOfMonths(l),A=o[1],d=17,z=l.dpDiv.find("."+this._dayOverClass+" a");z.length>0&&c.apply(z.get(0)),l.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),A>1&&l.dpDiv.addClass("ui-datepicker-multi-"+A).css("width",d*A+"em"),l.dpDiv[(1!==o[0]||1!==o[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),l.dpDiv[(this._get(l,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),l===p.datepicker._curInst&&p.datepicker._datepickerShowing&&p.datepicker._shouldFocusInput(l)&&l.input.focus(),l.yearshtml&&(h=l.yearshtml,setTimeout(function(){h===l.yearshtml&&l.yearshtml&&l.dpDiv.find("select.ui-datepicker-year:first").replaceWith(l.yearshtml),h=l.yearshtml=null},0))},_shouldFocusInput:function(a){return a.input&&a.input.is(":visible")&&!a.input.is(":disabled")&&!a.input.is(":focus")},_checkOffset:function(F,C,G){var A=F.dpDiv.outerWidth(),E=F.dpDiv.outerHeight(),z=F.input?F.input.outerWidth():0,d=F.input?F.input.outerHeight():0,D=document.documentElement.clientWidth+(G?0:p(document).scrollLeft()),B=document.documentElement.clientHeight+(G?0:p(document).scrollTop());return C.left-=this._get(F,"isRTL")?A-z:0,C.left-=G&&C.left===F.input.offset().left?p(document).scrollLeft():0,C.top-=G&&C.top===F.input.offset().top+d?p(document).scrollTop():0,C.left-=Math.min(C.left,C.left+A>D&&D>A?Math.abs(C.left+A-D):0),C.top-=Math.min(C.top,C.top+E>B&&B>E?Math.abs(E+d):0),C},_findPos:function(d){for(var a,h=this._getInst(d),l=this._get(h,"isRTL");d&&("hidden"===d.type||1!==d.nodeType||p.expr.filters.hidden(d));){d=d[l?"previousSibling":"nextSibling"]}return a=p(d).offset(),[a.left,a.top]},_hideDatepicker:function(l){var h,r,A,d,z=this._curInst;!z||l&&z!==p.data(l,"datepicker")||this._datepickerShowing&&(h=this._get(z,"showAnim"),r=this._get(z,"duration"),A=function(){p.datepicker._tidyDialog(z)},p.effects&&(p.effects.effect[h]||p.effects[h])?z.dpDiv.hide(h,p.datepicker._get(z,"showOptions"),r,A):z.dpDiv["slideDown"===h?"slideUp":"fadeIn"===h?"fadeOut":"hide"](h?r:null,A),h||A(),this._datepickerShowing=!1,d=this._get(z,"onClose"),d&&d.apply(z.input?z.input[0]:null,[z.input?z.input.val():"",z]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),p.blockUI&&(p.unblockUI(),p("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(a){a.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(d){if(p.datepicker._curInst){var a=p(d.target),h=p.datepicker._getInst(a[0]);(a[0].id!==p.datepicker._mainDivId&&0===a.parents("#"+p.datepicker._mainDivId).length&&!a.hasClass(p.datepicker.markerClassName)&&!a.closest("."+p.datepicker._triggerClass).length&&p.datepicker._datepickerShowing&&(!p.datepicker._inDialog||!p.blockUI)||a.hasClass(p.datepicker.markerClassName)&&p.datepicker._curInst!==h)&&p.datepicker._hideDatepicker()}},_adjustDate:function(l,h,o){var r=p(l),d=this._getInst(r[0]);this._isDisabledDatepicker(r[0])||(this._adjustInstDate(d,h+("M"===o?this._get(d,"showCurrentAtPos"):0),o),this._updateDatepicker(d))},_gotoToday:function(d){var a,h=p(d),l=this._getInst(h[0]);this._get(l,"gotoCurrent")&&l.currentDay?(l.selectedDay=l.currentDay,l.drawMonth=l.selectedMonth=l.currentMonth,l.drawYear=l.selectedYear=l.currentYear):(a=new Date,l.selectedDay=a.getDate(),l.drawMonth=l.selectedMonth=a.getMonth(),l.drawYear=l.selectedYear=a.getFullYear()),this._notifyChange(l),this._adjustDate(h)},_selectMonthYear:function(l,h,o){var r=p(l),d=this._getInst(r[0]);d["selected"+("M"===o?"Month":"Year")]=d["draw"+("M"===o?"Month":"Year")]=parseInt(h.options[h.selectedIndex].value,10),this._notifyChange(d),this._adjustDate(r)},_selectDay:function(l,h,r,A){var d,z=p(l);p(A).hasClass(this._unselectableClass)||this._isDisabledDatepicker(z[0])||(d=this._getInst(z[0]),d.selectedDay=d.currentDay=p("a",A).html(),d.selectedMonth=d.currentMonth=h,d.selectedYear=d.currentYear=r,this._selectDate(l,this._formatDate(d,d.currentDay,d.currentMonth,d.currentYear)))},_clearDate:function(d){var a=p(d);this._selectDate(a,"")},_selectDate:function(l,h){var o,r=p(l),d=this._getInst(r[0]);h=null!=h?h:this._formatDate(d),d.input&&d.input.val(h),this._updateAlternate(d),o=this._get(d,"onSelect"),o?o.apply(d.input?d.input[0]:null,[h,d]):d.input&&d.input.trigger("change"),d.inline?this._updateDatepicker(d):(this._hideDatepicker(),this._lastInput=d.input[0],"object"!=typeof d.input[0]&&d.input.focus(),this._lastInput=null)},_updateAlternate:function(l){var h,o,r,d=this._get(l,"altField");d&&(h=this._get(l,"altFormat")||this._get(l,"dateFormat"),o=this._getDate(l),r=this.formatDate(h,o,this._getFormatConfig(l)),p(d).each(function(){p(this).val(r)}))},noWeekends:function(d){var a=d.getDay();return[a>0&&6>a,""]},iso8601Week:function(h){var d,a=new Date(h.getTime());return a.setDate(a.getDate()+4-(a.getDay()||7)),d=a.getTime(),a.setMonth(0),a.setDate(1),Math.floor(Math.round((d-a)/86400000)/7)+1},parseDate:function(E,O,F){if(null==E||null==O){throw"Invalid arguments"}if(O="object"==typeof O?""+O:O+"",""===O){return null}var J,V,I,G,P=0,M=(F?F.shortYearCutoff:null)||this._defaults.shortYearCutoff,D="string"!=typeof M?M:(new Date).getFullYear()%100+parseInt(M,10),S=(F?F.dayNamesShort:null)||this._defaults.dayNamesShort,T=(F?F.dayNames:null)||this._defaults.dayNames,H=(F?F.monthNamesShort:null)||this._defaults.monthNamesShort,R=(F?F.monthNames:null)||this._defaults.monthNames,K=-1,Q=-1,C=-1,z=-1,U=!1,W=function(d){var a=E.length>J+1&&E.charAt(J+1)===d;return a&&J++,a},A=function(r){var h=W(r),l="@"===r?14:"!"===r?20:"y"===r&&h?4:"o"===r?3:2,Y="y"===r?l:1,d=RegExp("^\\d{"+Y+","+l+"}"),X=O.substring(P).match(d);if(!X){throw"Missing number at position "+P}return P+=X[0].length,parseInt(X[0],10)},B=function(h,l,X){var d=-1,r=p.map(W(h)?X:l,function(n,a){return[[a,n]]}).sort(function(n,a){return -(n[1].length-a[1].length)});if(p.each(r,function(o,a){var n=a[1];return O.substr(P,n.length).toLowerCase()===n.toLowerCase()?(d=a[0],P+=n.length,!1):void 0}),-1!==d){return d+1}throw"Unknown name at position "+P},N=function(){if(O.charAt(P)!==E.charAt(J)){throw"Unexpected literal at position "+P}P++};for(J=0;E.length>J;J++){if(U){"'"!==E.charAt(J)||W("'")?N():U=!1}else{switch(E.charAt(J)){case"d":C=A("d");break;case"D":B("D",S,T);break;case"o":z=A("o");break;case"m":Q=A("m");break;case"M":Q=B("M",H,R);break;case"y":K=A("y");break;case"@":G=new Date(A("@")),K=G.getFullYear(),Q=G.getMonth()+1,C=G.getDate();break;case"!":G=new Date((A("!")-this._ticksTo1970)/10000),K=G.getFullYear(),Q=G.getMonth()+1,C=G.getDate();break;case"'":W("'")?N():U=!0;break;default:N()}}}if(O.length>P&&(I=O.substr(P),!/^\s+/.test(I))){throw"Extra/unparsed characters found in date: "+I}if(-1===K?K=(new Date).getFullYear():100>K&&(K+=(new Date).getFullYear()-(new Date).getFullYear()%100+(D>=K?0:-100)),z>-1){for(Q=1,C=z;;){if(V=this._getDaysInMonth(K,Q-1),V>=C){break}Q++,C-=V}}if(G=this._daylightSavingAdjust(new Date(K,Q-1,C)),G.getFullYear()!==K||G.getMonth()+1!==Q||G.getDate()!==C){throw"Invalid date"}return G},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:10000000*60*60*24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(F,K,D){if(!K){return""}var M,B=(D?D.dayNamesShort:null)||this._defaults.dayNamesShort,I=(D?D.dayNames:null)||this._defaults.dayNames,A=(D?D.monthNamesShort:null)||this._defaults.monthNamesShort,z=(D?D.monthNames:null)||this._defaults.monthNames,E=function(d){var a=F.length>M+1&&F.charAt(M+1)===d;return a&&M++,a},C=function(l,d,a){var h=""+d;if(E(l)){for(;a>h.length;){h="0"+h}}return h},J=function(l,d,a,h){return E(l)?h[d]:a[d]},G="",H=!1;if(K){for(M=0;F.length>M;M++){if(H){"'"!==F.charAt(M)||E("'")?G+=F.charAt(M):H=!1}else{switch(F.charAt(M)){case"d":G+=C("d",K.getDate(),2);break;case"D":G+=J("D",K.getDay(),B,I);break;case"o":G+=C("o",Math.round((new Date(K.getFullYear(),K.getMonth(),K.getDate()).getTime()-new Date(K.getFullYear(),0,0).getTime())/86400000),3);break;case"m":G+=C("m",K.getMonth()+1,2);break;case"M":G+=J("M",K.getMonth(),A,z);break;case"y":G+=E("y")?K.getFullYear():(10>K.getYear()%100?"0":"")+K.getYear()%100;break;case"@":G+=K.getTime();break;case"!":G+=10000*K.getTime()+this._ticksTo1970;break;case"'":E("'")?G+="'":H=!0;break;default:G+=F.charAt(M)}}}}return G},_possibleChars:function(l){var d,a="",h=!1,o=function(n){var r=l.length>d+1&&l.charAt(d+1)===n;return r&&d++,r};for(d=0;l.length>d;d++){if(h){"'"!==l.charAt(d)||o("'")?a+=l.charAt(d):h=!1}else{switch(l.charAt(d)){case"d":case"m":case"y":case"@":a+="0123456789";break;case"D":case"M":return null;case"'":o("'")?a+="'":h=!0;break;default:a+=l.charAt(d)}}}return a},_get:function(d,a){return void 0!==d.settings[a]?d.settings[a]:this._defaults[a]},_setDateFromField:function(B,l){if(B.input.val()!==B.lastVal){var h=this._get(B,"dateFormat"),z=B.lastVal=B.input?B.input.val():null,D=this._getDefaultDate(B),d=D,C=this._getFormatConfig(B);try{d=this.parseDate(h,z,C)||D}catch(A){z=l?"":z}B.selectedDay=d.getDate(),B.drawMonth=B.selectedMonth=d.getMonth(),B.drawYear=B.selectedYear=d.getFullYear(),B.currentDay=z?d.getDate():0,B.currentMonth=z?d.getMonth():0,B.currentYear=z?d.getFullYear():0,this._adjustInstDate(B)}},_getDefaultDate:function(a){return this._restrictMinMax(a,this._determineDate(a,this._get(a,"defaultDate"),new Date))},_determineDate:function(l,h,r){var A=function(n){var a=new Date;return a.setDate(a.getDate()+n),a},d=function(D){try{return p.datepicker.parseDate(p.datepicker._get(l,"dateFormat"),D,p.datepicker._getFormatConfig(l))}catch(F){}for(var I=(D.toLowerCase().match(/^c/)?p.datepicker._getDate(l):null)||new Date,C=I.getFullYear(),H=I.getMonth(),G=I.getDate(),E=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,B=E.exec(D);B;){switch(B[2]||"d"){case"d":case"D":G+=parseInt(B[1],10);break;case"w":case"W":G+=7*parseInt(B[1],10);break;case"m":case"M":H+=parseInt(B[1],10),G=Math.min(G,p.datepicker._getDaysInMonth(C,H));break;case"y":case"Y":C+=parseInt(B[1],10),G=Math.min(G,p.datepicker._getDaysInMonth(C,H))}B=E.exec(D)}return new Date(C,H,G)},z=null==h||""===h?r:"string"==typeof h?d(h):"number"==typeof h?isNaN(h)?r:A(h):new Date(h.getTime());return z=z&&"Invalid Date"==""+z?r:z,z&&(z.setHours(0),z.setMinutes(0),z.setSeconds(0),z.setMilliseconds(0)),this._daylightSavingAdjust(z)},_daylightSavingAdjust:function(a){return a?(a.setHours(a.getHours()>12?a.getHours()+2:0),a):null},_setDate:function(z,l,h){var r=!l,B=z.selectedMonth,d=z.selectedYear,A=this._restrictMinMax(z,this._determineDate(z,l,new Date));z.selectedDay=z.currentDay=A.getDate(),z.drawMonth=z.selectedMonth=z.currentMonth=A.getMonth(),z.drawYear=z.selectedYear=z.currentYear=A.getFullYear(),B===z.selectedMonth&&d===z.selectedYear||h||this._notifyChange(z),this._adjustInstDate(z),z.input&&z.input.val(r?"":this._formatDate(z))},_getDate:function(d){var a=!d.currentYear||d.input&&""===d.input.val()?null:this._daylightSavingAdjust(new Date(d.currentYear,d.currentMonth,d.currentDay));return a},_attachHandlers:function(d){var a=this._get(d,"stepMonths"),h="#"+d.id.replace(/\\\\/g,"\\");d.dpDiv.find("[data-handler]").map(function(){var l={prev:function(){p.datepicker._adjustDate(h,-a,"M")},next:function(){p.datepicker._adjustDate(h,+a,"M")},hide:function(){p.datepicker._hideDatepicker()},today:function(){p.datepicker._gotoToday(h)},selectDay:function(){return p.datepicker._selectDay(h,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return p.datepicker._selectMonthYear(h,this,"M"),!1},selectYear:function(){return p.datepicker._selectMonthYear(h,this,"Y"),!1}};p(this).bind(this.getAttribute("data-event"),l[this.getAttribute("data-handler")])})},_generateHTML:function(aY){var aI,aU,aJ,aP,a2,aO,aK,aV,aR,aH,aZ,a0,aN,aX,aQ,aW,aG,aD,a1,a3,aE,aF,aS,ag,ax,ah,am,an,ay,ak,aA,ar,at,aC,av,aw,ad,al,ao,aT=new Date,ai=this._daylightSavingAdjust(new Date(aT.getFullYear(),aT.getMonth(),aT.getDate())),ab=this._get(aY,"isRTL"),aq=this._get(aY,"showButtonPanel"),az=this._get(aY,"hideIfNoPrevNext"),ap=this._get(aY,"navigationAsDateFormat"),af=this._getNumberOfMonths(aY),ae=this._get(aY,"showCurrentAtPos"),aL=this._get(aY,"stepMonths"),au=1!==af[0]||1!==af[1],ac=this._daylightSavingAdjust(aY.currentDay?new Date(aY.currentYear,aY.currentMonth,aY.currentDay):new Date(9999,9,9)),aj=this._getMinMaxDate(aY,"min"),aB=this._getMinMaxDate(aY,"max"),aa=aY.drawMonth-ae,aM=aY.drawYear;if(0>aa&&(aa+=12,aM--),aB){for(aI=this._daylightSavingAdjust(new Date(aB.getFullYear(),aB.getMonth()-af[0]*af[1]+1,aB.getDate())),aI=aj&&aj>aI?aj:aI;this._daylightSavingAdjust(new Date(aM,aa,1))>aI;){aa--,0>aa&&(aa=11,aM--)}}for(aY.drawMonth=aa,aY.drawYear=aM,aU=this._get(aY,"prevText"),aU=ap?this.formatDate(aU,this._daylightSavingAdjust(new Date(aM,aa-aL,1)),this._getFormatConfig(aY)):aU,aJ=this._canAdjustMonth(aY,-1,aM,aa)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+aU+"'><span class='ui-icon ui-icon-circle-triangle-"+(ab?"e":"w")+"'>"+aU+"</span></a>":az?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+aU+"'><span class='ui-icon ui-icon-circle-triangle-"+(ab?"e":"w")+"'>"+aU+"</span></a>",aP=this._get(aY,"nextText"),aP=ap?this.formatDate(aP,this._daylightSavingAdjust(new Date(aM,aa+aL,1)),this._getFormatConfig(aY)):aP,a2=this._canAdjustMonth(aY,1,aM,aa)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+aP+"'><span class='ui-icon ui-icon-circle-triangle-"+(ab?"w":"e")+"'>"+aP+"</span></a>":az?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+aP+"'><span class='ui-icon ui-icon-circle-triangle-"+(ab?"w":"e")+"'>"+aP+"</span></a>",aO=this._get(aY,"currentText"),aK=this._get(aY,"gotoCurrent")&&aY.currentDay?ac:ai,aO=ap?this.formatDate(aO,aK,this._getFormatConfig(aY)):aO,aV=aY.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(aY,"closeText")+"</button>",aR=aq?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(ab?aV:"")+(this._isInRange(aY,aK)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+aO+"</button>":"")+(ab?"":aV)+"</div>":"",aH=parseInt(this._get(aY,"firstDay"),10),aH=isNaN(aH)?0:aH,aZ=this._get(aY,"showWeek"),a0=this._get(aY,"dayNames"),aN=this._get(aY,"dayNamesMin"),aX=this._get(aY,"monthNames"),aQ=this._get(aY,"monthNamesShort"),aW=this._get(aY,"beforeShowDay"),aG=this._get(aY,"showOtherMonths"),aD=this._get(aY,"selectOtherMonths"),a1=this._getDefaultDate(aY),a3="",aF=0;af[0]>aF;aF++){for(aS="",this.maxRows=4,ag=0;af[1]>ag;ag++){if(ax=this._daylightSavingAdjust(new Date(aM,aa,aY.selectedDay)),ah=" ui-corner-all",am="",au){if(am+="<div class='ui-datepicker-group",af[1]>1){switch(ag){case 0:am+=" ui-datepicker-group-first",ah=" ui-corner-"+(ab?"right":"left");break;case af[1]-1:am+=" ui-datepicker-group-last",ah=" ui-corner-"+(ab?"left":"right");break;default:am+=" ui-datepicker-group-middle",ah=""}}am+="'>"}for(am+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+ah+"'>"+(/all|left/.test(ah)&&0===aF?ab?a2:aJ:"")+(/all|right/.test(ah)&&0===aF?ab?aJ:a2:"")+this._generateMonthYearHeader(aY,aa,aM,aj,aB,aF>0||ag>0,aX,aQ)+"</div><table class='ui-datepicker-calendar'><thead><tr>",an=aZ?"<th class='ui-datepicker-week-col'>"+this._get(aY,"weekHeader")+"</th>":"",aE=0;7>aE;aE++){ay=(aE+aH)%7,an+="<th scope='col'"+((aE+aH+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+a0[ay]+"'>"+aN[ay]+"</span></th>"}for(am+=an+"</tr></thead><tbody>",ak=this._getDaysInMonth(aM,aa),aM===aY.selectedYear&&aa===aY.selectedMonth&&(aY.selectedDay=Math.min(aY.selectedDay,ak)),aA=(this._getFirstDayOfMonth(aM,aa)-aH+7)%7,ar=Math.ceil((aA+ak)/7),at=au?this.maxRows>ar?this.maxRows:ar:ar,this.maxRows=at,aC=this._daylightSavingAdjust(new Date(aM,aa,1-aA)),av=0;at>av;av++){for(am+="<tr>",aw=aZ?"<td class='ui-datepicker-week-col'>"+this._get(aY,"calculateWeek")(aC)+"</td>":"",aE=0;7>aE;aE++){ad=aW?aW.apply(aY.input?aY.input[0]:null,[aC]):[!0,""],al=aC.getMonth()!==aa,ao=al&&!aD||!ad[0]||aj&&aj>aC||aB&&aC>aB,aw+="<td class='"+((aE+aH+6)%7>=5?" ui-datepicker-week-end":"")+(al?" ui-datepicker-other-month":"")+(aC.getTime()===ax.getTime()&&aa===aY.selectedMonth&&aY._keyEvent||a1.getTime()===aC.getTime()&&a1.getTime()===ax.getTime()?" "+this._dayOverClass:"")+(ao?" "+this._unselectableClass+" ui-state-disabled":"")+(al&&!aG?"":" "+ad[1]+(aC.getTime()===ac.getTime()?" "+this._currentClass:"")+(aC.getTime()===ai.getTime()?" ui-datepicker-today":""))+"'"+(al&&!aG||!ad[2]?"":" title='"+ad[2].replace(/'/g,"&#39;")+"'")+(ao?"":" data-handler='selectDay' data-event='click' data-month='"+aC.getMonth()+"' data-year='"+aC.getFullYear()+"'")+">"+(al&&!aG?"&#xa0;":ao?"<span class='ui-state-default'>"+aC.getDate()+"</span>":"<a class='ui-state-default"+(aC.getTime()===ai.getTime()?" ui-state-highlight":"")+(aC.getTime()===ac.getTime()?" ui-state-active":"")+(al?" ui-priority-secondary":"")+"' href='#'>"+aC.getDate()+"</a>")+"</td>",aC.setDate(aC.getDate()+1),aC=this._daylightSavingAdjust(aC)}am+=aw+"</tr>"}aa++,aa>11&&(aa=0,aM++),am+="</tbody></table>"+(au?"</div>"+(af[0]>0&&ag===af[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),aS+=am}a3+=aS}return a3+=aR,aY._keyEvent=!1,a3},_generateMonthYearHeader:function(P,C,K,D,H,T,G,E){var M,J,B,Q,R,F,O,I,N=this._get(P,"changeMonth"),A=this._get(P,"changeYear"),z=this._get(P,"showMonthAfterYear"),S="<div class='ui-datepicker-title'>",U="";if(T||!N){U+="<span class='ui-datepicker-month'>"+G[C]+"</span>"}else{for(M=D&&D.getFullYear()===K,J=H&&H.getFullYear()===K,U+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",B=0;12>B;B++){(!M||B>=D.getMonth())&&(!J||H.getMonth()>=B)&&(U+="<option value='"+B+"'"+(B===C?" selected='selected'":"")+">"+E[B]+"</option>")}U+="</select>"}if(z||(S+=U+(!T&&N&&A?"":"&#xa0;")),!P.yearshtml){if(P.yearshtml="",T||!A){S+="<span class='ui-datepicker-year'>"+K+"</span>"}else{for(Q=this._get(P,"yearRange").split(":"),R=(new Date).getFullYear(),F=function(d){var a=d.match(/c[+\-].*/)?K+parseInt(d.substring(1),10):d.match(/[+\-].*/)?R+parseInt(d,10):parseInt(d,10);return isNaN(a)?R:a},O=F(Q[0]),I=Math.max(O,F(Q[1]||"")),O=D?Math.max(O,D.getFullYear()):O,I=H?Math.min(I,H.getFullYear()):I,P.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";I>=O;O++){P.yearshtml+="<option value='"+O+"'"+(O===K?" selected='selected'":"")+">"+O+"</option>"}P.yearshtml+="</select>",S+=P.yearshtml,P.yearshtml=null}}return S+=this._get(P,"yearSuffix"),z&&(S+=(!T&&N&&A?"":"&#xa0;")+U),S+="</div>"},_adjustInstDate:function(z,l,h){var r=z.drawYear+("Y"===h?l:0),B=z.drawMonth+("M"===h?l:0),d=Math.min(z.selectedDay,this._getDaysInMonth(r,B))+("D"===h?l:0),A=this._restrictMinMax(z,this._daylightSavingAdjust(new Date(r,B,d)));z.selectedDay=A.getDate(),z.drawMonth=z.selectedMonth=A.getMonth(),z.drawYear=z.selectedYear=A.getFullYear(),("M"===h||"Y"===h)&&this._notifyChange(z)},_restrictMinMax:function(l,d){var a=this._getMinMaxDate(l,"min"),h=this._getMinMaxDate(l,"max"),o=a&&a>d?a:d;return h&&o>h?h:o},_notifyChange:function(d){var a=this._get(d,"onChangeMonthYear");a&&a.apply(d.input?d.input[0]:null,[d.selectedYear,d.selectedMonth+1,d])},_getNumberOfMonths:function(d){var a=this._get(d,"numberOfMonths");return null==a?[1,1]:"number"==typeof a?[1,a]:a},_getMinMaxDate:function(d,a){return this._determineDate(d,this._get(d,a+"Date"),null)},_getDaysInMonth:function(d,a){return 32-this._daylightSavingAdjust(new Date(d,a,32)).getDate()},_getFirstDayOfMonth:function(d,a){return new Date(d,a,1).getDay()},_canAdjustMonth:function(r,l,h,o){var z=this._getNumberOfMonths(r),d=this._daylightSavingAdjust(new Date(h,o+(0>l?l:z[0]*z[1]),1));return 0>l&&d.setDate(this._getDaysInMonth(d.getFullYear(),d.getMonth())),this._isInRange(r,d)},_isInRange:function(C,E){var A,F,z=this._getMinMaxDate(C,"min"),D=this._getMinMaxDate(C,"max"),l=null,d=null,B=this._get(C,"yearRange");return B&&(A=B.split(":"),F=(new Date).getFullYear(),l=parseInt(A[0],10),d=parseInt(A[1],10),A[0].match(/[+\-].*/)&&(l+=F),A[1].match(/[+\-].*/)&&(d+=F)),(!z||E.getTime()>=z.getTime())&&(!D||E.getTime()<=D.getTime())&&(!l||E.getFullYear()>=l)&&(!d||d>=E.getFullYear())},_getFormatConfig:function(d){var a=this._get(d,"shortYearCutoff");return a="string"!=typeof a?a:(new Date).getFullYear()%100+parseInt(a,10),{shortYearCutoff:a,dayNamesShort:this._get(d,"dayNamesShort"),dayNames:this._get(d,"dayNames"),monthNamesShort:this._get(d,"monthNamesShort"),monthNames:this._get(d,"monthNames")}},_formatDate:function(l,d,a,h){d||(l.currentDay=l.selectedDay,l.currentMonth=l.selectedMonth,l.currentYear=l.selectedYear);var o=d?"object"==typeof d?d:this._daylightSavingAdjust(new Date(h,a,d)):this._daylightSavingAdjust(new Date(l.currentYear,l.currentMonth,l.currentDay));return this.formatDate(this._get(l,"dateFormat"),o,this._getFormatConfig(l))}}),p.fn.datepicker=function(d){if(!this.length){return this}p.datepicker.initialized||(p(document).mousedown(p.datepicker._checkExternalClick),p.datepicker.initialized=!0),0===p("#"+p.datepicker._mainDivId).length&&p("body").append(p.datepicker.dpDiv);var a=Array.prototype.slice.call(arguments,1);return"string"!=typeof d||"isDisabled"!==d&&"getDate"!==d&&"widget"!==d?"option"===d&&2===arguments.length&&"string"==typeof arguments[1]?p.datepicker["_"+d+"Datepicker"].apply(p.datepicker,[this[0]].concat(a)):this.each(function(){"string"==typeof d?p.datepicker["_"+d+"Datepicker"].apply(p.datepicker,[this].concat(a)):p.datepicker._attachDatepicker(this,d)}):p.datepicker["_"+d+"Datepicker"].apply(p.datepicker,[this[0]].concat(a))},p.datepicker=new g,p.datepicker.initialized=!1,p.datepicker.uuid=(new Date).getTime(),p.datepicker.version="1.11.4",p.datepicker});datepicker_conf={clearText:"Effacer",clearStatus:"",closeText:"Fermer",closeStatus:"Fermer sans modifier",prevText:"",prevStatus:"Voir le mois pr&eacute;c&eacute;dent",nextText:"",nextStatus:"Voir le mois suivant",currentText:"Courant",currentStatus:"Voir le mois courant",monthNames:["Janvier","F&eacute;vrier","Mars","Avril","Mai","Juin","Juillet","Ao&ucirc;t","Septembre","Octobre","Novembre","D&eacute;cembre"],monthNamesShort:["Jan","F&eacute;v","Mar","Avr","Mai","Jun","Jul","Ao&ucirc;","Sep","Oct","Nov","D&eacute;c"],monthStatus:"Voir un autre mois",yearStatus:"Voir un autre ann&eacute;e",weekHeader:"Sm",weekStatus:"",dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],dayNamesMin:["Di","Lu","Ma","Me","Je","Ve","Sa"],dayStatus:"Utiliser DD comme premier jour de la semaine",dateStatus:"Choisir le DD, MM d",dateFormat:"dd/mm/yy",altFormat:"yymmdd",firstDay:6,initStatus:"Choisir la date",showOtherMonths:true,selectOtherMonths:true,isRTL:false,onClose:function(){var b=new RegExp("^[0-9]{2}[/]{1}[0-9]{2}[/]{1}[0-9]{4}$","g");var a=$(this).val();if(!a.match(b)){$(this).datepicker("setDate",null)}}};(function(){$.fn.datepicker_list=function(d,b){var k="#availability_ds_datepicker";var j="#availability_ds";var g="#availability_de_datepicker";var c="#availability_de";if(typeof d=="object"){var h=d;var a=b;$.datepicker.conf={altField:j,minDate:a.date_min,maxDate:a.date_max,onSelect:function(){var m=$(g).datepicker("getDate");if(m!=null){var l=$(k).datepicker("getDate");l=l.getTime()+(a.date_delta*60*60*24);m=m.getTime();if(l>m){$(g).datepicker("setDate",null)}}}};$.extend($.datepicker.conf,h);$(k).datepicker($.datepicker.conf);$.datepicker.conf={altField:c,minDate:a.date_min,maxDate:a.date_max,beforeShow:function(){var l=$(k).datepicker("getDate");if(l!=null){l.setDate(l.getDate()+a.date_delta);$(g).datepicker("option","minDate",l)}else{$(g).datepicker("option","minDate",a.date_min)}}};$.extend($.datepicker.conf,h);$(g).datepicker($.datepicker.conf)}this.clean=function(){$(k).datepicker("setDate",null);$(g).datepicker("setDate",null);return true};if(d=="clean"){this.clean()}return this}})(jQuery);$(document).ready(function(){if(typeof(is_datepicker_enabled)!="undefined"&&is_datepicker_enabled){jQuery("#availability").datepicker_list(datepicker_conf,davailability_conf);jQuery("#search_category").change(function(){jQuery("#availability").datepicker_list("clean")})}});!function(d,h,c){var k=d.L,j={};j.version="0.7.2","object"==typeof module&&"object"==typeof module.exports?module.exports=j:"function"==typeof define&&define.amd&&define(j),j.noConflict=function(){return d.L=k,this},d.L=j,j.Util={extend:function(l){var p,a,r,q,m=Array.prototype.slice.call(arguments,1);for(a=0,r=m.length;r>a;a++){q=m[a]||{};for(p in q){q.hasOwnProperty(p)&&(l[p]=q[p])}}return l},bind:function(l,m){var a=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return l.apply(m,a||arguments)}},stamp:function(){var a=0,l="_leaflet_id";return function(m){return m[l]=m[l]||++a,m[l]}}(),invokeEach:function(l,m,a){var q,p;if("object"==typeof l){p=Array.prototype.slice.call(arguments,3);for(q in l){m.apply(a,[q,l[q]].concat(p))}return !0}return !1},limitExecByInterval:function(l,p,a){var r,q;return function m(){var n=arguments;return r?(q=!0,void 0):(r=!0,setTimeout(function(){r=!1,q&&(m.apply(a,n),q=!1)},p),l.apply(a,n),void 0)}},falseFn:function(){return !1},formatNum:function(l,m){var a=Math.pow(10,m||5);return Math.round(l*a)/a},trim:function(a){return a.trim?a.trim():a.replace(/^\s+|\s+$/g,"")},splitWords:function(a){return j.Util.trim(a).split(/\s+/)},setOptions:function(a,l){return a.options=j.extend({},a.options,l),a.options},getParamString:function(l,m,a){var q=[];for(var p in l){q.push(encodeURIComponent(a?p.toUpperCase():p)+"="+encodeURIComponent(l[p]))}return(m&&-1!==m.indexOf("?")?"&":"?")+q.join("&")},template:function(a,l){return a.replace(/\{ *([\w_]+) *\}/g,function(m,q){var p=l[q];if(p===c){throw new Error("No value provided for variable "+m)}return"function"==typeof p&&(p=p(l)),p})},isArray:Array.isArray||function(a){return"[object Array]"===Object.prototype.toString.call(a)},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="},function(){function p(r){var a,v,s=["webkit","moz","o","ms"];for(a=0;a<s.length&&!v;a++){v=d[s[a]+r]}return v}function m(n){var a=+new Date,r=Math.max(0,16-(a-q));return q=a+r,d.setTimeout(n,r)}var q=0,o=d.requestAnimationFrame||p("RequestAnimationFrame")||m,l=d.cancelAnimationFrame||p("CancelAnimationFrame")||p("CancelRequestAnimationFrame")||function(a){d.clearTimeout(a)};j.Util.requestAnimFrame=function(w,x,s,v){return w=j.bind(w,x),s&&o===m?(w(),void 0):o.call(d,w,v)},j.Util.cancelAnimFrame=function(a){a&&l.call(d,a)}}(),j.extend=j.Util.extend,j.bind=j.Util.bind,j.stamp=j.Util.stamp,j.setOptions=j.Util.setOptions,j.Class=function(){},j.Class.extend=function(o){var q=function(){this.initialize&&this.initialize.apply(this,arguments),this._initHooks&&this.callInitHooks()},m=function(){};m.prototype=this.prototype;var r=new m;r.constructor=q,q.prototype=r;for(var p in this){this.hasOwnProperty(p)&&"prototype"!==p&&(q[p]=this[p])}o.statics&&(j.extend(q,o.statics),delete o.statics),o.includes&&(j.Util.extend.apply(null,[r].concat(o.includes)),delete o.includes),o.options&&r.options&&(o.options=j.extend({},r.options,o.options)),j.extend(r,o),r._initHooks=[];var l=this;return q.__super__=l.prototype,r.callInitHooks=function(){if(!this._initHooksCalled){l.prototype.callInitHooks&&l.prototype.callInitHooks.call(this),this._initHooksCalled=!0;for(var a=0,n=r._initHooks.length;n>a;a++){r._initHooks[a].call(this)}}},q},j.Class.include=function(a){j.extend(this.prototype,a)},j.Class.mergeOptions=function(a){j.extend(this.prototype.options,a)},j.Class.addInitHook=function(l){var m=Array.prototype.slice.call(arguments,1),a="function"==typeof l?l:function(){this[l].apply(this,m)};this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(a)};var g="_leaflet_events";j.Mixin={},j.Mixin.Events={addEventListener:function(C,x,v){if(j.Util.invokeEach(C,this.addEventListener,this,x,v)){return this}var q,A,m,w,s,B,z,y=this[g]=this[g]||{},o=v&&v!==this&&j.stamp(v);for(C=j.Util.splitWords(C),q=0,A=C.length;A>q;q++){m={action:x,context:v||this},w=C[q],o?(s=w+"_idx",B=s+"_len",z=y[s]=y[s]||{},z[o]||(z[o]=[],y[B]=(y[B]||0)+1),z[o].push(m)):(y[w]=y[w]||[],y[w].push(m))}return this},hasEventListeners:function(a){var l=this[g];return !!l&&(a in l&&l[a].length>0||a+"_idx" in l&&l[a+"_idx_len"]>0)},removeEventListener:function(F,z,x){if(!this[g]){return this}if(!F){return this.clearAllEventListeners()}if(j.Util.invokeEach(F,this.removeEventListener,this,z,x)){return this}var s,C,o,y,w,E,B,A,q,D=this[g],v=x&&x!==this&&j.stamp(x);for(F=j.Util.splitWords(F),s=0,C=F.length;C>s;s++){if(o=F[s],E=o+"_idx",B=E+"_len",A=D[E],z){if(y=v&&A?A[v]:D[o]){for(w=y.length-1;w>=0;w--){y[w].action!==z||x&&y[w].context!==x||(q=y.splice(w,1),q[0].action=j.Util.falseFn)}x&&A&&0===y.length&&(delete A[v],D[B]--)}}else{delete D[o],delete D[E],delete D[B]}}return this},clearAllEventListeners:function(){return delete this[g],this},fireEvent:function(y,v){if(!this.hasEventListeners(y)){return this}var q,o,w,m,s,p=j.Util.extend({},v,{type:y,target:this}),x=this[g];if(x[y]){for(q=x[y].slice(),o=0,w=q.length;w>o;o++){q[o].action.call(q[o].context,p)}}m=x[y+"_idx"];for(s in m){if(q=m[s].slice()){for(o=0,w=q.length;w>o;o++){q[o].action.call(q[o].context,p)}}}return this},addOneTimeEventListener:function(l,m,a){if(j.Util.invokeEach(l,this.addOneTimeEventListener,this,m,a)){return this}var o=j.bind(function(){this.removeEventListener(l,m,a).removeEventListener(l,o,a)},this);return this.addEventListener(l,m,a).addEventListener(l,o,a)}},j.Mixin.Events.on=j.Mixin.Events.addEventListener,j.Mixin.Events.off=j.Mixin.Events.removeEventListener,j.Mixin.Events.once=j.Mixin.Events.addOneTimeEventListener,j.Mixin.Events.fire=j.Mixin.Events.fireEvent,function(){var H="ActiveXObject" in d,E=H&&!h.addEventListener,R=navigator.userAgent.toLowerCase(),F=-1!==R.indexOf("webkit"),K=-1!==R.indexOf("chrome"),J=-1!==R.indexOf("phantom"),D=-1!==R.indexOf("android"),Q=-1!==R.search("android [23]"),O=-1!==R.indexOf("gecko"),G=typeof orientation!=c+"",S=d.navigator&&d.navigator.msPointerEnabled&&d.navigator.msMaxTouchPoints&&!d.PointerEvent,I=d.PointerEvent&&d.navigator.pointerEnabled&&d.navigator.maxTouchPoints||S,N="devicePixelRatio" in d&&d.devicePixelRatio>1||"matchMedia" in d&&d.matchMedia("(min-resolution:144dpi)")&&d.matchMedia("(min-resolution:144dpi)").matches,M=h.documentElement,C=H&&"transition" in M.style,z="WebKitCSSMatrix" in d&&"m11" in new d.WebKitCSSMatrix&&!Q,o="MozPerspective" in M.style,q="OTransition" in M.style,A=!d.L_DISABLE_3D&&(C||z||o||q)&&!J,B=!d.L_NO_TOUCH&&!J&&function(){var l="ontouchstart";if(I||l in M){return !0}var a=h.createElement("div"),m=!1;return a.setAttribute?(a.setAttribute(l,"return;"),"function"==typeof a[l]&&(m=!0),a.removeAttribute(l),a=null,m):!1}();j.Browser={ie:H,ielt9:E,webkit:F,gecko:O&&!F&&!d.opera&&!H,android:D,android23:Q,chrome:K,ie3d:C,webkit3d:z,gecko3d:o,opera3d:q,any3d:A,mobile:G,mobileWebkit:G&&F,mobileWebkit3d:G&&z,mobileOpera:G&&d.opera,touch:B,msPointer:S,pointer:I,retina:N}}(),j.Point=function(l,m,a){this.x=a?Math.round(l):l,this.y=a?Math.round(m):m},j.Point.prototype={clone:function(){return new j.Point(this.x,this.y)},add:function(a){return this.clone()._add(j.point(a))},_add:function(a){return this.x+=a.x,this.y+=a.y,this},subtract:function(a){return this.clone()._subtract(j.point(a))},_subtract:function(a){return this.x-=a.x,this.y-=a.y,this},divideBy:function(a){return this.clone()._divideBy(a)},_divideBy:function(a){return this.x/=a,this.y/=a,this},multiplyBy:function(a){return this.clone()._multiplyBy(a)},_multiplyBy:function(a){return this.x*=a,this.y*=a,this},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(l){l=j.point(l);var m=l.x-this.x,a=l.y-this.y;return Math.sqrt(m*m+a*a)},equals:function(a){return a=j.point(a),a.x===this.x&&a.y===this.y},contains:function(a){return a=j.point(a),Math.abs(a.x)<=Math.abs(this.x)&&Math.abs(a.y)<=Math.abs(this.y)},toString:function(){return"Point("+j.Util.formatNum(this.x)+", "+j.Util.formatNum(this.y)+")"}},j.point=function(a,l,m){return a instanceof j.Point?a:j.Util.isArray(a)?new j.Point(a[0],a[1]):a===c||null===a?a:new j.Point(a,l,m)},j.Bounds=function(l,m){if(l){for(var a=m?[l,m]:l,q=0,p=a.length;p>q;q++){this.extend(a[q])}}},j.Bounds.prototype={extend:function(a){return a=j.point(a),this.min||this.max?(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(a.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(a.y,this.max.y)):(this.min=a.clone(),this.max=a.clone()),this},getCenter:function(a){return new j.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,a)},getBottomLeft:function(){return new j.Point(this.min.x,this.max.y)},getTopRight:function(){return new j.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(l){var m,a;return l="number"==typeof l[0]||l instanceof j.Point?j.point(l):j.bounds(l),l instanceof j.Bounds?(m=l.min,a=l.max):m=a=l,m.x>=this.min.x&&a.x<=this.max.x&&m.y>=this.min.y&&a.y<=this.max.y},intersects:function(o){o=j.bounds(o);var v=this.min,m=this.max,w=o.min,p=o.max,l=p.x>=v.x&&w.x<=m.x,q=p.y>=v.y&&w.y<=m.y;return l&&q},isValid:function(){return !(!this.min||!this.max)}},j.bounds=function(a,l){return !a||a instanceof j.Bounds?a:new j.Bounds(a,l)},j.Transformation=function(l,m,a,o){this._a=l,this._b=m,this._c=a,this._d=o},j.Transformation.prototype={transform:function(a,l){return this._transform(a.clone(),l)},_transform:function(a,l){return l=l||1,a.x=l*(this._a*a.x+this._b),a.y=l*(this._c*a.y+this._d),a},untransform:function(a,l){return l=l||1,new j.Point((a.x/l-this._b)/this._a,(a.y/l-this._d)/this._c)}},j.DomUtil={get:function(a){return"string"==typeof a?h.getElementById(a):a},getStyle:function(l,a){var p=l.style[a];if(!p&&l.currentStyle&&(p=l.currentStyle[a]),(!p||"auto"===p)&&h.defaultView){var m=h.defaultView.getComputedStyle(l,null);p=m?m[a]:null}return"auto"===p?null:p},getViewportOffset:function(z){var q,o=0,A=0,x=z,m=h.body,v=h.documentElement;do{if(o+=x.offsetTop||0,A+=x.offsetLeft||0,o+=parseInt(j.DomUtil.getStyle(x,"borderTopWidth"),10)||0,A+=parseInt(j.DomUtil.getStyle(x,"borderLeftWidth"),10)||0,q=j.DomUtil.getStyle(x,"position"),x.offsetParent===m&&"absolute"===q){break}if("fixed"===q){o+=m.scrollTop||v.scrollTop||0,A+=m.scrollLeft||v.scrollLeft||0;break}if("relative"===q&&!x.offsetLeft){var p=j.DomUtil.getStyle(x,"width"),y=j.DomUtil.getStyle(x,"max-width"),w=x.getBoundingClientRect();("none"!==p||"none"!==y)&&(A+=w.left+x.clientLeft),o+=w.top+(m.scrollTop||v.scrollTop||0);break}x=x.offsetParent}while(x);x=z;do{if(x===m){break}o-=x.scrollTop||0,A-=x.scrollLeft||0,x=x.parentNode}while(x);return new j.Point(A,o)},documentIsLtr:function(){return j.DomUtil._docIsLtrCached||(j.DomUtil._docIsLtrCached=!0,j.DomUtil._docIsLtr="ltr"===j.DomUtil.getStyle(h.body,"direction")),j.DomUtil._docIsLtr},create:function(l,a,p){var m=h.createElement(l);return m.className=a,p&&p.appendChild(m),m},hasClass:function(a,l){if(a.classList!==c){return a.classList.contains(l)}var m=j.DomUtil._getClass(a);return m.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(m)},addClass:function(m,q){if(m.classList!==c){for(var v=j.Util.splitWords(q),o=0,l=v.length;l>o;o++){m.classList.add(v[o])}}else{if(!j.DomUtil.hasClass(m,q)){var p=j.DomUtil._getClass(m);j.DomUtil._setClass(m,(p?p+" ":"")+q)}}},removeClass:function(a,l){a.classList!==c?a.classList.remove(l):j.DomUtil._setClass(a,j.Util.trim((" "+j.DomUtil._getClass(a)+" ").replace(" "+l+" "," ")))},_setClass:function(a,l){a.className.baseVal===c?a.className=l:a.className.baseVal=l},_getClass:function(a){return a.className.baseVal===c?a.className:a.className.baseVal},setOpacity:function(l,m){if("opacity" in l.style){l.style.opacity=m}else{if("filter" in l.style){var a=!1,q="DXImageTransform.Microsoft.Alpha";try{a=l.filters.item(q)}catch(p){if(1===m){return}}m=Math.round(100*m),a?(a.Enabled=100!==m,a.Opacity=m):l.style.filter+=" progid:"+q+"(opacity="+m+")"}}},testProp:function(l){for(var a=h.documentElement.style,m=0;m<l.length;m++){if(l[m] in a){return l[m]}}return !1},getTranslateString:function(l){var m=j.Browser.webkit3d,a="translate"+(m?"3d":"")+"(",o=(m?",0":"")+")";return a+l.x+"px,"+l.y+"px"+o},getScaleString:function(l,m){var a=j.DomUtil.getTranslateString(m.add(m.multiplyBy(-1*l))),o=" scale("+l+") ";return a+o},setPosition:function(l,m,a){l._leaflet_pos=m,!a&&j.Browser.any3d?l.style[j.DomUtil.TRANSFORM]=j.DomUtil.getTranslateString(m):(l.style.left=m.x+"px",l.style.top=m.y+"px")},getPosition:function(a){return a._leaflet_pos}},j.DomUtil.TRANSFORM=j.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]),j.DomUtil.TRANSITION=j.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),j.DomUtil.TRANSITION_END="webkitTransition"===j.DomUtil.TRANSITION||"OTransition"===j.DomUtil.TRANSITION?j.DomUtil.TRANSITION+"End":"transitionend",function(){if("onselectstart" in h){j.extend(j.DomUtil,{disableTextSelection:function(){j.DomEvent.on(d,"selectstart",j.DomEvent.preventDefault)},enableTextSelection:function(){j.DomEvent.off(d,"selectstart",j.DomEvent.preventDefault)}})}else{var a=j.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);j.extend(j.DomUtil,{disableTextSelection:function(){if(a){var l=h.documentElement.style;this._userSelect=l[a],l[a]="none"}},enableTextSelection:function(){a&&(h.documentElement.style[a]=this._userSelect,delete this._userSelect)}})}j.extend(j.DomUtil,{disableImageDrag:function(){j.DomEvent.on(d,"dragstart",j.DomEvent.preventDefault)},enableImageDrag:function(){j.DomEvent.off(d,"dragstart",j.DomEvent.preventDefault)}})}(),j.LatLng=function(a,l,m){if(a=parseFloat(a),l=parseFloat(l),isNaN(a)||isNaN(l)){throw new Error("Invalid LatLng object: ("+a+", "+l+")")}this.lat=a,this.lng=l,m!==c&&(this.alt=parseFloat(m))},j.extend(j.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),j.LatLng.prototype={equals:function(a){if(!a){return !1}a=j.latLng(a);var l=Math.max(Math.abs(this.lat-a.lat),Math.abs(this.lng-a.lng));return l<=j.LatLng.MAX_MARGIN},toString:function(a){return"LatLng("+j.Util.formatNum(this.lat,a)+", "+j.Util.formatNum(this.lng,a)+")"},distanceTo:function(z){z=j.latLng(z);var w=6378137,q=j.LatLng.DEG_TO_RAD,o=(z.lat-this.lat)*q,A=(z.lng-this.lng)*q,x=this.lat*q,m=z.lat*q,v=Math.sin(o/2),p=Math.sin(A/2),y=v*v+p*p*Math.cos(x)*Math.cos(m);return 2*w*Math.atan2(Math.sqrt(y),Math.sqrt(1-y))},wrap:function(l,m){var a=this.lng;return l=l||-180,m=m||180,a=(a+m)%(m-l)+(l>a||a===m?m:l),new j.LatLng(this.lat,a)}},j.latLng=function(a,l){return a instanceof j.LatLng?a:j.Util.isArray(a)?"number"==typeof a[0]||"string"==typeof a[0]?new j.LatLng(a[0],a[1],a[2]):null:a===c||null===a?a:"object"==typeof a&&"lat" in a?new j.LatLng(a.lat,"lng" in a?a.lng:a.lon):l===c?null:new j.LatLng(a,l)},j.LatLngBounds=function(l,m){if(l){for(var a=m?[l,m]:l,q=0,p=a.length;p>q;q++){this.extend(a[q])}}},j.LatLngBounds.prototype={extend:function(a){if(!a){return this}var l=j.latLng(a);return a=null!==l?l:j.latLngBounds(a),a instanceof j.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(a.lat,this._southWest.lat),this._southWest.lng=Math.min(a.lng,this._southWest.lng),this._northEast.lat=Math.max(a.lat,this._northEast.lat),this._northEast.lng=Math.max(a.lng,this._northEast.lng)):(this._southWest=new j.LatLng(a.lat,a.lng),this._northEast=new j.LatLng(a.lat,a.lng)):a instanceof j.LatLngBounds&&(this.extend(a._southWest),this.extend(a._northEast)),this},pad:function(l){var o=this._southWest,a=this._northEast,p=Math.abs(o.lat-a.lat)*l,m=Math.abs(o.lng-a.lng)*l;return new j.LatLngBounds(new j.LatLng(o.lat-p,o.lng-m),new j.LatLng(a.lat+p,a.lng+m))},getCenter:function(){return new j.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new j.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new j.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(l){l="number"==typeof l[0]||l instanceof j.LatLng?j.latLng(l):j.latLngBounds(l);var o,a,p=this._southWest,m=this._northEast;return l instanceof j.LatLngBounds?(o=l.getSouthWest(),a=l.getNorthEast()):o=a=l,o.lat>=p.lat&&a.lat<=m.lat&&o.lng>=p.lng&&a.lng<=m.lng},intersects:function(o){o=j.latLngBounds(o);var v=this._southWest,m=this._northEast,w=o.getSouthWest(),p=o.getNorthEast(),l=p.lat>=v.lat&&w.lat<=m.lat,q=p.lng>=v.lng&&w.lng<=m.lng;return l&&q},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(a){return a?(a=j.latLngBounds(a),this._southWest.equals(a.getSouthWest())&&this._northEast.equals(a.getNorthEast())):!1},isValid:function(){return !(!this._southWest||!this._northEast)}},j.latLngBounds=function(a,l){return !a||a instanceof j.LatLngBounds?a:new j.LatLngBounds(a,l)},j.Projection={},j.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(o){var q=j.LatLng.DEG_TO_RAD,m=this.MAX_LATITUDE,r=Math.max(Math.min(m,o.lat),-m),p=o.lng*q,l=r*q;return l=Math.log(Math.tan(Math.PI/4+l/2)),new j.Point(p,l)},unproject:function(l){var m=j.LatLng.RAD_TO_DEG,a=l.x*m,o=(2*Math.atan(Math.exp(l.y))-Math.PI/2)*m;return new j.LatLng(o,a)}},j.Projection.LonLat={project:function(a){return new j.Point(a.lng,a.lat)},unproject:function(a){return new j.LatLng(a.y,a.x)}},j.CRS={latLngToPoint:function(l,m){var a=this.projection.project(l),o=this.scale(m);return this.transformation._transform(a,o)},pointToLatLng:function(l,m){var a=this.scale(m),o=this.transformation.untransform(l,a);return this.projection.unproject(o)},project:function(a){return this.projection.project(a)},scale:function(a){return 256*Math.pow(2,a)},getSize:function(a){var l=this.scale(a);return j.point(l,l)}},j.CRS.Simple=j.extend({},j.CRS,{projection:j.Projection.LonLat,transformation:new j.Transformation(1,0,-1,0),scale:function(a){return Math.pow(2,a)}}),j.CRS.EPSG3857=j.extend({},j.CRS,{code:"EPSG:3857",projection:j.Projection.SphericalMercator,transformation:new j.Transformation(0.5/Math.PI,0.5,-0.5/Math.PI,0.5),project:function(l){var m=this.projection.project(l),a=6378137;return m.multiplyBy(a)}}),j.CRS.EPSG900913=j.extend({},j.CRS.EPSG3857,{code:"EPSG:900913"}),j.CRS.EPSG4326=j.extend({},j.CRS,{code:"EPSG:4326",projection:j.Projection.LonLat,transformation:new j.Transformation(1/360,0.5,-1/360,0.5)}),j.Map=j.Class.extend({includes:j.Mixin.Events,options:{crs:j.CRS.EPSG3857,fadeAnimation:j.DomUtil.TRANSITION&&!j.Browser.android23,trackResize:!0,markerZoomAnimation:j.DomUtil.TRANSITION&&j.Browser.any3d},initialize:function(a,l){l=j.setOptions(this,l),this._initContainer(a),this._initLayout(),this._onResize=j.bind(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.center&&l.zoom!==c&&this.setView(j.latLng(l.center),l.zoom,{reset:!0}),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._tileLayersNum=0,this.callInitHooks(),this._addLayers(l.layers)},setView:function(a,l){return l=l===c?this.getZoom():l,this._resetView(j.latLng(a),this._limitZoom(l)),this},setZoom:function(a,l){return this._loaded?this.setView(this.getCenter(),a,{zoom:l}):(this._zoom=this._limitZoom(a),this)},zoomIn:function(a,l){return this.setZoom(this._zoom+(a||1),l)},zoomOut:function(a,l){return this.setZoom(this._zoom-(a||1),l)},setZoomAround:function(o,w,m){var x=this.getZoomScale(w),q=this.getSize().divideBy(2),l=o instanceof j.Point?o:this.latLngToContainerPoint(o),v=l.subtract(q).multiplyBy(1-1/x),p=this.containerPointToLatLng(q.add(v));return this.setView(p,w,{zoom:m})},fitBounds:function(y,w){w=w||{},y=y.getBounds?y.getBounds():j.latLngBounds(y);var q=j.point(w.paddingTopLeft||w.padding||[0,0]),o=j.point(w.paddingBottomRight||w.padding||[0,0]),z=this.getBoundsZoom(y,!1,q.add(o)),x=o.subtract(q).divideBy(2),m=this.project(y.getSouthWest(),z),v=this.project(y.getNorthEast(),z),p=this.unproject(m.add(v).divideBy(2).add(x),z);return z=w&&w.maxZoom?Math.min(w.maxZoom,z):z,this.setView(p,z,w)},fitWorld:function(a){return this.fitBounds([[-90,-180],[90,180]],a)},panTo:function(a,l){return this.setView(a,this._zoom,{pan:l})},panBy:function(a){return this.fire("movestart"),this._rawPanBy(j.point(a)),this.fire("move"),this.fire("moveend")},setMaxBounds:function(a){return a=j.latLngBounds(a),this.options.maxBounds=a,a?(this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds,this)):this.off("moveend",this._panInsideMaxBounds,this)},panInsideBounds:function(l,m){var a=this.getCenter(),o=this._limitCenter(a,this._zoom,l);return a.equals(o)?this:this.panTo(o,m)},addLayer:function(a){var l=j.stamp(a);return this._layers[l]?this:(this._layers[l]=a,!a.options||isNaN(a.options.maxZoom)&&isNaN(a.options.minZoom)||(this._zoomBoundLayers[l]=a,this._updateZoomLevels()),this.options.zoomAnimation&&j.TileLayer&&a instanceof j.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,a.on("load",this._onTileLayerLoad,this)),this._loaded&&this._layerAdd(a),this)},removeLayer:function(a){var l=j.stamp(a);return this._layers[l]?(this._loaded&&a.onRemove(this),delete this._layers[l],this._loaded&&this.fire("layerremove",{layer:a}),this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels()),this.options.zoomAnimation&&j.TileLayer&&a instanceof j.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,a.off("load",this._onTileLayerLoad,this)),this):this},hasLayer:function(a){return a?j.stamp(a) in this._layers:!1},eachLayer:function(l,m){for(var a in this._layers){l.call(m,this._layers[a])}return this},invalidateSize:function(o){if(!this._loaded){return this}o=j.extend({animate:!1,pan:!0},o===!0?{animate:!0}:o);var q=this.getSize();this._sizeChanged=!0,this._initialCenter=null;var m=this.getSize(),r=q.divideBy(2).round(),p=m.divideBy(2).round(),l=r.subtract(p);return l.x||l.y?(o.animate&&o.pan?this.panBy(l):(o.pan&&this._rawPanBy(l),this.fire("move"),o.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(j.bind(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:q,newSize:m})):this},addHandler:function(l,m){if(!m){return this}var a=this[l]=new m(this);return this._handlers.push(a),this.options[l]&&a.enable(),this},remove:function(){this._loaded&&this.fire("unload"),this._initEvents("off");try{delete this._container._leaflet}catch(a){this._container._leaflet=c}return this._clearPanes(),this._clearControlPos&&this._clearControlPos(),this._clearHandlers(),this},getCenter:function(){return this._checkIfLoaded(),this._initialCenter&&!this._moved()?this._initialCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var l=this.getPixelBounds(),m=this.unproject(l.getBottomLeft()),a=this.unproject(l.getTopRight());return new j.LatLngBounds(m,a)},getMinZoom:function(){return this.options.minZoom===c?this._layersMinZoom===c?0:this._layersMinZoom:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===c?this._layersMaxZoom===c?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(z,w,q){z=j.latLngBounds(z);var o,A=this.getMinZoom()-(w?1:0),x=this.getMaxZoom(),m=this.getSize(),v=z.getNorthWest(),p=z.getSouthEast(),y=!0;q=j.point(q||[0,0]);do{A++,o=this.project(p,A).subtract(this.project(v,A)).add(q),y=w?o.x<m.x||o.y<m.y:m.contains(o)}while(y&&x>=A);return y&&w?null:w?A:A-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new j.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var a=this._getTopLeftPoint();return new j.Bounds(a,a.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(a){var l=this.options.crs;return l.scale(a)/l.scale(this._zoom)},getScaleZoom:function(a){return this._zoom+Math.log(a)/Math.LN2},project:function(a,l){return l=l===c?this._zoom:l,this.options.crs.latLngToPoint(j.latLng(a),l)},unproject:function(a,l){return l=l===c?this._zoom:l,this.options.crs.pointToLatLng(j.point(a),l)},layerPointToLatLng:function(a){var l=j.point(a).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(a){var l=this.project(j.latLng(a))._round();return l._subtract(this.getPixelOrigin())},containerPointToLayerPoint:function(a){return j.point(a).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(a){return j.point(a).add(this._getMapPanePos())},containerPointToLatLng:function(a){var l=this.containerPointToLayerPoint(j.point(a));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(a){return this.layerPointToContainerPoint(this.latLngToLayerPoint(j.latLng(a)))},mouseEventToContainerPoint:function(a){return j.DomEvent.getMousePosition(a,this._container)},mouseEventToLayerPoint:function(a){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(a))},mouseEventToLatLng:function(a){return this.layerPointToLatLng(this.mouseEventToLayerPoint(a))},_initContainer:function(a){var l=this._container=j.DomUtil.get(a);if(!l){throw new Error("Map container not found.")}if(l._leaflet){throw new Error("Map container is already initialized.")}l._leaflet=!0},_initLayout:function(){var a=this._container;j.DomUtil.addClass(a,"leaflet-container"+(j.Browser.touch?" leaflet-touch":"")+(j.Browser.retina?" leaflet-retina":"")+(j.Browser.ielt9?" leaflet-oldie":"")+(this.options.fadeAnimation?" leaflet-fade-anim":""));var l=j.DomUtil.getStyle(a,"position");"absolute"!==l&&"relative"!==l&&"fixed"!==l&&(a.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var a=this._panes={};this._mapPane=a.mapPane=this._createPane("leaflet-map-pane",this._container),this._tilePane=a.tilePane=this._createPane("leaflet-tile-pane",this._mapPane),a.objectsPane=this._createPane("leaflet-objects-pane",this._mapPane),a.shadowPane=this._createPane("leaflet-shadow-pane"),a.overlayPane=this._createPane("leaflet-overlay-pane"),a.markerPane=this._createPane("leaflet-marker-pane"),a.popupPane=this._createPane("leaflet-popup-pane");var l=" leaflet-zoom-hide";this.options.markerZoomAnimation||(j.DomUtil.addClass(a.markerPane,l),j.DomUtil.addClass(a.shadowPane,l),j.DomUtil.addClass(a.popupPane,l))},_createPane:function(a,l){return j.DomUtil.create("div",a,l||this._panes.objectsPane)},_clearPanes:function(){this._container.removeChild(this._mapPane)},_addLayers:function(l){l=l?j.Util.isArray(l)?l:[l]:[];for(var m=0,a=l.length;a>m;m++){this.addLayer(l[m])}},_resetView:function(o,q,m,r){var p=this._zoom!==q;r||(this.fire("movestart"),p&&this.fire("zoomstart")),this._zoom=q,this._initialCenter=o,this._initialTopLeftPoint=this._getNewTopLeftPoint(o),m?this._initialTopLeftPoint._add(this._getMapPanePos()):j.DomUtil.setPosition(this._mapPane,new j.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var l=!this._loaded;this._loaded=!0,l&&(this.fire("load"),this.eachLayer(this._layerAdd,this)),this.fire("viewreset",{hard:!m}),this.fire("move"),(p||r)&&this.fire("zoomend"),this.fire("moveend",{hard:!m})},_rawPanBy:function(a){j.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(a))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_updateZoomLevels:function(){var a,m=1/0,q=-1/0,p=this._getZoomSpan();for(a in this._zoomBoundLayers){var l=this._zoomBoundLayers[a];isNaN(l.options.minZoom)||(m=Math.min(m,l.options.minZoom)),isNaN(l.options.maxZoom)||(q=Math.max(q,l.options.maxZoom))}a===c?this._layersMaxZoom=this._layersMinZoom=c:(this._layersMaxZoom=q,this._layersMinZoom=m),p!==this._getZoomSpan()&&this.fire("zoomlevelschange")},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded){throw new Error("Set map center and zoom first.")}},_initEvents:function(m){if(j.DomEvent){m=m||"on",j.DomEvent[m](this._container,"click",this._onMouseClick,this);var a,o,l=["dblclick","mousedown","mouseup","mouseenter","mouseleave","mousemove","contextmenu"];for(a=0,o=l.length;o>a;a++){j.DomEvent[m](this._container,l[a],this._fireMouseEvent,this)}this.options.trackResize&&j.DomEvent[m](d,"resize",this._onResize,this)}},_onResize:function(){j.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=j.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:!0})},this,!1,this._container)},_onMouseClick:function(a){!this._loaded||!a._simulated&&(this.dragging&&this.dragging.moved()||this.boxZoom&&this.boxZoom.moved())||j.DomEvent._skipped(a)||(this.fire("preclick"),this._fireMouseEvent(a))},_fireMouseEvent:function(l){if(this._loaded&&!j.DomEvent._skipped(l)){var o=l.type;if(o="mouseenter"===o?"mouseover":"mouseleave"===o?"mouseout":o,this.hasEventListeners(o)){"contextmenu"===o&&j.DomEvent.preventDefault(l);var a=this.mouseEventToContainerPoint(l),p=this.containerPointToLayerPoint(a),m=this.layerPointToLatLng(p);this.fire(o,{latlng:m,layerPoint:p,containerPoint:a,originalEvent:l})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this.fire("tilelayersload")},_clearHandlers:function(){for(var a=0,l=this._handlers.length;l>a;a++){this._handlers[a].disable()}},whenReady:function(a,l){return this._loaded?a.call(l||this,this):this.on("load",a,l),this},_layerAdd:function(a){a.onAdd(this),this.fire("layeradd",{layer:a})},_getMapPanePos:function(){return j.DomUtil.getPosition(this._mapPane)},_moved:function(){var a=this._getMapPanePos();return a&&!a.equals([0,0])},_getTopLeftPoint:function(){return this.getPixelOrigin().subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(l,m){var a=this.getSize()._divideBy(2);return this.project(l,m)._subtract(a)._round()},_latLngToNewLayerPoint:function(l,m,a){var o=this._getNewTopLeftPoint(a,m).add(this._getMapPanePos());return this.project(l,m)._subtract(o)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(a){return this.latLngToLayerPoint(a).subtract(this._getCenterLayerPoint())},_limitCenter:function(o,v,m){if(!m){return o}var w=this.project(o,v),p=this.getSize().divideBy(2),l=new j.Bounds(w.subtract(p),w.add(p)),q=this._getBoundsOffset(l,m,v);return this.unproject(w.add(q),v)},_limitOffset:function(l,m){if(!m){return l}var a=this.getPixelBounds(),o=new j.Bounds(a.min.add(l),a.max.add(l));return l.add(this._getBoundsOffset(o,m))},_getBoundsOffset:function(o,v,m){var w=this.project(v.getNorthWest(),m).subtract(o.min),p=this.project(v.getSouthEast(),m).subtract(o.max),l=this._rebound(w.x,-p.x),q=this._rebound(w.y,-p.y);return new j.Point(l,q)},_rebound:function(a,l){return a+l>0?Math.round(a-l)/2:Math.max(0,Math.ceil(a))-Math.max(0,Math.floor(l))},_limitZoom:function(l){var m=this.getMinZoom(),a=this.getMaxZoom();return Math.max(m,Math.min(a,l))}}),j.map=function(a,l){return new j.Map(a,l)},j.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.314245179,R_MAJOR:6378137,project:function(B){var w=j.LatLng.DEG_TO_RAD,q=this.MAX_LATITUDE,o=Math.max(Math.min(q,B.lat),-q),C=this.R_MAJOR,z=this.R_MINOR,m=B.lng*w*C,v=o*w,p=z/C,A=Math.sqrt(1-p*p),y=A*Math.sin(v);y=Math.pow((1-y)/(1+y),0.5*A);var x=Math.tan(0.5*(0.5*Math.PI-v))/y;return v=-C*Math.log(x),new j.Point(m,v)},unproject:function(E){for(var y,w=j.LatLng.RAD_TO_DEG,q=this.R_MAJOR,F=this.R_MINOR,B=E.x*w/q,m=F/q,x=Math.sqrt(1-m*m),v=Math.exp(-E.y/q),D=Math.PI/2-2*Math.atan(v),A=15,z=1e-7,o=A,C=0.1;Math.abs(C)>z&&--o>0;){y=x*Math.sin(D),C=Math.PI/2-2*Math.atan(v*Math.pow((1-y)/(1+y),0.5*x))-D,D+=C}return new j.LatLng(D*w,B)}},j.CRS.EPSG3395=j.extend({},j.CRS,{code:"EPSG:3395",projection:j.Projection.Mercator,transformation:function(){var l=j.Projection.Mercator,m=l.R_MAJOR,a=0.5/(Math.PI*m);return new j.Transformation(a,0.5,-a,0.5)}()}),j.TileLayer=j.Class.extend({includes:j.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:"abc",errorTileUrl:"",attribution:"",zoomOffset:0,opacity:1,unloadInvisibleTiles:j.Browser.mobile,updateWhenIdle:j.Browser.mobile},initialize:function(l,m){m=j.setOptions(this,m),m.detectRetina&&j.Browser.retina&&m.maxZoom>0&&(m.tileSize=Math.floor(m.tileSize/2),m.zoomOffset++,m.minZoom>0&&m.minZoom--,this.options.maxZoom--),m.bounds&&(m.bounds=j.latLngBounds(m.bounds)),this._url=l;var a=this.options.subdomains;"string"==typeof a&&(this.options.subdomains=a.split(""))},onAdd:function(a){this._map=a,this._animated=a._zoomAnimated,this._initContainer(),this._createTileProto(),a.on({viewreset:this._reset,moveend:this._update},this),this._animated&&a.on({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||(this._limitedUpdate=j.Util.limitExecByInterval(this._update,150,this),a.on("move",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(a){return a.addLayer(this),this},onRemove:function(a){this._container.parentNode.removeChild(this._container),a.off({viewreset:this._reset,moveend:this._update},this),this._animated&&a.off({zoomanim:this._animateZoom,zoomend:this._endZoomAnim},this),this.options.updateWhenIdle||a.off("move",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var a=this._map._panes.tilePane;return this._container&&(a.appendChild(this._container),this._setAutoZIndex(a,Math.max)),this},bringToBack:function(){var a=this._map._panes.tilePane;return this._container&&(a.insertBefore(this._container,a.firstChild),this._setAutoZIndex(a,Math.min)),this},getAttribution:function(){return this.options.attribution},getContainer:function(){return this._container},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},setZIndex:function(a){return this.options.zIndex=a,this._updateZIndex(),this},setUrl:function(a,l){return this._url=a,l||this.redraw(),this},redraw:function(){return this._map&&(this._reset({hard:!0}),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==c&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(p,r){var m,w,v,q=p.children,l=-r(1/0,-1/0);for(w=0,v=q.length;v>w;w++){q[w]!==this._container&&(m=parseInt(q[w].style.zIndex,10),isNaN(m)||(l=r(l,m)))}this.options.zIndex=this._container.style.zIndex=(isFinite(l)?l:0)+r(1,-1)},_updateOpacity:function(){var a,l=this._tiles;if(j.Browser.ielt9){for(a in l){j.DomUtil.setOpacity(l[a],this.options.opacity)}}else{j.DomUtil.setOpacity(this._container,this.options.opacity)}},_initContainer:function(){var a=this._map._panes.tilePane;if(!this._container){if(this._container=j.DomUtil.create("div","leaflet-layer"),this._updateZIndex(),this._animated){var l="leaflet-tile-container";this._bgBuffer=j.DomUtil.create("div",l,this._container),this._tileContainer=j.DomUtil.create("div",l,this._container)}else{this._tileContainer=this._container}a.appendChild(this._container),this.options.opacity<1&&this._updateOpacity()}},_reset:function(a){for(var l in this._tiles){this.fire("tileunload",{tile:this._tiles[l]})}this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),this._tileContainer.innerHTML="",this._animated&&a&&a.hard&&this._clearBgBuffer(),this._initContainer()},_getTileSize:function(){var l=this._map,m=l.getZoom()+this.options.zoomOffset,a=this.options.maxNativeZoom,o=this.options.tileSize;return a&&m>a&&(o=Math.round(l.getZoomScale(m)/l.getZoomScale(a)*o)),o},_update:function(){if(this._map){var l=this._map.getPixelBounds(),m=this._map.getZoom(),a=this.options.tileSize;if(!(m>this.options.maxZoom||m<this.options.minZoom)){var o=j.bounds(l.min.divideBy(a)._floor(),l.max.divideBy(a)._floor());this._addTilesFromCenterOut(o),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(o)}}},_addTilesFromCenterOut:function(q){var p,y,w,o=[],x=q.getCenter();for(p=q.min.y;p<=q.max.y;p++){for(y=q.min.x;y<=q.max.x;y++){w=new j.Point(y,p),this._tileShouldBeLoaded(w)&&o.push(w)}}var v=o.length;if(0!==v){o.sort(function(a,l){return a.distanceTo(x)-l.distanceTo(x)});var m=h.createDocumentFragment();for(this._tilesToLoad||this.fire("loading"),this._tilesToLoad+=v,y=0;v>y;y++){this._addTile(o[y],m)}this._tileContainer.appendChild(m)}},_tileShouldBeLoaded:function(p){if(p.x+":"+p.y in this._tiles){return !1}var w=this.options;if(!w.continuousWorld){var m=this._getWrapTileNum();if(w.noWrap&&(p.x<0||p.x>=m.x)||p.y<0||p.y>=m.y){return !1}}if(w.bounds){var y=w.tileSize,x=p.multiplyBy(y),q=x.add([y,y]),l=this._map.unproject(x),v=this._map.unproject(q);if(w.continuousWorld||w.noWrap||(l=l.wrap(),v=v.wrap()),!w.bounds.intersects([l,v])){return !1}}return !0},_removeOtherTiles:function(l){var m,a,q,p;for(p in this._tiles){m=p.split(":"),a=parseInt(m[0],10),q=parseInt(m[1],10),(a<l.min.x||a>l.max.x||q<l.min.y||q>l.max.y)&&this._removeTile(p)}},_removeTile:function(a){var l=this._tiles[a];this.fire("tileunload",{tile:l,url:l.src}),this.options.reuseTiles?(j.DomUtil.removeClass(l,"leaflet-tile-loaded"),this._unusedTiles.push(l)):l.parentNode===this._tileContainer&&this._tileContainer.removeChild(l),j.Browser.android||(l.onload=null,l.src=j.Util.emptyImageUrl),delete this._tiles[a]},_addTile:function(l,m){var a=this._getTilePos(l),o=this._getTile();j.DomUtil.setPosition(o,a,j.Browser.chrome),this._tiles[l.x+":"+l.y]=o,this._loadTile(o,l),o.parentNode!==this._tileContainer&&m.appendChild(o)},_getZoomForUrl:function(){var a=this.options,l=this._map.getZoom();return a.zoomReverse&&(l=a.maxZoom-l),l+a.zoomOffset},_getTilePos:function(l){var m=this._map.getPixelOrigin(),a=this.options.tileSize;return l.multiplyBy(a).subtract(m)},getTileUrl:function(a){return j.Util.template(this._url,j.extend({s:this._getSubdomain(a),z:a.z,x:a.x,y:a.y},this.options))},_getWrapTileNum:function(){var a=this._map.options.crs,l=a.getSize(this._map.getZoom());return l.divideBy(this._getTileSize())._floor()},_adjustTilePoint:function(a){var l=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(a.x=(a.x%l.x+l.x)%l.x),this.options.tms&&(a.y=l.y-a.y-1),a.z=this._getZoomForUrl()},_getSubdomain:function(a){var l=Math.abs(a.x+a.y)%this.options.subdomains.length;return this.options.subdomains[l]},_createTileProto:function(){var a=this._tileImg=j.DomUtil.create("img","leaflet-tile");a.style.width=a.style.height=this.options.tileSize+"px",a.galleryimg="no"},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var a=this._unusedTiles.pop();return this._resetTile(a),a}return this._createTile()},_resetTile:function(){},_createTile:function(){var a=this._tileImg.cloneNode(!1);return a.onselectstart=a.onmousemove=j.Util.falseFn,j.Browser.ielt9&&this.options.opacity!==c&&j.DomUtil.setOpacity(a,this.options.opacity),j.Browser.mobileWebkit3d&&(a.style.WebkitBackfaceVisibility="hidden"),a},_loadTile:function(a,l){a._layer=this,a.onload=this._tileOnLoad,a.onerror=this._tileOnError,this._adjustTilePoint(l),a.src=this.getTileUrl(l),this.fire("tileloadstart",{tile:a,url:a.src})},_tileLoaded:function(){this._tilesToLoad--,this._animated&&j.DomUtil.addClass(this._tileContainer,"leaflet-zoom-animated"),this._tilesToLoad||(this.fire("load"),this._animated&&(clearTimeout(this._clearBgBufferTimer),this._clearBgBufferTimer=setTimeout(j.bind(this._clearBgBuffer,this),500)))},_tileOnLoad:function(){var a=this._layer;this.src!==j.Util.emptyImageUrl&&(j.DomUtil.addClass(this,"leaflet-tile-loaded"),a.fire("tileload",{tile:this,url:this.src})),a._tileLoaded()},_tileOnError:function(){var a=this._layer;a.fire("tileerror",{tile:this,url:this.src});var l=a.options.errorTileUrl;l&&(this.src=l),a._tileLoaded()}}),j.tileLayer=function(a,l){return new j.TileLayer(a,l)},j.TileLayer.WMS=j.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",version:"1.1.1",layers:"",styles:"",format:"image/jpeg",transparent:!1},initialize:function(l,o){this._url=l;var a=j.extend({},this.defaultWmsParams),p=o.tileSize||this.options.tileSize;a.width=a.height=o.detectRetina&&j.Browser.retina?2*p:p;for(var m in o){this.options.hasOwnProperty(m)||"crs"===m||(a[m]=o[m])}this.wmsParams=a,j.setOptions(this,o)},onAdd:function(a){this._crs=this.options.crs||a.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,j.TileLayer.prototype.onAdd.call(this,a)},getTileUrl:function(y){var w=this._map,q=this.options.tileSize,o=y.multiplyBy(q),z=o.add([q,q]),x=this._crs.project(w.unproject(o,y.z)),m=this._crs.project(w.unproject(z,y.z)),v=this._wmsVersion>=1.3&&this._crs===j.CRS.EPSG4326?[m.y,x.x,x.y,m.x].join(","):[x.x,m.y,m.x,x.y].join(","),p=j.Util.template(this._url,{s:this._getSubdomain(y)});return p+j.Util.getParamString(this.wmsParams,p,!0)+"&BBOX="+v},setParams:function(a,l){return j.extend(this.wmsParams,a),l||this.redraw(),this}}),j.tileLayer.wms=function(a,l){return new j.TileLayer.WMS(a,l)},j.TileLayer.Canvas=j.TileLayer.extend({options:{async:!1},initialize:function(a){j.setOptions(this,a)},redraw:function(){this._map&&(this._reset({hard:!0}),this._update());for(var a in this._tiles){this._redrawTile(this._tiles[a])}return this},_redrawTile:function(a){this.drawTile(a,a._tilePoint,this._map._zoom)},_createTileProto:function(){var a=this._canvasProto=j.DomUtil.create("canvas","leaflet-tile");a.width=a.height=this.options.tileSize},_createTile:function(){var a=this._canvasProto.cloneNode(!1);return a.onselectstart=a.onmousemove=j.Util.falseFn,a},_loadTile:function(a,l){a._layer=this,a._tilePoint=l,this._redrawTile(a),this.options.async||this.tileDrawn(a)},drawTile:function(){},tileDrawn:function(a){this._tileOnLoad.call(a)}}),j.tileLayer.canvas=function(a){return new j.TileLayer.Canvas(a)},j.ImageOverlay=j.Class.extend({includes:j.Mixin.Events,options:{opacity:1},initialize:function(l,m,a){this._url=l,this._bounds=j.latLngBounds(m),j.setOptions(this,a)},onAdd:function(a){this._map=a,this._image||this._initImage(),a._panes.overlayPane.appendChild(this._image),a.on("viewreset",this._reset,this),a.options.zoomAnimation&&j.Browser.any3d&&a.on("zoomanim",this._animateZoom,this),this._reset()},onRemove:function(a){a.getPanes().overlayPane.removeChild(this._image),a.off("viewreset",this._reset,this),a.options.zoomAnimation&&a.off("zoomanim",this._animateZoom,this)},addTo:function(a){return a.addLayer(this),this},setOpacity:function(a){return this.options.opacity=a,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var a=this._map._panes.overlayPane;return this._image&&a.insertBefore(this._image,a.firstChild),this},setUrl:function(a){this._url=a,this._image.src=this._url},getAttribution:function(){return this.options.attribution},_initImage:function(){this._image=j.DomUtil.create("img","leaflet-image-layer"),this._map.options.zoomAnimation&&j.Browser.any3d?j.DomUtil.addClass(this._image,"leaflet-zoom-animated"):j.DomUtil.addClass(this._image,"leaflet-zoom-hide"),this._updateOpacity(),j.extend(this._image,{galleryimg:"no",onselectstart:j.Util.falseFn,onmousemove:j.Util.falseFn,onload:j.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(y){var w=this._map,q=this._image,o=w.getZoomScale(y.zoom),z=this._bounds.getNorthWest(),x=this._bounds.getSouthEast(),m=w._latLngToNewLayerPoint(z,y.zoom,y.center),v=w._latLngToNewLayerPoint(x,y.zoom,y.center)._subtract(m),p=m._add(v._multiplyBy(0.5*(1-1/o)));q.style[j.DomUtil.TRANSFORM]=j.DomUtil.getTranslateString(p)+" scale("+o+") "},_reset:function(){var l=this._image,m=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),a=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(m);j.DomUtil.setPosition(l,m),l.style.width=a.x+"px",l.style.height=a.y+"px"},_onImageLoad:function(){this.fire("load")},_updateOpacity:function(){j.DomUtil.setOpacity(this._image,this.options.opacity)}}),j.imageOverlay=function(l,m,a){return new j.ImageOverlay(l,m,a)},j.Icon=j.Class.extend({options:{className:""},initialize:function(a){j.setOptions(this,a)},createIcon:function(a){return this._createIcon("icon",a)},createShadow:function(a){return this._createIcon("shadow",a)},_createIcon:function(l,m){var a=this._getIconUrl(l);if(!a){if("icon"===l){throw new Error("iconUrl not set in Icon options (see the docs).")}return null}var o;return o=m&&"IMG"===m.tagName?this._createImg(a,m):this._createImg(a),this._setIconStyles(o,l),o},_setIconStyles:function(l,o){var a,p=this.options,m=j.point(p[o+"Size"]);a="shadow"===o?j.point(p.shadowAnchor||p.iconAnchor):j.point(p.iconAnchor),!a&&m&&(a=m.divideBy(2,!0)),l.className="leaflet-marker-"+o+" "+p.className,a&&(l.style.marginLeft=-a.x+"px",l.style.marginTop=-a.y+"px"),m&&(l.style.width=m.x+"px",l.style.height=m.y+"px")},_createImg:function(l,a){return a=a||h.createElement("img"),a.src=l,a},_getIconUrl:function(a){return j.Browser.retina&&this.options[a+"RetinaUrl"]?this.options[a+"RetinaUrl"]:this.options[a+"Url"]}}),j.icon=function(a){return new j.Icon(a)},j.Icon.Default=j.Icon.extend({options:{iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]},_getIconUrl:function(l){var m=l+"Url";if(this.options[m]){return this.options[m]}j.Browser.retina&&"icon"===l&&(l+="-2x");var a=j.Icon.Default.imagePath;if(!a){throw new Error("Couldn't autodetect L.Icon.Default.imagePath, set it manually.")}return a+"/marker-"+l+".png"}}),j.Icon.Default.imagePath=function(){var p,m,x,w,q,l=h.getElementsByTagName("script"),v=/[\/^]leaflet[\-\._]?([\w\-\._]*)\.js\??/;for(p=0,m=l.length;m>p;p++){if(x=l[p].src,w=x.match(v)){return q=x.split(v)[0],(q?q+"/":"")+"images"}}}(),j.Marker=j.Class.extend({includes:j.Mixin.Events,options:{icon:new j.Icon.Default,title:"",alt:"",clickable:!0,draggable:!1,keyboard:!0,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(a,l){j.setOptions(this,l),this._latlng=j.latLng(a)},onAdd:function(a){this._map=a,a.on("viewreset",this.update,this),this._initIcon(),this.update(),this.fire("add"),a.options.zoomAnimation&&a.options.markerZoomAnimation&&a.on("zoomanim",this._animateZoom,this)},addTo:function(a){return a.addLayer(this),this},onRemove:function(a){this.dragging&&this.dragging.disable(),this._removeIcon(),this._removeShadow(),this.fire("remove"),a.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=j.latLng(a),this.update(),this.fire("move",{latlng:this._latlng})},setZIndexOffset:function(a){return this.options.zIndexOffset=a,this.update(),this},setIcon:function(a){return this.options.icon=a,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup),this},update:function(){if(this._icon){var a=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(a)}return this},_initIcon:function(){var y=this.options,w=this._map,q=w.options.zoomAnimation&&w.options.markerZoomAnimation,o=q?"leaflet-zoom-animated":"leaflet-zoom-hide",z=y.icon.createIcon(this._icon),x=!1;z!==this._icon&&(this._icon&&this._removeIcon(),x=!0,y.title&&(z.title=y.title),y.alt&&(z.alt=y.alt)),j.DomUtil.addClass(z,o),y.keyboard&&(z.tabIndex="0"),this._icon=z,this._initInteraction(),y.riseOnHover&&j.DomEvent.on(z,"mouseover",this._bringToFront,this).on(z,"mouseout",this._resetZIndex,this);var m=y.icon.createShadow(this._shadow),v=!1;m!==this._shadow&&(this._removeShadow(),v=!0),m&&j.DomUtil.addClass(m,o),this._shadow=m,y.opacity<1&&this._updateOpacity();var p=this._map._panes;x&&p.markerPane.appendChild(this._icon),m&&v&&p.shadowPane.appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&j.DomEvent.off(this._icon,"mouseover",this._bringToFront).off(this._icon,"mouseout",this._resetZIndex),this._map._panes.markerPane.removeChild(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&this._map._panes.shadowPane.removeChild(this._shadow),this._shadow=null},_setPos:function(a){j.DomUtil.setPosition(this._icon,a),this._shadow&&j.DomUtil.setPosition(this._shadow,a),this._zIndex=a.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(a){this._icon.style.zIndex=this._zIndex+a},_animateZoom:function(a){var l=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.clickable){var l=this._icon,m=["dblclick","mousedown","mouseover","mouseout","contextmenu"];j.DomUtil.addClass(l,"leaflet-clickable"),j.DomEvent.on(l,"click",this._onMouseClick,this),j.DomEvent.on(l,"keypress",this._onKeyPress,this);for(var a=0;a<m.length;a++){j.DomEvent.on(l,m[a],this._fireMouseEvent,this)}j.Handler.MarkerDrag&&(this.dragging=new j.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(a){var l=this.dragging&&this.dragging.moved();(this.hasEventListeners(a.type)||l)&&j.DomEvent.stopPropagation(a),l||(this.dragging&&this.dragging._enabled||!this._map.dragging||!this._map.dragging.moved())&&this.fire(a.type,{originalEvent:a,latlng:this._latlng})},_onKeyPress:function(a){13===a.keyCode&&this.fire("click",{originalEvent:a,latlng:this._latlng})},_fireMouseEvent:function(a){this.fire(a.type,{originalEvent:a,latlng:this._latlng}),"contextmenu"===a.type&&this.hasEventListeners(a.type)&&j.DomEvent.preventDefault(a),"mousedown"!==a.type?j.DomEvent.stopPropagation(a):j.DomEvent.preventDefault(a)},setOpacity:function(a){return this.options.opacity=a,this._map&&this._updateOpacity(),this},_updateOpacity:function(){j.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&j.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),j.marker=function(a,l){return new j.Marker(a,l)},j.DivIcon=j.Icon.extend({options:{iconSize:[12,12],className:"leaflet-div-icon",html:!1},createIcon:function(l){var a=l&&"DIV"===l.tagName?l:h.createElement("div"),m=this.options;return a.innerHTML=m.html!==!1?m.html:"",m.bgPos&&(a.style.backgroundPosition=-m.bgPos.x+"px "+-m.bgPos.y+"px"),this._setIconStyles(a,"icon"),a},createShadow:function(){return null}}),j.divIcon=function(a){return new j.DivIcon(a)},j.Map.mergeOptions({closePopupOnClick:!0}),j.Popup=j.Class.extend({includes:j.Mixin.Events,options:{minWidth:50,maxWidth:300,autoPan:!0,closeButton:!0,offset:[0,7],autoPanPadding:[5,5],keepInView:!1,className:"",zoomAnimation:!0},initialize:function(a,l){j.setOptions(this,a),this._source=l,this._animated=j.Browser.any3d&&this.options.zoomAnimation,this._isOpen=!1},onAdd:function(a){this._map=a,this._container||this._initLayout();var l=a.options.fadeAnimation;l&&j.DomUtil.setOpacity(this._container,0),a._panes.popupPane.appendChild(this._container),a.on(this._getEvents(),this),this.update(),l&&j.DomUtil.setOpacity(this._container,1),this.fire("open"),a.fire("popupopen",{popup:this}),this._source&&this._source.fire("popupopen",{popup:this})},addTo:function(a){return a.addLayer(this),this},openOn:function(a){return a.openPopup(this),this},onRemove:function(a){a._panes.popupPane.removeChild(this._container),j.Util.falseFn(this._container.offsetWidth),a.off(this._getEvents(),this),a.options.fadeAnimation&&j.DomUtil.setOpacity(this._container,0),this._map=null,this.fire("close"),a.fire("popupclose",{popup:this}),this._source&&this._source.fire("popupclose",{popup:this})},getLatLng:function(){return this._latlng},setLatLng:function(a){return this._latlng=j.latLng(a),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(a){return this._content=a,this.update(),this},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},_getEvents:function(){var a={viewreset:this._updatePosition};return this._animated&&(a.zoomanim=this._zoomAnimation),("closeOnClick" in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(a.preclick=this._close),this.options.keepInView&&(a.moveend=this._adjustPan),a},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var l,o="leaflet-popup",a=o+" "+this.options.className+" leaflet-zoom-"+(this._animated?"animated":"hide"),p=this._container=j.DomUtil.create("div",a);this.options.closeButton&&(l=this._closeButton=j.DomUtil.create("a",o+"-close-button",p),l.href="#close",l.innerHTML="&#215;",j.DomEvent.disableClickPropagation(l),j.DomEvent.on(l,"click",this._onCloseButtonClick,this));var m=this._wrapper=j.DomUtil.create("div",o+"-content-wrapper",p);j.DomEvent.disableClickPropagation(m),this._contentNode=j.DomUtil.create("div",o+"-content",m),j.DomEvent.disableScrollPropagation(this._contentNode),j.DomEvent.on(m,"contextmenu",j.DomEvent.stopPropagation),this._tipContainer=j.DomUtil.create("div",o+"-tip-container",p),this._tip=j.DomUtil.create("div",o+"-tip",this._tipContainer)},_updateContent:function(){if(this._content){if("string"==typeof this._content){this._contentNode.innerHTML=this._content}else{for(;this._contentNode.hasChildNodes();){this._contentNode.removeChild(this._contentNode.firstChild)}this._contentNode.appendChild(this._content)}this.fire("contentupdate")}},_updateLayout:function(){var o=this._contentNode,q=o.style;q.width="",q.whiteSpace="nowrap";var m=o.offsetWidth;m=Math.min(m,this.options.maxWidth),m=Math.max(m,this.options.minWidth),q.width=m+1+"px",q.whiteSpace="",q.height="";var r=o.offsetHeight,p=this.options.maxHeight,l="leaflet-popup-scrolled";p&&r>p?(q.height=p+"px",j.DomUtil.addClass(o,l)):j.DomUtil.removeClass(o,l),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var l=this._map.latLngToLayerPoint(this._latlng),m=this._animated,a=j.point(this.options.offset);m&&j.DomUtil.setPosition(this._container,l),this._containerBottom=-a.y-(m?0:l.y),this._containerLeft=-Math.round(this._containerWidth/2)+a.x+(m?0:l.x),this._container.style.bottom=this._containerBottom+"px",this._container.style.left=this._containerLeft+"px"}},_zoomAnimation:function(a){var l=this._map._latLngToNewLayerPoint(this._latlng,a.zoom,a.center);j.DomUtil.setPosition(this._container,l)},_adjustPan:function(){if(this.options.autoPan){var A=this._map,w=this._container.offsetHeight,q=this._containerWidth,o=new j.Point(this._containerLeft,-w-this._containerBottom);this._animated&&o._add(j.DomUtil.getPosition(this._container));var B=A.layerPointToContainerPoint(o),y=j.point(this.options.autoPanPadding),m=j.point(this.options.autoPanPaddingTopLeft||y),v=j.point(this.options.autoPanPaddingBottomRight||y),p=A.getSize(),z=0,x=0;B.x+q+v.x>p.x&&(z=B.x+q-p.x+v.x),B.x-z-m.x<0&&(z=B.x-m.x),B.y+w+v.y>p.y&&(x=B.y+w-p.y+v.y),B.y-x-m.y<0&&(x=B.y-m.y),(z||x)&&A.fire("autopanstart").panBy([z,x])}},_onCloseButtonClick:function(a){this._close(),j.DomEvent.stop(a)}}),j.popup=function(a,l){return new j.Popup(a,l)},j.Map.include({openPopup:function(l,m,a){if(this.closePopup(),!(l instanceof j.Popup)){var o=l;l=new j.Popup(a).setLatLng(m).setContent(o)}return l._isOpen=!0,this._popup=l,this.addLayer(l)},closePopup:function(a){return a&&a!==this._popup||(a=this._popup,this._popup=null),a&&(this.removeLayer(a),a._isOpen=!1),this}}),j.Marker.include({openPopup:function(){return this._popup&&this._map&&!this._map.hasLayer(this._popup)&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(){return this._popup&&(this._popup._isOpen?this.closePopup():this.openPopup()),this},bindPopup:function(l,m){var a=j.point(this.options.icon.options.popupAnchor||[0,0]);return a=a.add(j.Popup.prototype.options.offset),m&&m.offset&&(a=a.add(m.offset)),m=j.extend({offset:a},m),this._popupHandlersAdded||(this.on("click",this.togglePopup,this).on("remove",this.closePopup,this).on("move",this._movePopup,this),this._popupHandlersAdded=!0),l instanceof j.Popup?(j.setOptions(l,m),this._popup=l):this._popup=new j.Popup(m,this).setContent(l),this},setPopupContent:function(a){return this._popup&&this._popup.setContent(a),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this.togglePopup,this).off("remove",this.closePopup,this).off("move",this._movePopup,this),this._popupHandlersAdded=!1),this},getPopup:function(){return this._popup},_movePopup:function(a){this._popup.setLatLng(a.latlng)}}),j.LayerGroup=j.Class.extend({initialize:function(l){this._layers={};var m,a;if(l){for(m=0,a=l.length;a>m;m++){this.addLayer(l[m])}}},addLayer:function(a){var l=this.getLayerId(a);return this._layers[l]=a,this._map&&this._map.addLayer(a),this},removeLayer:function(a){var l=a in this._layers?a:this.getLayerId(a);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(a){return a?a in this._layers||this.getLayerId(a) in this._layers:!1},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(l){var m,a,o=Array.prototype.slice.call(arguments,1);for(m in this._layers){a=this._layers[m],a[l]&&a[l].apply(a,o)}return this},onAdd:function(a){this._map=a,this.eachLayer(a.addLayer,a)},onRemove:function(a){this.eachLayer(a.removeLayer,a),this._map=null},addTo:function(a){return a.addLayer(this),this},eachLayer:function(l,m){for(var a in this._layers){l.call(m,this._layers[a])}return this},getLayer:function(a){return this._layers[a]},getLayers:function(){var a=[];for(var l in this._layers){a.push(this._layers[l])}return a},setZIndex:function(a){return this.invoke("setZIndex",a)},getLayerId:function(a){return j.stamp(a)}}),j.layerGroup=function(a){return new j.LayerGroup(a)},j.FeatureGroup=j.LayerGroup.extend({includes:j.Mixin.Events,statics:{EVENTS:"click dblclick mouseover mouseout mousemove contextmenu popupopen popupclose"},addLayer:function(a){return this.hasLayer(a)?this:("on" in a&&a.on(j.FeatureGroup.EVENTS,this._propagateEvent,this),j.LayerGroup.prototype.addLayer.call(this,a),this._popupContent&&a.bindPopup&&a.bindPopup(this._popupContent,this._popupOptions),this.fire("layeradd",{layer:a}))},removeLayer:function(a){return this.hasLayer(a)?(a in this._layers&&(a=this._layers[a]),a.off(j.FeatureGroup.EVENTS,this._propagateEvent,this),j.LayerGroup.prototype.removeLayer.call(this,a),this._popupContent&&this.invoke("unbindPopup"),this.fire("layerremove",{layer:a})):this},bindPopup:function(a,l){return this._popupContent=a,this._popupOptions=l,this.invoke("bindPopup",a,l)},openPopup:function(a){for(var l in this._layers){this._layers[l].openPopup(a);break}return this},setStyle:function(a){return this.invoke("setStyle",a)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var a=new j.LatLngBounds;return this.eachLayer(function(l){a.extend(l instanceof j.Marker?l.getLatLng():l.getBounds())}),a},_propagateEvent:function(a){a=j.extend({layer:a.target,target:this},a),this.fire(a.type,a)}}),j.featureGroup=function(a){return new j.FeatureGroup(a)},j.Path=j.Class.extend({includes:[j.Mixin.Events],statics:{CLIP_PADDING:function(){var l=j.Browser.mobile?1280:2000,a=(l/Math.max(d.outerWidth,d.outerHeight)-1)/2;return Math.max(0,Math.min(0.5,a))}()},options:{stroke:!0,color:"#0033ff",dashArray:null,lineCap:null,lineJoin:null,weight:5,opacity:0.5,fill:!1,fillColor:null,fillOpacity:0.2,clickable:!0},initialize:function(a){j.setOptions(this,a)},onAdd:function(a){this._map=a,this._container||(this._initElements(),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._map._pathRoot.appendChild(this._container),this.fire("add"),a.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(a){return a.addLayer(this),this},onRemove:function(a){a._pathRoot.removeChild(this._container),this.fire("remove"),this._map=null,j.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),a.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(a){return j.setOptions(this,a),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),j.Map.include({_updatePathViewport:function(){var l=j.Path.CLIP_PADDING,o=this.getSize(),a=j.DomUtil.getPosition(this._mapPane),p=a.multiplyBy(-1)._subtract(o.multiplyBy(l)._round()),m=p.add(o.multiplyBy(1+2*l)._round());this._pathViewport=new j.Bounds(p,m)}}),j.Path.SVG_NS="http://www.w3.org/2000/svg",j.Browser.svg=!(!h.createElementNS||!h.createElementNS(j.Path.SVG_NS,"svg").createSVGRect),j.Path=j.Path.extend({statics:{SVG:j.Browser.svg},bringToFront:function(){var a=this._map._pathRoot,l=this._container;return l&&a.lastChild!==l&&a.appendChild(l),this},bringToBack:function(){var l=this._map._pathRoot,m=this._container,a=l.firstChild;return m&&a!==m&&l.insertBefore(m,a),this},getPathString:function(){},_createElement:function(a){return h.createElementNS(j.Path.SVG_NS,a)},_initElements:function(){this._map._initPathRoot(),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement("g"),this._path=this._createElement("path"),this.options.className&&j.DomUtil.addClass(this._path,this.options.className),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute("stroke-linejoin","round"),this._path.setAttribute("stroke-linecap","round")),this.options.fill&&this._path.setAttribute("fill-rule","evenodd"),this.options.pointerEvents&&this._path.setAttribute("pointer-events",this.options.pointerEvents),this.options.clickable||this.options.pointerEvents||this._path.setAttribute("pointer-events","none"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute("stroke",this.options.color),this._path.setAttribute("stroke-opacity",this.options.opacity),this._path.setAttribute("stroke-width",this.options.weight),this.options.dashArray?this._path.setAttribute("stroke-dasharray",this.options.dashArray):this._path.removeAttribute("stroke-dasharray"),this.options.lineCap&&this._path.setAttribute("stroke-linecap",this.options.lineCap),this.options.lineJoin&&this._path.setAttribute("stroke-linejoin",this.options.lineJoin)):this._path.setAttribute("stroke","none"),this.options.fill?(this._path.setAttribute("fill",this.options.fillColor||this.options.color),this._path.setAttribute("fill-opacity",this.options.fillOpacity)):this._path.setAttribute("fill","none")},_updatePath:function(){var a=this.getPathString();a||(a="M0 0"),this._path.setAttribute("d",a)},_initEvents:function(){if(this.options.clickable){(j.Browser.svg||!j.Browser.vml)&&j.DomUtil.addClass(this._path,"leaflet-clickable"),j.DomEvent.on(this._container,"click",this._onMouseClick,this);for(var a=["dblclick","mousedown","mouseover","mouseout","mousemove","contextmenu"],l=0;l<a.length;l++){j.DomEvent.on(this._container,a[l],this._fireMouseEvent,this)}}},_onMouseClick:function(a){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(a)},_fireMouseEvent:function(l){if(this.hasEventListeners(l.type)){var o=this._map,a=o.mouseEventToContainerPoint(l),p=o.containerPointToLayerPoint(a),m=o.layerPointToLatLng(p);this.fire(l.type,{latlng:m,layerPoint:p,containerPoint:a,originalEvent:l}),"contextmenu"===l.type&&j.DomEvent.preventDefault(l),"mousemove"!==l.type&&j.DomEvent.stopPropagation(l)}}}),j.Map.include({_initPathRoot:function(){this._pathRoot||(this._pathRoot=j.Path.prototype._createElement("svg"),this._panes.overlayPane.appendChild(this._pathRoot),this.options.zoomAnimation&&j.Browser.any3d?(j.DomUtil.addClass(this._pathRoot,"leaflet-zoom-animated"),this.on({zoomanim:this._animatePathZoom,zoomend:this._endPathZoom})):j.DomUtil.addClass(this._pathRoot,"leaflet-zoom-hide"),this.on("moveend",this._updateSvgViewport),this._updateSvgViewport())},_animatePathZoom:function(l){var m=this.getZoomScale(l.zoom),a=this._getCenterOffset(l.center)._multiplyBy(-m)._add(this._pathViewport.min);this._pathRoot.style[j.DomUtil.TRANSFORM]=j.DomUtil.getTranslateString(a)+" scale("+m+") ",this._pathZooming=!0},_endPathZoom:function(){this._pathZooming=!1},_updateSvgViewport:function(){if(!this._pathZooming){this._updatePathViewport();var o=this._pathViewport,v=o.min,m=o.max,w=m.x-v.x,p=m.y-v.y,l=this._pathRoot,q=this._panes.overlayPane;j.Browser.mobileWebkit&&q.removeChild(l),j.DomUtil.setPosition(l,v),l.setAttribute("width",w),l.setAttribute("height",p),l.setAttribute("viewBox",[v.x,v.y,w,p].join(" ")),j.Browser.mobileWebkit&&q.appendChild(l)}}}),j.Path.include({bindPopup:function(a,l){return a instanceof j.Popup?this._popup=a:((!this._popup||l)&&(this._popup=new j.Popup(l,this)),this._popup.setContent(a)),this._popupHandlersAdded||(this.on("click",this._openPopup,this).on("remove",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off("click",this._openPopup).off("remove",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(a){return this._popup&&(a=a||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:a})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(a){this._popup.setLatLng(a.latlng),this._map.openPopup(this._popup)}}),j.Browser.vml=!j.Browser.svg&&function(){try{var l=h.createElement("div");l.innerHTML='<v:shape adj="1"/>';var a=l.firstChild;return a.style.behavior="url(#default#VML)",a&&"object"==typeof a.adj}catch(m){return !1}}(),j.Path=j.Browser.svg||!j.Browser.vml?j.Path:j.Path.extend({statics:{VML:!0,CLIP_PADDING:0.02},_createElement:function(){try{return h.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(l){return h.createElement("<lvml:"+l+' class="lvml">')}}catch(a){return function(l){return h.createElement("<"+l+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),_initPath:function(){var a=this._container=this._createElement("shape");j.DomUtil.addClass(a,"leaflet-vml-shape"+(this.options.className?" "+this.options.className:"")),this.options.clickable&&j.DomUtil.addClass(a,"leaflet-clickable"),a.coordsize="1 1",this._path=this._createElement("path"),a.appendChild(this._path),this._map._pathRoot.appendChild(a)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var l=this._stroke,m=this._fill,a=this.options,o=this._container;o.stroked=a.stroke,o.filled=a.fill,a.stroke?(l||(l=this._stroke=this._createElement("stroke"),l.endcap="round",o.appendChild(l)),l.weight=a.weight+"px",l.color=a.color,l.opacity=a.opacity,l.dashStyle=a.dashArray?j.Util.isArray(a.dashArray)?a.dashArray.join(" "):a.dashArray.replace(/( *, *)/g," "):"",a.lineCap&&(l.endcap=a.lineCap.replace("butt","flat")),a.lineJoin&&(l.joinstyle=a.lineJoin)):l&&(o.removeChild(l),this._stroke=null),a.fill?(m||(m=this._fill=this._createElement("fill"),o.appendChild(m)),m.color=a.fillColor||a.color,m.opacity=a.fillOpacity):m&&(o.removeChild(m),this._fill=null)},_updatePath:function(){var a=this._container.style;a.display="none",this._path.v=this.getPathString()+" ",a.display=""}}),j.Map.include(j.Browser.svg||!j.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var a=this._pathRoot=h.createElement("div");a.className="leaflet-vml-container",this._panes.overlayPane.appendChild(a),this.on("moveend",this._updatePathViewport),this._updatePathViewport()}}}),j.Browser.canvas=function(){return !!h.createElement("canvas").getContext}(),j.Path=j.Path.SVG&&!d.L_PREFER_CANVAS||!j.Browser.canvas?j.Path:j.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(a){return j.setOptions(this,a),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(a){a.off("viewreset",this.projectLatlngs,this).off("moveend",this._updatePath,this),this.options.clickable&&(this._map.off("click",this._onClick,this),this._map.off("mousemove",this._onMouseMove,this)),this._requestUpdate(),this._map=null},_requestUpdate:function(){this._map&&!j.Path._updateRequest&&(j.Path._updateRequest=j.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){j.Path._updateRequest=null,this.fire("moveend")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var a=this.options;a.stroke&&(this._ctx.lineWidth=a.weight,this._ctx.strokeStyle=a.color),a.fill&&(this._ctx.fillStyle=a.fillColor||a.color)},_drawPath:function(){var o,q,m,r,p,l;for(this._ctx.beginPath(),o=0,m=this._parts.length;m>o;o++){for(q=0,r=this._parts[o].length;r>q;q++){p=this._parts[o][q],l=(0===q?"move":"line")+"To",this._ctx[l](p.x,p.y)}this instanceof j.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return !this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var a=this._ctx,l=this.options;this._drawPath(),a.save(),this._updateStyle(),l.fill&&(a.globalAlpha=l.fillOpacity,a.fill()),l.stroke&&(a.globalAlpha=l.opacity,a.stroke()),a.restore()}},_initEvents:function(){this.options.clickable&&(this._map.on("mousemove",this._onMouseMove,this),this._map.on("click",this._onClick,this))},_onClick:function(a){this._containsPoint(a.layerPoint)&&this.fire("click",a)},_onMouseMove:function(a){this._map&&!this._map._animatingZoom&&(this._containsPoint(a.layerPoint)?(this._ctx.canvas.style.cursor="pointer",this._mouseInside=!0,this.fire("mouseover",a)):this._mouseInside&&(this._ctx.canvas.style.cursor="",this._mouseInside=!1,this.fire("mouseout",a)))}}),j.Map.include(j.Path.SVG&&!d.L_PREFER_CANVAS||!j.Browser.canvas?{}:{_initPathRoot:function(){var l,a=this._pathRoot;a||(a=this._pathRoot=h.createElement("canvas"),a.style.position="absolute",l=this._canvasCtx=a.getContext("2d"),l.lineCap="round",l.lineJoin="round",this._panes.overlayPane.appendChild(a),this.options.zoomAnimation&&(this._pathRoot.className="leaflet-zoom-animated",this.on("zoomanim",this._animatePathZoom),this.on("zoomend",this._endPathZoom)),this.on("moveend",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var l=this._pathViewport,m=l.min,a=l.max.subtract(m),o=this._pathRoot;j.DomUtil.setPosition(o,m),o.width=a.x,o.height=a.y,o.getContext("2d").translate(-m.x,-m.y)}}}),j.LineUtil={simplify:function(l,m){if(!m||!l.length){return l.slice()}var a=m*m;return l=this._reducePoints(l,a),l=this._simplifyDP(l,a)},pointToSegmentDistance:function(l,m,a){return Math.sqrt(this._sqClosestPointOnSegment(l,m,a,!0))},closestPointOnSegment:function(l,m,a){return this._sqClosestPointOnSegment(l,m,a)},_simplifyDP:function(m,v){var x=m.length,w=typeof Uint8Array!=c+""?Uint8Array:Array,p=new w(x);p[0]=p[x-1]=1,this._simplifyDPStep(m,p,v,0,x-1);var l,q=[];for(l=0;x>l;l++){p[l]&&q.push(m[l])}return q},_simplifyDPStep:function(y,w,q,p,m){var z,x,l,v=0;for(x=p+1;m-1>=x;x++){l=this._sqClosestPointOnSegment(y[x],y[p],y[m],!0),l>v&&(z=x,v=l)}v>q&&(w[z]=1,this._simplifyDPStep(y,w,q,p,z),this._simplifyDPStep(y,w,q,z,m))},_reducePoints:function(l,p){for(var a=[l[0]],r=1,q=0,m=l.length;m>r;r++){this._sqDist(l[r],l[q])>p&&(a.push(l[r]),q=r)}return m-1>q&&a.push(l[m-1]),a},clipSegment:function(y,w,q,p){var m,z,x,l=p?this._lastCode:this._getBitCode(y,q),v=this._getBitCode(w,q);for(this._lastCode=v;;){if(!(l|v)){return[y,w]}if(l&v){return !1}m=l||v,z=this._getEdgeIntersection(y,w,m,q),x=this._getBitCode(z,q),m===l?(y=z,l=x):(w=z,v=x)}},_getEdgeIntersection:function(o,w,m,x){var q=w.x-o.x,l=w.y-o.y,v=x.min,p=x.max;return 8&m?new j.Point(o.x+q*(p.y-o.y)/l,p.y):4&m?new j.Point(o.x+q*(v.y-o.y)/l,v.y):2&m?new j.Point(p.x,o.y+l*(p.x-o.x)/q):1&m?new j.Point(v.x,o.y+l*(v.x-o.x)/q):void 0},_getBitCode:function(l,m){var a=0;return l.x<m.min.x?a|=1:l.x>m.max.x&&(a|=2),l.y<m.min.y?a|=4:l.y>m.max.y&&(a|=8),a},_sqDist:function(l,m){var a=m.x-l.x,o=m.y-l.y;return a*a+o*o},_sqClosestPointOnSegment:function(z,w,q,o){var A,x=w.x,m=w.y,v=q.x-x,p=q.y-m,y=v*v+p*p;return y>0&&(A=((z.x-x)*v+(z.y-m)*p)/y,A>1?(x=q.x,m=q.y):A>0&&(x+=v*A,m+=p*A)),v=z.x-x,p=z.y-m,o?v*v+p*p:new j.Point(x,m)}},j.Polyline=j.Path.extend({initialize:function(a,l){j.Path.prototype.initialize.call(this,l),this._latlngs=this._convertLatLngs(a)},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var a=0,l=this._latlngs.length;l>a;a++){this._originalPoints[a]=this._map.latLngToLayerPoint(this._latlngs[a])}},getPathString:function(){for(var l=0,m=this._parts.length,a="";m>l;l++){a+=this._getPathPartStr(this._parts[l])}return a},getLatLngs:function(){return this._latlngs},setLatLngs:function(a){return this._latlngs=this._convertLatLngs(a),this.redraw()},addLatLng:function(a){return this._latlngs.push(j.latLng(a)),this.redraw()},spliceLatLngs:function(){var a=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs,!0),this.redraw(),a},closestLayerPoint:function(B){for(var w,q,o=1/0,C=this._parts,z=null,m=0,v=C.length;v>m;m++){for(var p=C[m],A=1,y=p.length;y>A;A++){w=p[A-1],q=p[A];var x=j.LineUtil._sqClosestPointOnSegment(B,w,q,!0);o>x&&(o=x,z=j.LineUtil._sqClosestPointOnSegment(B,w,q))}}return z&&(z.distance=Math.sqrt(o)),z},getBounds:function(){return new j.LatLngBounds(this.getLatLngs())},_convertLatLngs:function(l,o){var a,p,m=o?l:[];for(a=0,p=l.length;p>a;a++){if(j.Util.isArray(l[a])&&"number"!=typeof l[a][0]){return}m[a]=j.latLng(l[a])}return m},_initEvents:function(){j.Path.prototype._initEvents.call(this)},_getPathPartStr:function(o){for(var q,m=j.Path.VML,r=0,p=o.length,l="";p>r;r++){q=o[r],m&&q._round(),l+=(r?"L":"M")+q.x+" "+q.y}return l},_clipPoints:function(){var o,w,m,x=this._originalPoints,q=x.length;if(this.options.noClip){return this._parts=[x],void 0}this._parts=[];var l=this._parts,v=this._map._pathViewport,p=j.LineUtil;for(o=0,w=0;q-1>o;o++){m=p.clipSegment(x[o],x[o+1],v,o),m&&(l[w]=l[w]||[],l[w].push(m[0]),(m[1]!==x[o+1]||o===q-2)&&(l[w].push(m[1]),w++))}},_simplifyPoints:function(){for(var l=this._parts,m=j.LineUtil,a=0,o=l.length;o>a;a++){l[a]=m.simplify(l[a],this.options.smoothFactor)}},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),j.Path.prototype._updatePath.call(this))}}),j.polyline=function(a,l){return new j.Polyline(a,l)},j.PolyUtil={},j.PolyUtil.clipPolygon=function(D,y){var w,q,E,B,m,x,v,C,A,z=[1,4,2,8],o=j.LineUtil;for(q=0,v=D.length;v>q;q++){D[q]._code=o._getBitCode(D[q],y)}for(B=0;4>B;B++){for(C=z[B],w=[],q=0,v=D.length,E=v-1;v>q;E=q++){m=D[q],x=D[E],m._code&C?x._code&C||(A=o._getEdgeIntersection(x,m,C,y),A._code=o._getBitCode(A,y),w.push(A)):(x._code&C&&(A=o._getEdgeIntersection(x,m,C,y),A._code=o._getBitCode(A,y),w.push(A)),w.push(m))}D=w}return D},j.Polygon=j.Polyline.extend({options:{fill:!0},initialize:function(a,l){j.Polyline.prototype.initialize.call(this,a,l),this._initWithHoles(a)},_initWithHoles:function(l){var m,a,o;if(l&&j.Util.isArray(l[0])&&"number"!=typeof l[0][0]){for(this._latlngs=this._convertLatLngs(l[0]),this._holes=l.slice(1),m=0,a=this._holes.length;a>m;m++){o=this._holes[m]=this._convertLatLngs(this._holes[m]),o[0].equals(o[o.length-1])&&o.pop()}}l=this._latlngs,l.length>=2&&l[0].equals(l[l.length-1])&&l.pop()},projectLatlngs:function(){if(j.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var l,m,a,o;for(l=0,a=this._holes.length;a>l;l++){for(this._holePoints[l]=[],m=0,o=this._holes[l].length;o>m;m++){this._holePoints[l][m]=this._map.latLngToLayerPoint(this._holes[l][m])}}}},setLatLngs:function(a){return a&&j.Util.isArray(a[0])&&"number"!=typeof a[0][0]?(this._initWithHoles(a),this.redraw()):j.Polyline.prototype.setLatLngs.call(this,a)},_clipPoints:function(){var l=this._originalPoints,o=[];if(this._parts=[l].concat(this._holePoints),!this.options.noClip){for(var a=0,p=this._parts.length;p>a;a++){var m=j.PolyUtil.clipPolygon(this._parts[a],this._map._pathViewport);m.length&&o.push(m)}this._parts=o}},_getPathPartStr:function(a){var l=j.Polyline.prototype._getPathPartStr.call(this,a);return l+(j.Browser.svg?"z":"x")}}),j.polygon=function(a,l){return new j.Polygon(a,l)},function(){function a(l){return j.FeatureGroup.extend({initialize:function(m,n){this._layers={},this._options=n,this.setLatLngs(m)},setLatLngs:function(o){var m=0,p=o.length;for(this.eachLayer(function(n){p>m?n.setLatLngs(o[m++]):this.removeLayer(n)},this);p>m;){this.addLayer(new l(o[m++],this._options))}return this},getLatLngs:function(){var m=[];return this.eachLayer(function(n){m.push(n.getLatLngs())}),m}})}j.MultiPolyline=a(j.Polyline),j.MultiPolygon=a(j.Polygon),j.multiPolyline=function(l,m){return new j.MultiPolyline(l,m)},j.multiPolygon=function(l,m){return new j.MultiPolygon(l,m)}}(),j.Rectangle=j.Polygon.extend({initialize:function(a,l){j.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(a),l)},setBounds:function(a){this.setLatLngs(this._boundsToLatLngs(a))},_boundsToLatLngs:function(a){return a=j.latLngBounds(a),[a.getSouthWest(),a.getNorthWest(),a.getNorthEast(),a.getSouthEast()]}}),j.rectangle=function(a,l){return new j.Rectangle(a,l)},j.Circle=j.Path.extend({initialize:function(l,m,a){j.Path.prototype.initialize.call(this,a),this._latlng=j.latLng(l),this._mRadius=m},options:{fill:!0},setLatLng:function(a){return this._latlng=j.latLng(a),this.redraw()},setRadius:function(a){return this._mRadius=a,this.redraw()},projectLatlngs:function(){var l=this._getLngRadius(),m=this._latlng,a=this._map.latLngToLayerPoint([m.lat,m.lng-l]);this._point=this._map.latLngToLayerPoint(m),this._radius=Math.max(this._point.x-a.x,1)},getBounds:function(){var l=this._getLngRadius(),m=this._mRadius/40075017*360,a=this._latlng;return new j.LatLngBounds([a.lat-m,a.lng-l],[a.lat+m,a.lng+l])},getLatLng:function(){return this._latlng},getPathString:function(){var a=this._point,l=this._radius;return this._checkIfEmpty()?"":j.Browser.svg?"M"+a.x+","+(a.y-l)+"A"+l+","+l+",0,1,1,"+(a.x-0.1)+","+(a.y-l)+" z":(a._round(),l=Math.round(l),"AL "+a.x+","+a.y+" "+l+","+l+" 0,23592600")},getRadius:function(){return this._mRadius},_getLatRadius:function(){return this._mRadius/40075017*360},_getLngRadius:function(){return this._getLatRadius()/Math.cos(j.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map){return !1}var l=this._map._pathViewport,m=this._radius,a=this._point;return a.x-m>l.max.x||a.y-m>l.max.y||a.x+m<l.min.x||a.y+m<l.min.y}}),j.circle=function(l,m,a){return new j.Circle(l,m,a)},j.CircleMarker=j.Circle.extend({options:{radius:10,weight:2},initialize:function(a,l){j.Circle.prototype.initialize.call(this,a,null,l),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},_updateStyle:function(){j.Circle.prototype._updateStyle.call(this),this.setRadius(this.options.radius)},setLatLng:function(a){return j.Circle.prototype.setLatLng.call(this,a),this._popup&&this._popup._isOpen&&this._popup.setLatLng(a),this},setRadius:function(a){return this.options.radius=this._radius=a,this.redraw()},getRadius:function(){return this._radius}}),j.circleMarker=function(a,l){return new j.CircleMarker(a,l)},j.Polyline.include(j.Path.CANVAS?{_containsPoint:function(z,w){var q,o,A,x,m,v,p,y=this.options.weight/2;for(j.Browser.touch&&(y+=10),q=0,x=this._parts.length;x>q;q++){for(p=this._parts[q],o=0,m=p.length,A=m-1;m>o;A=o++){if((w||0!==o)&&(v=j.LineUtil.pointToSegmentDistance(z,p[A],p[o]),y>=v)){return !0}}}return !1}}:{}),j.Polygon.include(j.Path.CANVAS?{_containsPoint:function(z){var w,q,o,A,x,m,v,p,y=!1;if(j.Polyline.prototype._containsPoint.call(this,z,!0)){return !0}for(A=0,v=this._parts.length;v>A;A++){for(w=this._parts[A],x=0,p=w.length,m=p-1;p>x;m=x++){q=w[x],o=w[m],q.y>z.y!=o.y>z.y&&z.x<(o.x-q.x)*(z.y-q.y)/(o.y-q.y)+q.x&&(y=!y)}}return y}}:{}),j.Circle.include(j.Path.CANVAS?{_drawPath:function(){var a=this._point;this._ctx.beginPath(),this._ctx.arc(a.x,a.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(l){var m=this._point,a=this.options.stroke?this.options.weight/2:0;return l.distanceTo(m)<=this._radius+a}}:{}),j.CircleMarker.include(j.Path.CANVAS?{_updateStyle:function(){j.Path.prototype._updateStyle.call(this)}}:{}),j.GeoJSON=j.FeatureGroup.extend({initialize:function(a,l){j.setOptions(this,l),this._layers={},a&&this.addData(a)},addData:function(o){var v,m,w,p=j.Util.isArray(o)?o:o.features;if(p){for(v=0,m=p.length;m>v;v++){w=p[v],(w.geometries||w.geometry||w.features||w.coordinates)&&this.addData(p[v])}return this}var l=this.options;if(!l.filter||l.filter(o)){var q=j.GeoJSON.geometryToLayer(o,l.pointToLayer,l.coordsToLatLng,l);return q.feature=j.GeoJSON.asFeature(o),q.defaultOptions=q.options,this.resetStyle(q),l.onEachFeature&&l.onEachFeature(o,q),this.addLayer(q)}},resetStyle:function(a){var l=this.options.style;l&&(j.Util.extend(a.options,a.defaultOptions),this._setLayerStyle(a,l))},setStyle:function(a){this.eachLayer(function(l){this._setLayerStyle(l,a)},this)},_setLayerStyle:function(a,l){"function"==typeof l&&(l=l(a.feature)),a.setStyle&&a.setStyle(l)}}),j.extend(j.GeoJSON,{geometryToLayer:function(A,w,q,o){var B,y,m,v,p="Feature"===A.type?A.geometry:A,z=p.coordinates,x=[];switch(q=q||this.coordsToLatLng,p.type){case"Point":return B=q(z),w?w(A,B):new j.Marker(B);case"MultiPoint":for(m=0,v=z.length;v>m;m++){B=q(z[m]),x.push(w?w(A,B):new j.Marker(B))}return new j.FeatureGroup(x);case"LineString":return y=this.coordsToLatLngs(z,0,q),new j.Polyline(y,o);case"Polygon":if(2===z.length&&!z[1].length){throw new Error("Invalid GeoJSON object.")}return y=this.coordsToLatLngs(z,1,q),new j.Polygon(y,o);case"MultiLineString":return y=this.coordsToLatLngs(z,1,q),new j.MultiPolyline(y,o);case"MultiPolygon":return y=this.coordsToLatLngs(z,2,q),new j.MultiPolygon(y,o);case"GeometryCollection":for(m=0,v=p.geometries.length;v>m;m++){x.push(this.geometryToLayer({geometry:p.geometries[m],type:"Feature",properties:A.properties},w,q,o))}return new j.FeatureGroup(x);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(a){return new j.LatLng(a[1],a[0],a[2])},coordsToLatLngs:function(p,r,m){var w,v,q,l=[];for(v=0,q=p.length;q>v;v++){w=r?this.coordsToLatLngs(p[v],r-1,m):(m||this.coordsToLatLng)(p[v]),l.push(w)}return l},latLngToCoords:function(a){var l=[a.lng,a.lat];return a.alt!==c&&l.push(a.alt),l},latLngsToCoords:function(l){for(var m=[],a=0,o=l.length;o>a;a++){m.push(j.GeoJSON.latLngToCoords(l[a]))}return m},getFeature:function(a,l){return a.feature?j.extend({},a.feature,{geometry:l}):j.GeoJSON.asFeature(l)},asFeature:function(a){return"Feature"===a.type?a:{type:"Feature",properties:{},geometry:a}}});var b={toGeoJSON:function(){return j.GeoJSON.getFeature(this,{type:"Point",coordinates:j.GeoJSON.latLngToCoords(this.getLatLng())})}};j.Marker.include(b),j.Circle.include(b),j.CircleMarker.include(b),j.Polyline.include({toGeoJSON:function(){return j.GeoJSON.getFeature(this,{type:"LineString",coordinates:j.GeoJSON.latLngsToCoords(this.getLatLngs())})}}),j.Polygon.include({toGeoJSON:function(){var l,m,a,o=[j.GeoJSON.latLngsToCoords(this.getLatLngs())];if(o[0].push(o[0][0]),this._holes){for(l=0,m=this._holes.length;m>l;l++){a=j.GeoJSON.latLngsToCoords(this._holes[l]),a.push(a[0]),o.push(a)}}return j.GeoJSON.getFeature(this,{type:"Polygon",coordinates:o})}}),function(){function a(l){return function(){var m=[];return this.eachLayer(function(n){m.push(n.toGeoJSON().geometry.coordinates)}),j.GeoJSON.getFeature(this,{type:l,coordinates:m})}}j.MultiPolyline.include({toGeoJSON:a("MultiLineString")}),j.MultiPolygon.include({toGeoJSON:a("MultiPolygon")}),j.LayerGroup.include({toGeoJSON:function(){var o,l=this.feature&&this.feature.geometry,p=[];if(l&&"MultiPoint"===l.type){return a("MultiPoint").call(this)}var m=l&&"GeometryCollection"===l.type;return this.eachLayer(function(n){n.toGeoJSON&&(o=n.toGeoJSON(),p.push(m?o.geometry:j.GeoJSON.asFeature(o)))}),m?j.GeoJSON.getFeature(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}})}(),j.geoJson=function(a,l){return new j.GeoJSON(a,l)},j.DomEvent={addListener:function(y,w,q,o){var z,x,m,v=j.stamp(q),p="_leaflet_"+w+v;return y[p]?this:(z=function(a){return q.call(o||y,a||j.DomEvent._getEvent())},j.Browser.pointer&&0===w.indexOf("touch")?this.addPointerListener(y,w,z,v):(j.Browser.touch&&"dblclick"===w&&this.addDoubleTapListener&&this.addDoubleTapListener(y,z,v),"addEventListener" in y?"mousewheel"===w?(y.addEventListener("DOMMouseScroll",z,!1),y.addEventListener(w,z,!1)):"mouseenter"===w||"mouseleave"===w?(x=z,m="mouseenter"===w?"mouseover":"mouseout",z=function(a){return j.DomEvent._checkMouse(y,a)?x(a):void 0},y.addEventListener(m,z,!1)):"click"===w&&j.Browser.android?(x=z,z=function(a){return j.DomEvent._filterClick(a,x)},y.addEventListener(w,z,!1)):y.addEventListener(w,z,!1):"attachEvent" in y&&y.attachEvent("on"+w,z),y[p]=z,this))},removeListener:function(o,q,m){var r=j.stamp(m),p="_leaflet_"+q+r,l=o[p];return l?(j.Browser.pointer&&0===q.indexOf("touch")?this.removePointerListener(o,q,r):j.Browser.touch&&"dblclick"===q&&this.removeDoubleTapListener?this.removeDoubleTapListener(o,r):"removeEventListener" in o?"mousewheel"===q?(o.removeEventListener("DOMMouseScroll",l,!1),o.removeEventListener(q,l,!1)):"mouseenter"===q||"mouseleave"===q?o.removeEventListener("mouseenter"===q?"mouseover":"mouseout",l,!1):o.removeEventListener(q,l,!1):"detachEvent" in o&&o.detachEvent("on"+q,l),o[p]=null,this):this},stopPropagation:function(a){return a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,j.DomEvent._skipped(a),this},disableScrollPropagation:function(a){var l=j.DomEvent.stopPropagation;return j.DomEvent.on(a,"mousewheel",l).on(a,"MozMousePixelScroll",l)},disableClickPropagation:function(l){for(var m=j.DomEvent.stopPropagation,a=j.Draggable.START.length-1;a>=0;a--){j.DomEvent.on(l,j.Draggable.START[a],m)}return j.DomEvent.on(l,"click",j.DomEvent._fakeStop).on(l,"dblclick",m)},preventDefault:function(a){return a.preventDefault?a.preventDefault():a.returnValue=!1,this},stop:function(a){return j.DomEvent.preventDefault(a).stopPropagation(a)},getMousePosition:function(l,m){if(!m){return new j.Point(l.clientX,l.clientY)}var a=m.getBoundingClientRect();return new j.Point(l.clientX-a.left-m.clientLeft,l.clientY-a.top-m.clientTop)},getWheelDelta:function(a){var l=0;return a.wheelDelta&&(l=a.wheelDelta/120),a.detail&&(l=-a.detail/3),l},_skipEvents:{},_fakeStop:function(a){j.DomEvent._skipEvents[a.type]=!0},_skipped:function(a){var l=this._skipEvents[a.type];return this._skipEvents[a.type]=!1,l},_checkMouse:function(l,m){var a=m.relatedTarget;if(!a){return !0}try{for(;a&&a!==l;){a=a.parentNode}}catch(o){return !1}return a!==l},_getEvent:function(){var l=d.event;if(!l){for(var a=arguments.callee.caller;a&&(l=a.arguments[0],!l||d.Event!==l.constructor);){a=a.caller}}return l},_filterClick:function(l,m){var a=l.timeStamp||l.originalEvent.timeStamp,o=j.DomEvent._lastClick&&a-j.DomEvent._lastClick;return o&&o>100&&1000>o||l.target._simulatedClick&&!l._simulated?(j.DomEvent.stop(l),void 0):(j.DomEvent._lastClick=a,m(l))}},j.DomEvent.on=j.DomEvent.addListener,j.DomEvent.off=j.DomEvent.removeListener,j.Draggable=j.Class.extend({includes:j.Mixin.Events,statics:{START:j.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(a,l){this._element=a,this._dragStartTarget=l||a},enable:function(){if(!this._enabled){for(var a=j.Draggable.START.length-1;a>=0;a--){j.DomEvent.on(this._dragStartTarget,j.Draggable.START[a],this._onDown,this)}this._enabled=!0}},disable:function(){if(this._enabled){for(var a=j.Draggable.START.length-1;a>=0;a--){j.DomEvent.off(this._dragStartTarget,j.Draggable.START[a],this._onDown,this)}this._enabled=!1,this._moved=!1}},_onDown:function(l){if(this._moved=!1,!(l.shiftKey||1!==l.which&&1!==l.button&&!l.touches||(j.DomEvent.stopPropagation(l),j.Draggable._disabled||(j.DomUtil.disableImageDrag(),j.DomUtil.disableTextSelection(),this._moving)))){var a=l.touches?l.touches[0]:l;this._startPoint=new j.Point(a.clientX,a.clientY),this._startPos=this._newPos=j.DomUtil.getPosition(this._element),j.DomEvent.on(h,j.Draggable.MOVE[l.type],this._onMove,this).on(h,j.Draggable.END[l.type],this._onUp,this)}},_onMove:function(l){if(l.touches&&l.touches.length>1){return this._moved=!0,void 0}var a=l.touches&&1===l.touches.length?l.touches[0]:l,o=new j.Point(a.clientX,a.clientY),m=o.subtract(this._startPoint);(m.x||m.y)&&(j.DomEvent.preventDefault(l),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=j.DomUtil.getPosition(this._element).subtract(m),j.DomUtil.addClass(h.body,"leaflet-dragging"),j.DomUtil.addClass(l.target||l.srcElement,"leaflet-drag-target")),this._newPos=this._startPos.add(m),this._moving=!0,j.Util.cancelAnimFrame(this._animRequest),this._animRequest=j.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget))},_updatePosition:function(){this.fire("predrag"),j.DomUtil.setPosition(this._element,this._newPos),this.fire("drag")},_onUp:function(l){j.DomUtil.removeClass(h.body,"leaflet-dragging"),j.DomUtil.removeClass(l.target||l.srcElement,"leaflet-drag-target");for(var a in j.Draggable.MOVE){j.DomEvent.off(h,j.Draggable.MOVE[a],this._onMove).off(h,j.Draggable.END[a],this._onUp)}j.DomUtil.enableImageDrag(),j.DomUtil.enableTextSelection(),this._moved&&this._moving&&(j.Util.cancelAnimFrame(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1}}),j.Handler=j.Class.extend({initialize:function(a){this._map=a},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return !!this._enabled}}),j.Map.mergeOptions({dragging:!0,inertia:!j.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:j.Browser.touch?32:18,easeLinearity:0.25,worldCopyJump:!1}),j.Map.Drag=j.Handler.extend({addHooks:function(){if(!this._draggable){var a=this._map;this._draggable=new j.Draggable(a._mapPane,a._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),a.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDrag,this),a.on("viewreset",this._onViewReset,this),a.whenReady(this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var a=this._map;a._panAnim&&a._panAnim.stop(),a.fire("movestart").fire("dragstart"),a.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var a=this._lastTime=+new Date,l=this._lastPos=this._draggable._newPos;this._positions.push(l),this._times.push(a),a-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire("move").fire("drag")},_onViewReset:function(){var a=this._map.getSize()._divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(a).x,this._worldWidth=this._map.project([0,180]).x},_onPreDrag:function(){var p=this._worldWidth,r=Math.round(p/2),m=this._initialWorldOffset,w=this._draggable._newPos.x,v=(w-r+m)%p+r-m,q=(w+r+m)%p-r-m,l=Math.abs(v+m)<Math.abs(q+m)?v:q;this._draggable._newPos.x=l},_onDragEnd:function(E){var y=this._map,w=y.options,q=+new Date-this._lastTime,F=!w.inertia||q>w.inertiaThreshold||!this._positions[0];if(y.fire("dragend",E),F){y.fire("moveend")}else{var B=this._lastPos.subtract(this._positions[0]),m=(this._lastTime+q-this._times[0])/1000,x=w.easeLinearity,v=B.multiplyBy(x/m),D=v.distanceTo([0,0]),A=Math.min(w.inertiaMaxSpeed,D),z=v.multiplyBy(A/D),o=A/(w.inertiaDeceleration*x),C=z.multiplyBy(-o/2).round();C.x&&C.y?(C=y._limitOffset(C,y.options.maxBounds),j.Util.requestAnimFrame(function(){y.panBy(C,{duration:o,easeLinearity:x,noMoveStart:!0})})):y.fire("moveend")}}}),j.Map.addInitHook("addHandler","dragging",j.Map.Drag),j.Map.mergeOptions({doubleClickZoom:!0}),j.Map.DoubleClickZoom=j.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(l){var m=this._map,a=m.getZoom()+(l.originalEvent.shiftKey?-1:1);"center"===m.options.doubleClickZoom?m.setZoom(a):m.setZoomAround(l.containerPoint,a)}}),j.Map.addInitHook("addHandler","doubleClickZoom",j.Map.DoubleClickZoom),j.Map.mergeOptions({scrollWheelZoom:!0}),j.Map.ScrollWheelZoom=j.Handler.extend({addHooks:function(){j.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this),j.DomEvent.on(this._map._container,"MozMousePixelScroll",j.DomEvent.preventDefault),this._delta=0},removeHooks:function(){j.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll),j.DomEvent.off(this._map._container,"MozMousePixelScroll",j.DomEvent.preventDefault)},_onWheelScroll:function(l){var m=j.DomEvent.getWheelDelta(l);this._delta+=m,this._lastMousePos=this._map.mouseEventToContainerPoint(l),this._startTime||(this._startTime=+new Date);var a=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(j.bind(this._performZoom,this),a),j.DomEvent.preventDefault(l),j.DomEvent.stopPropagation(l)},_performZoom:function(){var l=this._map,m=this._delta,a=l.getZoom();m=m>0?Math.ceil(m):Math.floor(m),m=Math.max(Math.min(m,4),-4),m=l._limitZoom(a+m)-a,this._delta=0,this._startTime=null,m&&("center"===l.options.scrollWheelZoom?l.setZoom(a+m):l.setZoomAround(this._lastMousePos,a+m))}}),j.Map.addInitHook("addHandler","scrollWheelZoom",j.Map.ScrollWheelZoom),j.extend(j.DomEvent,{_touchstart:j.Browser.msPointer?"MSPointerDown":j.Browser.pointer?"pointerdown":"touchstart",_touchend:j.Browser.msPointer?"MSPointerUp":j.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(F,y,v){function G(l){var m;if(j.Browser.pointer?(D.push(l.pointerId),m=D.length):m=l.touches.length,!(m>1)){var a=Date.now(),p=a-(o||a);z=l.touches?l.touches[0]:l,x=p>0&&E>=p,o=a}}function C(m){if(j.Browser.pointer){var r=D.indexOf(m.pointerId);if(-1===r){return}D.splice(r,1)}if(x){if(j.Browser.pointer){var H,p={};for(var l in z){H=z[l],p[l]="function"==typeof H?H.bind(z):H}z=p}z.type="dblclick",y(z),o=null}}var o,z,x=!1,E=250,B="_leaflet_",A=this._touchstart,q=this._touchend,D=[];F[B+A+v]=G,F[B+q+v]=C;var w=j.Browser.pointer?h.documentElement:F;return F.addEventListener(A,G,!1),w.addEventListener(q,C,!1),j.Browser.pointer&&w.addEventListener(j.DomEvent.POINTER_CANCEL,C,!1),this},removeDoubleTapListener:function(l,a){var m="_leaflet_";return l.removeEventListener(this._touchstart,l[m+this._touchstart+a],!1),(j.Browser.pointer?h.documentElement:l).removeEventListener(this._touchend,l[m+this._touchend+a],!1),j.Browser.pointer&&h.documentElement.removeEventListener(j.DomEvent.POINTER_CANCEL,l[m+this._touchend+a],!1),this}}),j.extend(j.DomEvent,{POINTER_DOWN:j.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:j.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:j.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:j.Browser.msPointer?"MSPointerCancel":"pointercancel",_pointers:[],_pointerDocumentListener:!1,addPointerListener:function(l,m,a,o){switch(m){case"touchstart":return this.addPointerListenerStart(l,m,a,o);case"touchend":return this.addPointerListenerEnd(l,m,a,o);case"touchmove":return this.addPointerListenerMove(l,m,a,o);default:throw"Unknown touch event type"}},addPointerListenerStart:function(q,p,y,w){var o="_leaflet_",x=this._pointers,v=function(l){j.DomEvent.preventDefault(l);for(var n=!1,a=0;a<x.length;a++){if(x[a].pointerId===l.pointerId){n=!0;break}}n||x.push(l),l.touches=x.slice(),l.changedTouches=[l],y(l)};if(q[o+"touchstart"+w]=v,q.addEventListener(this.POINTER_DOWN,v,!1),!this._pointerDocumentListener){var m=function(a){for(var l=0;l<x.length;l++){if(x[l].pointerId===a.pointerId){x.splice(l,1);break}}};h.documentElement.addEventListener(this.POINTER_UP,m,!1),h.documentElement.addEventListener(this.POINTER_CANCEL,m,!1),this._pointerDocumentListener=!0}return this},addPointerListenerMove:function(p,r,m,w){function v(a){if(a.pointerType!==a.MSPOINTER_TYPE_MOUSE&&"mouse"!==a.pointerType||0!==a.buttons){for(var n=0;n<l.length;n++){if(l[n].pointerId===a.pointerId){l[n]=a;break}}a.touches=l.slice(),a.changedTouches=[a],m(a)}}var q="_leaflet_",l=this._pointers;return p[q+"touchmove"+w]=v,p.addEventListener(this.POINTER_MOVE,v,!1),this},addPointerListenerEnd:function(p,r,m,w){var v="_leaflet_",q=this._pointers,l=function(a){for(var n=0;n<q.length;n++){if(q[n].pointerId===a.pointerId){q.splice(n,1);break}}a.touches=q.slice(),a.changedTouches=[a],m(a)};return p[v+"touchend"+w]=l,p.addEventListener(this.POINTER_UP,l,!1),p.addEventListener(this.POINTER_CANCEL,l,!1),this},removePointerListener:function(l,m,a){var q="_leaflet_",p=l[q+m+a];switch(m){case"touchstart":l.removeEventListener(this.POINTER_DOWN,p,!1);break;case"touchmove":l.removeEventListener(this.POINTER_MOVE,p,!1);break;case"touchend":l.removeEventListener(this.POINTER_UP,p,!1),l.removeEventListener(this.POINTER_CANCEL,p,!1)}return this}}),j.Map.mergeOptions({touchZoom:j.Browser.touch&&!j.Browser.android23,bounceAtZoomLimits:!0}),j.Map.TouchZoom=j.Handler.extend({addHooks:function(){j.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){j.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(o){var m=this._map;if(o.touches&&2===o.touches.length&&!m._animatingZoom&&!this._zooming){var q=m.mouseEventToLayerPoint(o.touches[0]),p=m.mouseEventToLayerPoint(o.touches[1]),l=m._getCenterLayerPoint();this._startCenter=q.add(p)._divideBy(2),this._startDist=q.distanceTo(p),this._moved=!1,this._zooming=!0,this._centerOffset=l.subtract(this._startCenter),m._panAnim&&m._panAnim.stop(),j.DomEvent.on(h,"touchmove",this._onTouchMove,this).on(h,"touchend",this._onTouchEnd,this),j.DomEvent.preventDefault(o)}},_onTouchMove:function(l){var m=this._map;if(l.touches&&2===l.touches.length&&this._zooming){var a=m.mouseEventToLayerPoint(l.touches[0]),o=m.mouseEventToLayerPoint(l.touches[1]);this._scale=a.distanceTo(o)/this._startDist,this._delta=a._add(o)._divideBy(2)._subtract(this._startCenter),1!==this._scale&&(m.options.bounceAtZoomLimits||!(m.getZoom()===m.getMinZoom()&&this._scale<1||m.getZoom()===m.getMaxZoom()&&this._scale>1))&&(this._moved||(j.DomUtil.addClass(m._mapPane,"leaflet-touching"),m.fire("movestart").fire("zoomstart"),this._moved=!0),j.Util.cancelAnimFrame(this._animRequest),this._animRequest=j.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),j.DomEvent.preventDefault(l))}},_updateOnMove:function(){var l=this._map,m=this._getScaleOrigin(),a=l.layerPointToLatLng(m),o=l.getScaleZoom(this._scale);l._animateZoom(a,o,this._startCenter,this._scale,this._delta)},_onTouchEnd:function(){if(!this._moved||!this._zooming){return this._zooming=!1,void 0}var q=this._map;this._zooming=!1,j.DomUtil.removeClass(q._mapPane,"leaflet-touching"),j.Util.cancelAnimFrame(this._animRequest),j.DomEvent.off(h,"touchmove",this._onTouchMove).off(h,"touchend",this._onTouchEnd);var p=this._getScaleOrigin(),y=q.layerPointToLatLng(p),w=q.getZoom(),o=q.getScaleZoom(this._scale)-w,x=o>0?Math.ceil(o):Math.floor(o),v=q._limitZoom(w+x),m=q.getZoomScale(v)/this._scale;q._animateZoom(y,v,p,m)},_getScaleOrigin:function(){var a=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(a)}}),j.Map.addInitHook("addHandler","touchZoom",j.Map.TouchZoom),j.Map.mergeOptions({tap:!0,tapTolerance:15}),j.Map.Tap=j.Handler.extend({addHooks:function(){j.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){j.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(l){if(l.touches){if(j.DomEvent.preventDefault(l),this._fireClick=!0,l.touches.length>1){return this._fireClick=!1,clearTimeout(this._holdTimeout),void 0}var a=l.touches[0],m=a.target;this._startPos=this._newPos=new j.Point(a.clientX,a.clientY),m.tagName&&"a"===m.tagName.toLowerCase()&&j.DomUtil.addClass(m,"leaflet-active"),this._holdTimeout=setTimeout(j.bind(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",a))},this),1000),j.DomEvent.on(h,"touchmove",this._onMove,this).on(h,"touchend",this._onUp,this)}},_onUp:function(l){if(clearTimeout(this._holdTimeout),j.DomEvent.off(h,"touchmove",this._onMove,this).off(h,"touchend",this._onUp,this),this._fireClick&&l&&l.changedTouches){var a=l.changedTouches[0],m=a.target;m&&m.tagName&&"a"===m.tagName.toLowerCase()&&j.DomUtil.removeClass(m,"leaflet-active"),this._isTapValid()&&this._simulateEvent("click",a)}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(a){var l=a.touches[0];this._newPos=new j.Point(l.clientX,l.clientY)},_simulateEvent:function(a,m){var l=h.createEvent("MouseEvents");l._simulated=!0,m.target._simulatedClick=!0,l.initMouseEvent(a,!0,!0,d,1,m.screenX,m.screenY,m.clientX,m.clientY,!1,!1,!1,!1,0,null),m.target.dispatchEvent(l)}}),j.Browser.touch&&!j.Browser.pointer&&j.Map.addInitHook("addHandler","tap",j.Map.Tap),j.Map.mergeOptions({boxZoom:!0}),j.Map.BoxZoom=j.Handler.extend({initialize:function(a){this._map=a,this._container=a._container,this._pane=a._panes.overlayPane,this._moved=!1},addHooks:function(){j.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){j.DomEvent.off(this._container,"mousedown",this._onMouseDown),this._moved=!1},moved:function(){return this._moved},_onMouseDown:function(a){return this._moved=!1,!a.shiftKey||1!==a.which&&1!==a.button?!1:(j.DomUtil.disableTextSelection(),j.DomUtil.disableImageDrag(),this._startLayerPoint=this._map.mouseEventToLayerPoint(a),j.DomEvent.on(h,"mousemove",this._onMouseMove,this).on(h,"mouseup",this._onMouseUp,this).on(h,"keydown",this._onKeyDown,this),void 0)},_onMouseMove:function(o){this._moved||(this._box=j.DomUtil.create("div","leaflet-zoom-box",this._pane),j.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor="crosshair",this._map.fire("boxzoomstart"));var q=this._startLayerPoint,m=this._box,r=this._map.mouseEventToLayerPoint(o),p=r.subtract(q),l=new j.Point(Math.min(r.x,q.x),Math.min(r.y,q.y));j.DomUtil.setPosition(m,l),this._moved=!0,m.style.width=Math.max(0,Math.abs(p.x)-4)+"px",m.style.height=Math.max(0,Math.abs(p.y)-4)+"px"},_finish:function(){this._moved&&(this._pane.removeChild(this._box),this._container.style.cursor=""),j.DomUtil.enableTextSelection(),j.DomUtil.enableImageDrag(),j.DomEvent.off(h,"mousemove",this._onMouseMove).off(h,"mouseup",this._onMouseUp).off(h,"keydown",this._onKeyDown)},_onMouseUp:function(l){this._finish();var m=this._map,a=m.mouseEventToLayerPoint(l);if(!this._startLayerPoint.equals(a)){var o=new j.LatLngBounds(m.layerPointToLatLng(this._startLayerPoint),m.layerPointToLatLng(a));m.fitBounds(o),m.fire("boxzoomend",{boxZoomBounds:o})}},_onKeyDown:function(a){27===a.keyCode&&this._finish()}}),j.Map.addInitHook("addHandler","boxZoom",j.Map.BoxZoom),j.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),j.Map.Keyboard=j.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,173]},initialize:function(a){this._map=a,this._setPanOffset(a.options.keyboardPanOffset),this._setZoomOffset(a.options.keyboardZoomOffset)},addHooks:function(){var a=this._map._container;-1===a.tabIndex&&(a.tabIndex="0"),j.DomEvent.on(a,"focus",this._onFocus,this).on(a,"blur",this._onBlur,this).on(a,"mousedown",this._onMouseDown,this),this._map.on("focus",this._addHooks,this).on("blur",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var a=this._map._container;j.DomEvent.off(a,"focus",this._onFocus,this).off(a,"blur",this._onBlur,this).off(a,"mousedown",this._onMouseDown,this),this._map.off("focus",this._addHooks,this).off("blur",this._removeHooks,this)},_onMouseDown:function(){if(!this._focused){var a=h.body,p=h.documentElement,m=a.scrollTop||p.scrollTop,l=a.scrollLeft||p.scrollLeft;this._map._container.focus(),d.scrollTo(l,m)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanOffset:function(l){var m,a,q=this._panKeys={},p=this.keyCodes;for(m=0,a=p.left.length;a>m;m++){q[p.left[m]]=[-1*l,0]}for(m=0,a=p.right.length;a>m;m++){q[p.right[m]]=[l,0]}for(m=0,a=p.down.length;a>m;m++){q[p.down[m]]=[0,l]}for(m=0,a=p.up.length;a>m;m++){q[p.up[m]]=[0,-1*l]}},_setZoomOffset:function(l){var m,a,q=this._zoomKeys={},p=this.keyCodes;for(m=0,a=p.zoomIn.length;a>m;m++){q[p.zoomIn[m]]=l}for(m=0,a=p.zoomOut.length;a>m;m++){q[p.zoomOut[m]]=-l}},_addHooks:function(){j.DomEvent.on(h,"keydown",this._onKeyDown,this)},_removeHooks:function(){j.DomEvent.off(h,"keydown",this._onKeyDown,this)},_onKeyDown:function(l){var m=l.keyCode,a=this._map;if(m in this._panKeys){if(a._panAnim&&a._panAnim._inProgress){return}a.panBy(this._panKeys[m]),a.options.maxBounds&&a.panInsideBounds(a.options.maxBounds)}else{if(!(m in this._zoomKeys)){return}a.setZoom(a.getZoom()+this._zoomKeys[m])}j.DomEvent.stop(l)}}),j.Map.addInitHook("addHandler","keyboard",j.Map.Keyboard),j.Handler.MarkerDrag=j.Handler.extend({initialize:function(a){this._marker=a},addHooks:function(){var a=this._marker._icon;this._draggable||(this._draggable=new j.Draggable(a,a)),this._draggable.on("dragstart",this._onDragStart,this).on("drag",this._onDrag,this).on("dragend",this._onDragEnd,this),this._draggable.enable(),j.DomUtil.addClass(this._marker._icon,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off("dragstart",this._onDragStart,this).off("drag",this._onDrag,this).off("dragend",this._onDragEnd,this),this._draggable.disable(),j.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(){var l=this._marker,m=l._shadow,a=j.DomUtil.getPosition(l._icon),o=l._map.layerPointToLatLng(a);m&&j.DomUtil.setPosition(m,a),l._latlng=o,l.fire("move",{latlng:o}).fire("drag")},_onDragEnd:function(a){this._marker.fire("moveend").fire("dragend",a)}}),j.Control=j.Class.extend({options:{position:"topright"},initialize:function(a){j.setOptions(this,a)},getPosition:function(){return this.options.position},setPosition:function(a){var l=this._map;return l&&l.removeControl(this),this.options.position=a,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(l){this._map=l;var m=this._container=this.onAdd(l),a=this.getPosition(),o=l._controlCorners[a];return j.DomUtil.addClass(m,"leaflet-control"),-1!==a.indexOf("bottom")?o.insertBefore(m,o.firstChild):o.appendChild(m),this},removeFrom:function(l){var m=this.getPosition(),a=l._controlCorners[m];return a.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(l),this},_refocusOnMap:function(){this._map&&this._map.getContainer().focus()}}),j.control=function(a){return new j.Control(a)},j.Map.include({addControl:function(a){return a.addTo(this),this},removeControl:function(a){return a.removeFrom(this),this},_initControlPos:function(){function l(p,q){var n=a+p+" "+a+q;m[p+q]=j.DomUtil.create("div",n,o)}var m=this._controlCorners={},a="leaflet-",o=this._controlContainer=j.DomUtil.create("div",a+"control-container",this._container);l("top","left"),l("top","right"),l("bottom","left"),l("bottom","right")},_clearControlPos:function(){this._container.removeChild(this._controlContainer)}}),j.Control.Zoom=j.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(l){var m="leaflet-control-zoom",a=j.DomUtil.create("div",m+" leaflet-bar");return this._map=l,this._zoomInButton=this._createButton(this.options.zoomInText,this.options.zoomInTitle,m+"-in",a,this._zoomIn,this),this._zoomOutButton=this._createButton(this.options.zoomOutText,this.options.zoomOutTitle,m+"-out",a,this._zoomOut,this),this._updateDisabled(),l.on("zoomend zoomlevelschange",this._updateDisabled,this),a},onRemove:function(a){a.off("zoomend zoomlevelschange",this._updateDisabled,this)},_zoomIn:function(a){this._map.zoomIn(a.shiftKey?3:1)},_zoomOut:function(a){this._map.zoomOut(a.shiftKey?3:1)},_createButton:function(o,w,m,x,q,l){var v=j.DomUtil.create("a",m,x);v.innerHTML=o,v.href="#",v.title=w;var p=j.DomEvent.stopPropagation;return j.DomEvent.on(v,"click",p).on(v,"mousedown",p).on(v,"dblclick",p).on(v,"click",j.DomEvent.preventDefault).on(v,"click",q,l).on(v,"click",this._refocusOnMap,l),v},_updateDisabled:function(){var a=this._map,l="leaflet-disabled";j.DomUtil.removeClass(this._zoomInButton,l),j.DomUtil.removeClass(this._zoomOutButton,l),a._zoom===a.getMinZoom()&&j.DomUtil.addClass(this._zoomOutButton,l),a._zoom===a.getMaxZoom()&&j.DomUtil.addClass(this._zoomInButton,l)}}),j.Map.mergeOptions({zoomControl:!0}),j.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new j.Control.Zoom,this.addControl(this.zoomControl))}),j.control.zoom=function(a){return new j.Control.Zoom(a)},j.Control.Attribution=j.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(a){j.setOptions(this,a),this._attributions={}},onAdd:function(a){this._container=j.DomUtil.create("div","leaflet-control-attribution"),j.DomEvent.disableClickPropagation(this._container);for(var l in a._layers){a._layers[l].getAttribution&&this.addAttribution(a._layers[l].getAttribution())}return a.on("layeradd",this._onLayerAdd,this).on("layerremove",this._onLayerRemove,this),this._update(),this._container},onRemove:function(a){a.off("layeradd",this._onLayerAdd).off("layerremove",this._onLayerRemove)},setPrefix:function(a){return this.options.prefix=a,this._update(),this},addAttribution:function(a){return a?(this._attributions[a]||(this._attributions[a]=0),this._attributions[a]++,this._update(),this):void 0},removeAttribution:function(a){return a?(this._attributions[a]&&(this._attributions[a]--,this._update()),this):void 0},_update:function(){if(this._map){var l=[];for(var m in this._attributions){this._attributions[m]&&l.push(m)}var a=[];this.options.prefix&&a.push(this.options.prefix),l.length&&a.push(l.join(", ")),this._container.innerHTML=a.join(" | ")}},_onLayerAdd:function(a){a.layer.getAttribution&&this.addAttribution(a.layer.getAttribution())},_onLayerRemove:function(a){a.layer.getAttribution&&this.removeAttribution(a.layer.getAttribution())}}),j.Map.mergeOptions({attributionControl:!0}),j.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new j.Control.Attribution).addTo(this))}),j.control.attribution=function(a){return new j.Control.Attribution(a)},j.Control.Scale=j.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(l){this._map=l;var m="leaflet-control-scale",a=j.DomUtil.create("div",m),o=this.options;return this._addScales(o,m,a),l.on(o.updateWhenIdle?"moveend":"move",this._update,this),l.whenReady(this._update,this),a},onRemove:function(a){a.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(l,m,a){l.metric&&(this._mScale=j.DomUtil.create("div",m+"-line",a)),l.imperial&&(this._iScale=j.DomUtil.create("div",m+"-line",a))},_update:function(){var p=this._map.getBounds(),r=p.getCenter().lat,m=6378137*Math.PI*Math.cos(r*Math.PI/180),w=m*(p.getNorthEast().lng-p.getSouthWest().lng)/180,v=this._map.getSize(),q=this.options,l=0;v.x>0&&(l=w*(q.maxWidth/v.x)),this._updateScales(q,l)},_updateScales:function(a,l){a.metric&&l&&this._updateMetric(l),a.imperial&&l&&this._updateImperial(l)},_updateMetric:function(a){var l=this._getRoundNum(a);this._mScale.style.width=this._getScaleWidth(l/a)+"px",this._mScale.innerHTML=1000>l?l+" m":l/1000+" km"},_updateImperial:function(l){var p,a,r,q=3.2808399*l,m=this._iScale;q>5280?(p=q/5280,a=this._getRoundNum(p),m.style.width=this._getScaleWidth(a/p)+"px",m.innerHTML=a+" mi"):(r=this._getRoundNum(q),m.style.width=this._getScaleWidth(r/q)+"px",m.innerHTML=r+" ft")},_getScaleWidth:function(a){return Math.round(this.options.maxWidth*a)-10},_getRoundNum:function(l){var m=Math.pow(10,(Math.floor(l)+"").length-1),a=l/m;return a=a>=10?10:a>=5?5:a>=3?3:a>=2?2:1,m*a}}),j.control.scale=function(a){return new j.Control.Scale(a)},j.Control.Layers=j.Control.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0},initialize:function(l,m,a){j.setOptions(this,a),this._layers={},this._lastZIndex=0,this._handlingClick=!1;for(var o in l){this._addLayer(l[o],o)}for(o in m){this._addLayer(m[o],o,!0)}},onAdd:function(a){return this._initLayout(),this._update(),a.on("layeradd",this._onLayerChange,this).on("layerremove",this._onLayerChange,this),this._container},onRemove:function(a){a.off("layeradd",this._onLayerChange).off("layerremove",this._onLayerChange)},addBaseLayer:function(a,l){return this._addLayer(a,l),this._update(),this},addOverlay:function(a,l){return this._addLayer(a,l,!0),this._update(),this},removeLayer:function(a){var l=j.stamp(a);return delete this._layers[l],this._update(),this},_initLayout:function(){var l="leaflet-control-layers",m=this._container=j.DomUtil.create("div",l);m.setAttribute("aria-haspopup",!0),j.Browser.touch?j.DomEvent.on(m,"click",j.DomEvent.stopPropagation):j.DomEvent.disableClickPropagation(m).disableScrollPropagation(m);var a=this._form=j.DomUtil.create("form",l+"-list");if(this.options.collapsed){j.Browser.android||j.DomEvent.on(m,"mouseover",this._expand,this).on(m,"mouseout",this._collapse,this);var o=this._layersLink=j.DomUtil.create("a",l+"-toggle",m);o.href="#",o.title="Layers",j.Browser.touch?j.DomEvent.on(o,"click",j.DomEvent.stop).on(o,"click",this._expand,this):j.DomEvent.on(o,"focus",this._expand,this),j.DomEvent.on(a,"click",function(){setTimeout(j.bind(this._onInputClick,this),0)},this),this._map.on("click",this._collapse,this)}else{this._expand()}this._baseLayersList=j.DomUtil.create("div",l+"-base",a),this._separator=j.DomUtil.create("div",l+"-separator",a),this._overlaysList=j.DomUtil.create("div",l+"-overlays",a),m.appendChild(a)},_addLayer:function(l,m,a){var o=j.stamp(l);this._layers[o]={layer:l,name:m,overlay:a},this.options.autoZIndex&&l.setZIndex&&(this._lastZIndex++,l.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML="",this._overlaysList.innerHTML="";var l,m,a=!1,o=!1;for(l in this._layers){m=this._layers[l],this._addItem(m),o=o||m.overlay,a=a||!m.overlay}this._separator.style.display=o&&a?"":"none"}},_onLayerChange:function(l){var m=this._layers[j.stamp(l.layer)];if(m){this._handlingClick||this._update();var a=m.overlay?"layeradd"===l.type?"overlayadd":"overlayremove":"layeradd"===l.type?"baselayerchange":null;a&&this._map.fire(a,m)}},_createRadioElement:function(l,a){var p='<input type="radio" class="leaflet-control-layers-selector" name="'+l+'"';a&&(p+=' checked="checked"'),p+="/>";var m=h.createElement("div");return m.innerHTML=p,m.firstChild},_addItem:function(o){var m,v=h.createElement("label"),p=this._map.hasLayer(o.layer);o.overlay?(m=h.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=p):m=this._createRadioElement("leaflet-base-layers",p),m.layerId=j.stamp(o.layer),j.DomEvent.on(m,"click",this._onInputClick,this);var l=h.createElement("span");l.innerHTML=" "+o.name,v.appendChild(m),v.appendChild(l);var q=o.overlay?this._overlaysList:this._baseLayersList;return q.appendChild(v),v},_onInputClick:function(){var l,m,a,q=this._form.getElementsByTagName("input"),p=q.length;for(this._handlingClick=!0,l=0;p>l;l++){m=q[l],a=this._layers[m.layerId],m.checked&&!this._map.hasLayer(a.layer)?this._map.addLayer(a.layer):!m.checked&&this._map.hasLayer(a.layer)&&this._map.removeLayer(a.layer)}this._handlingClick=!1,this._refocusOnMap()},_expand:function(){j.DomUtil.addClass(this._container,"leaflet-control-layers-expanded")},_collapse:function(){this._container.className=this._container.className.replace(" leaflet-control-layers-expanded","")}}),j.control.layers=function(l,m,a){return new j.Control.Layers(l,m,a)},j.PosAnimation=j.Class.extend({includes:j.Mixin.Events,run:function(l,m,a,o){this.stop(),this._el=l,this._inProgress=!0,this._newPos=m,this.fire("start"),l.style[j.DomUtil.TRANSITION]="all "+(a||0.25)+"s cubic-bezier(0,0,"+(o||0.5)+",1)",j.DomEvent.on(l,j.DomUtil.TRANSITION_END,this._onTransitionEnd,this),j.DomUtil.setPosition(l,m),j.Util.falseFn(l.offsetWidth),this._stepTimer=setInterval(j.bind(this._onStep,this),50)},stop:function(){this._inProgress&&(j.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),j.Util.falseFn(this._el.offsetWidth))},_onStep:function(){var a=this._getPos();return a?(this._el._leaflet_pos=a,this.fire("step"),void 0):(this._onTransitionEnd(),void 0)},_transformRe:/([-+]?(?:\d*\.)?\d+)\D*, ([-+]?(?:\d*\.)?\d+)\D*\)/,_getPos:function(){var p,m,q,o=this._el,l=d.getComputedStyle(o);if(j.Browser.any3d){if(q=l[j.DomUtil.TRANSFORM].match(this._transformRe),!q){return}p=parseFloat(q[1]),m=parseFloat(q[2])}else{p=parseFloat(l.left),m=parseFloat(l.top)}return new j.Point(p,m,!0)},_onTransitionEnd:function(){j.DomEvent.off(this._el,j.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[j.DomUtil.TRANSITION]="",this._el._leaflet_pos=this._newPos,clearInterval(this._stepTimer),this.fire("step").fire("end"))}}),j.Map.include({setView:function(a,m,o){if(m=m===c?this._zoom:this._limitZoom(m),a=this._limitCenter(j.latLng(a),m,this.options.maxBounds),o=o||{},this._panAnim&&this._panAnim.stop(),this._loaded&&!o.reset&&o!==!0){o.animate!==c&&(o.zoom=j.extend({animate:o.animate},o.zoom),o.pan=j.extend({animate:o.animate},o.pan));var l=this._zoom!==m?this._tryAnimatedZoom&&this._tryAnimatedZoom(a,m,o.zoom):this._tryAnimatedPan(a,o.pan);if(l){return clearTimeout(this._sizeTimer),this}}return this._resetView(a,m),this},panBy:function(l,m){if(l=j.point(l).round(),m=m||{},!l.x&&!l.y){return this}if(this._panAnim||(this._panAnim=new j.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),m.noMoveStart||this.fire("movestart"),m.animate!==!1){j.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var a=this._getMapPanePos().subtract(l);this._panAnim.run(this._mapPane,a,m.duration||0.25,m.easeLinearity)}else{this._rawPanBy(l),this.fire("move").fire("moveend")}return this},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){j.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(l,m){var a=this._getCenterOffset(l)._floor();return(m&&m.animate)===!0||this.getSize().contains(a)?(this.panBy(a,m),!0):!1}}),j.PosAnimation=j.DomUtil.TRANSITION?j.PosAnimation:j.PosAnimation.extend({run:function(l,m,a,o){this.stop(),this._el=l,this._inProgress=!0,this._duration=a||0.25,this._easeOutPower=1/Math.max(o||0.5,0.2),this._startPos=j.DomUtil.getPosition(l),this._offset=m.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=j.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var a=+new Date-this._startTime,l=1000*this._duration;l>a?this._runFrame(this._easeOut(a/l)):(this._runFrame(1),this._complete())},_runFrame:function(a){var l=this._startPos.add(this._offset.multiplyBy(a));j.DomUtil.setPosition(this._el,l),this.fire("step")},_complete:function(){j.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(a){return 1-Math.pow(1-a,this._easeOutPower)}}),j.Map.mergeOptions({zoomAnimation:!0,zoomAnimationThreshold:4}),j.DomUtil.TRANSITION&&j.Map.addInitHook(function(){this._zoomAnimated=this.options.zoomAnimation&&j.DomUtil.TRANSITION&&j.Browser.any3d&&!j.Browser.android23&&!j.Browser.mobileOpera,this._zoomAnimated&&j.DomEvent.on(this._mapPane,j.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),j.Map.include(j.DomUtil.TRANSITION?{_catchTransitionEnd:function(a){this._animatingZoom&&a.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return !this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(l,p,a){if(this._animatingZoom){return !0}if(a=a||{},!this._zoomAnimated||a.animate===!1||this._nothingToAnimate()||Math.abs(p-this._zoom)>this.options.zoomAnimationThreshold){return !1}var r=this.getZoomScale(p),q=this._getCenterOffset(l)._divideBy(1-1/r),m=this._getCenterLayerPoint()._add(q);return a.animate===!0||this.getSize().contains(q)?(this.fire("movestart").fire("zoomstart"),this._animateZoom(l,p,m,r,null,!0),!0):!1},_animateZoom:function(o,q,m,r,p,l){this._animatingZoom=!0,j.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim"),this._animateToCenter=o,this._animateToZoom=q,j.Draggable&&(j.Draggable._disabled=!0),this.fire("zoomanim",{center:o,zoom:q,origin:m,scale:r,delta:p,backwards:l})},_onZoomTransitionEnd:function(){this._animatingZoom=!1,j.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim"),this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),j.Draggable&&(j.Draggable._disabled=!1)}}:{}),j.TileLayer.include({_animateZoom:function(l){this._animating||(this._animating=!0,this._prepareBgBuffer());var o=this._bgBuffer,a=j.DomUtil.TRANSFORM,p=l.delta?j.DomUtil.getTranslateString(l.delta):o.style[a],m=j.DomUtil.getScaleString(l.scale,l.origin);o.style[a]=l.backwards?m+" "+p:p+" "+m},_endZoomAnim:function(){var a=this._tileContainer,l=this._bgBuffer;a.style.visibility="",a.parentNode.appendChild(a),j.Util.falseFn(l.offsetWidth),this._animating=!1},_clearBgBuffer:function(){var a=this._map;!a||a._animatingZoom||a.touchZoom._zooming||(this._bgBuffer.innerHTML="",this._bgBuffer.style[j.DomUtil.TRANSFORM]="")},_prepareBgBuffer:function(){var l=this._tileContainer,m=this._bgBuffer,a=this._getLoadedTilesPercentage(m),o=this._getLoadedTilesPercentage(l);return m&&a>0.5&&0.5>o?(l.style.visibility="hidden",this._stopLoadingImages(l),void 0):(m.style.visibility="hidden",m.style[j.DomUtil.TRANSFORM]="",this._tileContainer=m,m=this._bgBuffer=l,this._stopLoadingImages(m),clearTimeout(this._clearBgBufferTimer),void 0)},_getLoadedTilesPercentage:function(l){var m,a,q=l.getElementsByTagName("img"),p=0;for(m=0,a=q.length;a>m;m++){q[m].complete&&p++}return p/a},_stopLoadingImages:function(l){var o,a,p,m=Array.prototype.slice.call(l.getElementsByTagName("img"));for(o=0,a=m.length;a>o;o++){p=m[o],p.complete||(p.onload=j.Util.falseFn,p.onerror=j.Util.falseFn,p.src=j.Util.emptyImageUrl,p.parentNode.removeChild(p))}}}),j.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:10000,maximumAge:0,enableHighAccuracy:!1},locate:function(l){if(l=this._locateOptions=j.extend(this._defaultLocateOptions,l),!navigator.geolocation){return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this}var m=j.bind(this._handleGeolocationResponse,this),a=j.bind(this._handleGeolocationError,this);return l.watch?this._locationWatchId=navigator.geolocation.watchPosition(m,a,l):navigator.geolocation.getCurrentPosition(m,a,l),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(l){var m=l.code,a=l.message||(1===m?"permission denied":2===m?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:m,message:"Geolocation error: "+a+"."})},_handleGeolocationResponse:function(A){var w=A.coords.latitude,q=A.coords.longitude,o=new j.LatLng(w,q),B=180*A.coords.accuracy/40075017,y=B/Math.cos(j.LatLng.DEG_TO_RAD*w),m=j.latLngBounds([w-B,q-y],[w+B,q+y]),v=this._locateOptions;if(v.setView){var p=Math.min(this.getBoundsZoom(m),v.maxZoom);this.setView(o,p)}var z={latlng:o,bounds:m,timestamp:A.timestamp};for(var x in A.coords){"number"==typeof A.coords[x]&&(z[x]=A.coords[x])}this.fire("locationfound",z)}})}(window,document);function adview_save_ad(b,j,a,g){var d="watch_ads";var c=d+"=";var h="";if(document.cookie.length>0){var k=document.cookie.indexOf(c);if(k==-1){set_watch_ads_creation_cookie(d,b,j)}else{if(append_watch_ads_creation_cookie(k,d,b,j)==false){adview_watch_ads_display_msg(max_watch_ads_error_msg,"",a);return}}}else{set_watch_ads_creation_cookie(d,b,j)}if(typeof(utag_data.pagetype)!="undefined"){if(utag_data.pagetype=="adview"){xt_click(this,"C","0","sauvegarder_v2","N")}else{xt_med("F","2","ad_view::sauvegarde::confirmation")}}}function set_watch_ads_creation_cookie(b,a,c){cookieDefault.addCookie(b,a,"180",c)}function append_watch_ads_creation_cookie(j,b,a,h){j=j+b.length+1;c_end=document.cookie.indexOf(";",j);if(c_end==-1){c_end=document.cookie.length}var g=document.cookie.substring(j,c_end);var d=g.split(",");if(max_watch_ads<=d.length){return false}for(var c=0;c<d.length;++c){if(d[c].match(a)){return true}}d.push(a);g=d.join(",");deleteCookie(b,"/","");set_watch_ads_creation_cookie(b,g,h);return true}function adview_watch_ads_display_msg(d,a,c){var g=document.getElementById("ad_saved");var b=document.getElementById("ad_saved_msg");name=navigator.appName;if(name=="Microsoft Internet Explorer"){g.style.setAttribute("cssText","color: black;display: block;border:1px solid black")}else{g.setAttribute("style","display: block;")}b.innerHTML=d+' <a href="'+c+'">'+a+"</a>"}function setFocus(a,b){if(b){resetInput(b)}if(document.getElementById(a)){document.getElementById(a).focus()}}function cnilPopup(d,c,a){var h=window.screenX+(screen.width/2)-(c/2);var g=(screen.height/2)-(a/2);var b="status=no,height="+a+",width="+c+",resizable=yes,left="+h+",top="+g+",toolbar=no,menubar=no,scrollbars=no,location=no,directories=no";u=d.href;t=document.title;window.open(u,"InfosCNIL",b);return false}function deleteCookie(a,c,b){document.cookie=a+"="+((c)?";path="+c:"")+((b)?";domain="+b:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT"}var PricingGrid=function(a,c,b){this.part="perso";this.pro="pro";this.aUserType={0:this.part,1:this.pro};this.userType=this.aUserType[b];this.oPrices=new Pricing(a,c,this.userType);this.table=$("#prices_div");this.pricesNotice=$("#prices_notice_div");this.galeriesTitle=$("#galeries");this.packBoosterElts=this.table.find("tr").filter(function(){return this.id.match(/(pack_)?booster/)});this.catNotForPro=[11,17,22,35,36,38,42,43,47,53,65];this.catImmo=[9,10,11,13];this.catHolidays=[12,67,68,69,70];this.catWithoutBooster=this.catHolidays.concat(this.catImmo);this.row={newad:"newad_price",top_list:"top_list_price",daily_bump:"daily_bump_price",daily_bump30:"daily_bump30_price",sub_toplist:"sub_toplist_price",gallery:"gallery_price",gallery30:"gallery30_price",urgent:"urgent_price",photosup:"photosup_price",ldv:"ldv_price",edit:"edit_price",booster_v1_1m:["booster_1m_step1_price","booster_1m_step2_price","booster_1m_step3_price","booster_1m_step4_price"],booster_v1_3m:["booster_3m_step1_price","booster_3m_step2_price","booster_3m_step3_price","booster_3m_step4_price"],}};PricingGrid.prototype.show=function(a){var b=this;this.oPrices.getPrices(function(d){try{var c=d;if(!c){throw new Error("show() - No data received")}b.displayGrid(c,b.userType,a)}catch(g){b.oPrices.handleError(g)}})};PricingGrid.prototype.displayNotice=function(b,a){if(-1!=$.inArray(parseInt(a,10),this.catNotForPro)){this.pricesNotice.show();this.table.hide()}else{this.pricesNotice.hide()}};PricingGrid.prototype.insertPackBoosterPrices=function(a,b,d,c){var g=this;if(-1==$.inArray(parseInt(d,10),this.catWithoutBooster)){$.each(a,function(h,j){elt=$("#"+j);ttc=g.oPrices.formatPrice(b[c]["step_"+(h+1)].TTC);g.insertText(elt.find("td.price-ttc .value"),ttc)});this.packBoosterElts.show()}else{this.packBoosterElts.hide()}};PricingGrid.prototype.insertAdPrices=function(h,c,g){var a=$("#"+h);if(a===null){return true}if(typeof c=="undefined"){a.hide();return true}var d=this.oPrices.formatPrice(c.TTC);var b=this.oPrices.formatPrice(c.HT);if(false===d){return true}this.insertText(a.find("td.price-ttc .value"),d);if(g==this.pro){this.insertText(a.find("td.price-ht .value"),b)}a.show()};PricingGrid.prototype.displayGrid=function(c,d,b){var a=null;var g=this;if(d===this.pro){this.displayNotice(d,b);this.packBoosterElts.hide()}dataCat=c["cat_"+b];if(typeof dataCat=="undefined"){this.table.slideUp();return false}$.each(this.row,function(k,j){var h=null;if(d==g.part&&k.indexOf("booster")!=-1){g.insertPackBoosterPrices(j,c,b,k);return true}g.insertAdPrices(j,dataCat[k],d)});if(dataCat.gallery==undefined&&dataCat.gallery30==undefined){this.galeriesTitle.hide()}else{this.galeriesTitle.show()}this.table.slideDown("fast")};PricingGrid.prototype.insertText=function(a,b){a.html(b+" &euro;")};$(function(){$(".logout-action").on("click",function(b){if(!Modernizr.localstorage){return}for(var a in localStorage){if(!localStorage.hasOwnProperty(a)){continue}if(a.match(/^cache:/)){localStorage.removeItem(a)}}})});